003</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#define AR_FAILED       0x80    // Alocation Failed</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">// RX FIFO Ports Register</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">/* BANK 2 */</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#define RXFIFO_REG      0x0004  // Must be read as a word</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#define RXFIFO_REMPTY   0x8000  // RX FIFO Empty</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">// TX FIFO Ports Register</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">/* BANK 2 */</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#define TXFIFO_REG      RXFIFO_REG      // Must be read as a word</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="preprocessor">#define TXFIFO_TEMPTY   0x80    // TX FIFO Empty</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">// Pointer Register</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">/* BANK 2 */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#define PTR_REG         0x0006</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="preprocessor">#define PTR_RCV         0x8000 // 1=Receive area, 0=Transmit area</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#define PTR_AUTOINC     0x4000 // Auto increment the pointer on each access</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor">#define PTR_READ        0x2000 // When 1 the operation is a read</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// Data Register</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">/* BANK 2 */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor">#define DATA_REG        0x0008</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">// Interrupt Status/Acknowledge Register</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">/* BANK 2 */</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="preprocessor">#define INT_REG         0x000C</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">// Interrupt Mask Register</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">/* BANK 2 */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="preprocessor">#define IM_REG          0x000D</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="preprocessor">#define IM_MDINT        0x80 // PHY MI Register 18 Interrupt</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#define IM_ERCV_INT     0x40 // Early Receive Interrupt</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">#define IM_EPH_INT      0x20 // Set by Etheret Protocol Handler section</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="preprocessor">#define IM_RX_OVRN_INT  0x10 // Set by Receiver Overruns</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#define IM_ALLOC_INT    0x08 // Set when allocation request is completed</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="preprocessor">#define IM_TX_EMPTY_INT 0x04 // Set if the TX FIFO goes empty</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">#define IM_TX_INT       0x02 // Transmit Interrrupt</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor">#define IM_RCV_INT      0x01 // Receive Interrupt</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">// Multicast Table Registers</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">/* BANK 3 */</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">#define MCAST_REG1      0x0000</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">#define MCAST_REG2      0x0002</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">#define MCAST_REG3      0x0004</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">#define MCAST_REG4      0x0006</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">// Management Interface Register (MII)</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">/* BANK 3 */</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#define MII_REG         0x0008</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">#define MII_MSK_CRS100  0x4000 // Disables CRS100 detection during tx half dup</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#define MII_MDOE        0x0008 // MII Output Enable</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor">#define MII_MCLK        0x0004 // MII Clock, pin MDCLK</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="preprocessor">#define MII_MDI         0x0002 // MII Input, pin MDI</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#define MII_MDO         0x0001 // MII Output, pin MDO</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">// Revision Register</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">/* BANK 3 */</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor">#define REV_REG         0x000A </span><span class="comment">/* ( hi: chip id   low: rev # ) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">// Early RCV Register</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">/* BANK 3 */</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">/* this is NOT on SMC9192 */</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">#define ERCV_REG        0x000C</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="preprocessor">#define ERCV_RCV_DISCRD 0x0080 // When 1 discards a packet being received</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">#define ERCV_THRESHOLD  0x001F // ERCV Threshold Mask</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">// External Register</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">/* BANK 7 */</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="preprocessor">#define EXT_REG         0x0000</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor">#define CHIP_9192       3</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#define CHIP_9194       4</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor">#define CHIP_9195       5</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="preprocessor">#define CHIP_9196       6</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#define CHIP_91100      7</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">#define CHIP_91100FD    8</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">#define CHIP_91111FD    9</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * chip_ids[ 15 ] =  { </div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        NULL, NULL, NULL, </div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">/* 3 */</span> <span class="stringliteral">&quot;SMC91C90/91C92&quot;</span>,</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="comment">/* 4 */</span> <span class="stringliteral">&quot;SMC91C94&quot;</span>,</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="comment">/* 5 */</span> <span class="stringliteral">&quot;SMC91C95&quot;</span>,</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="comment">/* 6 */</span> <span class="stringliteral">&quot;SMC91C96&quot;</span>,</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="comment">/* 7 */</span> <span class="stringliteral">&quot;SMC91C100&quot;</span>, </div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">/* 8 */</span> <span class="stringliteral">&quot;SMC91C100FD&quot;</span>, </div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="comment">/* 9 */</span> <span class="stringliteral">&quot;SMC91C11xFD&quot;</span>, </div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        NULL, NULL, </div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        NULL, NULL, NULL};  </div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">/* </span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> . Transmit status bits </span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor">#define TS_SUCCESS 0x0001</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">#define TS_LOSTCAR 0x0400</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="preprocessor">#define TS_LATCOL  0x0200</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="preprocessor">#define TS_16COL   0x0010</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"> . Receive status bits</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="preprocessor">#define RS_ALGNERR      0x8000</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor">#define RS_BRODCAST     0x4000</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="preprocessor">#define RS_BADCRC       0x2000</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">#define RS_ODDFRAME     0x1000  // bug: the LAN91C111 never sets this on receive</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="preprocessor">#define RS_TOOLONG      0x0800</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">#define RS_TOOSHORT     0x0400</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="preprocessor">#define RS_MULTICAST    0x0001</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">#define RS_ERRORS       (RS_ALGNERR | RS_BADCRC | RS_TOOLONG | RS_TOOSHORT) </span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">// PHY Types</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        PHY_LAN83C183 = 1,      <span class="comment">// LAN91C111 Internal PHY</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        PHY_LAN83C180</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;};</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">// PHY Register Addresses (LAN91C111 Internal PHY)</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">// PHY Control Register</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="preprocessor">#define PHY_CNTL_REG            0x00</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="preprocessor">#define PHY_CNTL_RST            0x8000  // 1=PHY Reset</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">#define PHY_CNTL_LPBK           0x4000  // 1=PHY Loopback</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="preprocessor">#define PHY_CNTL_SPEED          0x2000  // 1=100Mbps, 0=10Mpbs</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="preprocessor">#define PHY_CNTL_ANEG_EN        0x1000 // 1=Enable Auto negotiation</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="preprocessor">#define PHY_CNTL_PDN            0x0800  // 1=PHY Power Down mode</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">#define PHY_CNTL_MII_DIS        0x0400  // 1=MII 4 bit interface disabled</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="preprocessor">#define PHY_CNTL_ANEG_RST       0x0200 // 1=Reset Auto negotiate</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#define PHY_CNTL_DPLX           0x0100  // 1=Full Duplex, 0=Half Duplex</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">#define PHY_CNTL_COLTST         0x0080  // 1= MII Colision Test</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">// PHY Status Register</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="preprocessor">#define PHY_STAT_REG            0x01</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#define PHY_STAT_CAP_T4         0x8000  // 1=100Base-T4 capable</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor">#define PHY_STAT_CAP_TXF        0x4000  // 1=100Base-X full duplex capable</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#define PHY_STAT_CAP_TXH        0x2000  // 1=100Base-X half duplex capable</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="preprocessor">#define PHY_STAT_CAP_TF         0x1000  // 1=10Mbps full duplex capable</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="preprocessor">#define PHY_STAT_CAP_TH         0x0800  // 1=10Mbps half duplex capable</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#define PHY_STAT_CAP_SUPR       0x0040  // 1=recv mgmt frames with not preamble</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="preprocessor">#define PHY_STAT_ANEG_ACK       0x0020  // 1=ANEG has completed</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="preprocessor">#define PHY_STAT_REM_FLT        0x0010  // 1=Remote Fault detected</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="preprocessor">#define PHY_STAT_CAP_ANEG       0x0008  // 1=Auto negotiate capable</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="preprocessor">#define PHY_STAT_LINK           0x0004  // 1=valid link</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor">#define PHY_STAT_JAB            0x0002  // 1=10Mbps jabber condition</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="preprocessor">#define PHY_STAT_EXREG          0x0001  // 1=extended registers implemented</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">// PHY Identifier Registers</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">#define PHY_ID1_REG             0x02    // PHY Identifier 1</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor">#define PHY_ID2_REG             0x03    // PHY Identifier 2</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">// PHY Auto-Negotiation Advertisement Register</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="preprocessor">#define PHY_AD_REG              0x04</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">#define PHY_AD_NP               0x8000  // 1=PHY requests exchange of Next Page</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="preprocessor">#define PHY_AD_ACK              0x4000  // 1=got link code word from remote</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor">#define PHY_AD_RF               0x2000  // 1=advertise remote fault</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="preprocessor">#define PHY_AD_T4               0x0200  // 1=PHY is capable of 100Base-T4</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="preprocessor">#define PHY_AD_TX_FDX           0x0100  // 1=PHY is capable of 100Base-TX FDPLX</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="preprocessor">#define PHY_AD_TX_HDX           0x0080  // 1=PHY is capable of 100Base-TX HDPLX</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="preprocessor">#define PHY_AD_10_FDX           0x0040  // 1=PHY is capable of 10Base-T FDPLX</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="preprocessor">#define PHY_AD_10_HDX           0x0020  // 1=PHY is capable of 10Base-T HDPLX</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="preprocessor">#define PHY_AD_CSMA             0x0001  // 1=PHY is capable of 802.3 CMSA</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">// PHY Auto-negotiation Remote End Capability Register</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor">#define PHY_RMT_REG             0x05</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">// Uses same bit definitions as PHY_AD_REG</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">// PHY Configuration Register 1</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="preprocessor">#define PHY_CFG1_REG            0x10</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="preprocessor">#define PHY_CFG1_LNKDIS         0x8000  // 1=Rx Link Detect Function disabled</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor">#define PHY_CFG1_XMTDIS         0x4000  // 1=TP Transmitter Disabled</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">#define PHY_CFG1_XMTPDN         0x2000  // 1=TP Transmitter Powered Down</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor">#define PHY_CFG1_BYPSCR         0x0400  // 1=Bypass scrambler/descrambler</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">#define PHY_CFG1_UNSCDS         0x0200  // 1=Unscramble Idle Reception Disable</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="preprocessor">#define PHY_CFG1_EQLZR          0x0100  // 1=Rx Equalizer Disabled</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#define PHY_CFG1_CABLE          0x0080  // 1=STP(150ohm), 0=UTP(100ohm)</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="preprocessor">#define PHY_CFG1_RLVL0          0x0040  // 1=Rx Squelch level reduced by 4.5db</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="preprocessor">#define PHY_CFG1_TLVL_SHIFT     2       // Transmit Output Level Adjust</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor">#define PHY_CFG1_TLVL_MASK      0x003C</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="preprocessor">#define PHY_CFG1_TRF_MASK       0x0003  // Transmitter Rise/Fall time</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">// PHY Configuration Register 2</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="preprocessor">#define PHY_CFG2_REG            0x11</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="preprocessor">#define PHY_CFG2_APOLDIS        0x0020  // 1=Auto Polarity Correction disabled</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor">#define PHY_CFG2_JABDIS         0x0010  // 1=Jabber disabled</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="preprocessor">#define PHY_CFG2_MREG           0x0008  // 1=Multiple register access (MII mgt)</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="preprocessor">#define PHY_CFG2_INTMDIO        0x0004  // 1=Interrupt signaled with MDIO pulseo</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">// PHY Status Output (and Interrupt status) Register</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">#define PHY_INT_REG             0x12    // Status Output (Interrupt Status)</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="preprocessor">#define PHY_INT_INT             0x8000  // 1=bits have changed since last read</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">#define PHY_INT_LNKFAIL         0x4000  // 1=Link Not detected</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="preprocessor">#define PHY_INT_LOSSSYNC        0x2000  // 1=Descrambler has lost sync</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="preprocessor">#define PHY_INT_CWRD            0x1000  // 1=Invalid 4B5B code detected on rx</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">#define PHY_INT_SSD             0x0800  // 1=No Start Of Stream detected on rx</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="preprocessor">#define PHY_INT_ESD             0x0400  // 1=No End Of Stream detected on rx</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="preprocessor">#define PHY_INT_RPOL            0x0200  // 1=Reverse Polarity detected</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="preprocessor">#define PHY_INT_JAB             0x0100  // 1=Jabber detected</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="preprocessor">#define PHY_INT_SPDDET          0x0080  // 1=100Base-TX mode, 0=10Base-T mode</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">#define PHY_INT_DPLXDET         0x0040  // 1=Device in Full Duplex</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">// PHY Interrupt/Status Mask Register</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor">#define PHY_MASK_REG            0x13    // Interrupt Mask</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">// Uses the same bit definitions as PHY_INT_REG</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">/*-------------------------------------------------------------------------</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"> .  I define some macros to make it easier to do somewhat common</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"> . or slightly complicated, repeated tasks. </span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"> --------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">/* select a register bank, 0 to 3  */</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="preprocessor">#define SMC_SELECT_BANK(x)  { outw( x, ioaddr + BANK_SELECT ); } </span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">/* this enables an interrupt in the interrupt mask register */</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">#define SMC_ENABLE_INT(x) {\</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="preprocessor">                unsigned char mask;\</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="preprocessor">                SMC_SELECT_BANK(2);\</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">                mask = inb( ioaddr + IM_REG );\</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">                mask |= (x);\</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="preprocessor">                outb( mask, ioaddr + IM_REG ); \</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">/* this disables an interrupt from the interrupt mask register */</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="preprocessor">#define SMC_DISABLE_INT(x) {\</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">                unsigned char mask;\</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor">                SMC_SELECT_BANK(2);\</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="preprocessor">                mask = inb( ioaddr + IM_REG );\</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="preprocessor">                mask &amp;= ~(x);\</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">                outb( mask, ioaddr + IM_REG ); \</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">/*----------------------------------------------------------------------</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"> . Define the interrupts that I want to receive from the card</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment"> . </span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment"> . I want: </span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment"> .  IM_EPH_INT, for nasty errors</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"> .  IM_RCV_INT, for happy received packets</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"> .  IM_RX_OVRN_INT, because I have to kick the receiver</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"> .  IM_MDINT, for PHY Register 18 Status Changes</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"> --------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="preprocessor">#define SMC_INTERRUPT_MASK   (IM_EPH_INT | IM_RX_OVRN_INT | IM_RCV_INT | \</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="preprocessor">        IM_MDINT) </span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">#ifdef CONFIG_SYSCTL</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"> * Declarations for the sysctl interface, which allows users the ability to</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"> * control the finer aspects of the LAN91C111 chip.  Since the smc</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"> * module currently registers its sysctl table dynamically, the sysctl path</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment"> * for module FOO is /proc/sys/dev/ethX/FOO</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="preprocessor">#define CTL_SMC         (CTL_BUS+1389)      // arbitrary and hopefully unused</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        CTL_SMC_INFO = 1,       <span class="comment">// Sysctl files information</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        CTL_SMC_SWVER,          <span class="comment">// Driver Software Version Info</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        CTL_SMC_SWFDUP,         <span class="comment">// Switched Full Duplex Mode</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        CTL_SMC_EPHLOOP,        <span class="comment">// EPH Block Internal Loopback</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        CTL_SMC_MIIOP,          <span class="comment">// MII Operation</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        CTL_SMC_AUTONEG,        <span class="comment">// Auto-negotiate Mode</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        CTL_SMC_RFDUPLX,        <span class="comment">// Request Full Duplex Mode</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        CTL_SMC_RSPEED,         <span class="comment">// Request Speed Selection</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        CTL_SMC_AFDUPLX,        <span class="comment">// Actual Full Duplex Mode</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        CTL_SMC_ASPEED,         <span class="comment">// Actual Speed Selection</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        CTL_SMC_LNKFAIL,        <span class="comment">// Link Failed</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        CTL_SMC_FORCOL,         <span class="comment">// Force a Collision</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        CTL_SMC_FILTCAR,        <span class="comment">// Filter Carrier</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        CTL_SMC_FREEMEM,        <span class="comment">// Free Buffer Memory</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        CTL_SMC_TOTMEM,         <span class="comment">// Total Buffer Memory</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        CTL_SMC_LEDA,           <span class="comment">// Output of LED-A</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        CTL_SMC_LEDB,           <span class="comment">// Output of LED-B</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        CTL_SMC_CHIPREV,        <span class="comment">// LAN91C111 Chip Revision ID</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="preprocessor">#ifdef SMC_DEBUG</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="comment">// Register access for debugging</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        CTL_SMC_REG_BSR,        <span class="comment">// Bank Select</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        CTL_SMC_REG_TCR,        <span class="comment">// Transmit Control</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        CTL_SMC_REG_ESR,        <span class="comment">// EPH Status</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        CTL_SMC_REG_RCR,        <span class="comment">// Receive Control</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        CTL_SMC_REG_CTRR,       <span class="comment">// Counter</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        CTL_SMC_REG_MIR,        <span class="comment">// Memory Information</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        CTL_SMC_REG_RPCR,       <span class="comment">// Receive/Phy Control</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        CTL_SMC_REG_CFGR,       <span class="comment">// Configuration</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        CTL_SMC_REG_BAR,        <span class="comment">// Base Address</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        CTL_SMC_REG_IAR0,       <span class="comment">// Individual Address 0</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        CTL_SMC_REG_IAR1,       <span class="comment">// Individual Address 1 </span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        CTL_SMC_REG_IAR2,       <span class="comment">// Individual Address 2</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        CTL_SMC_REG_GPR,        <span class="comment">// General Purpose</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        CTL_SMC_REG_CTLR,       <span class="comment">// Control</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        CTL_SMC_REG_MCR,        <span class="comment">// MMU Command</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        CTL_SMC_REG_PNR,        <span class="comment">// Packet Number</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        CTL_SMC_REG_FPR,        <span class="comment">// FIFO Ports</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        CTL_SMC_REG_PTR,        <span class="comment">// Pointer</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        CTL_SMC_REG_DR,         <span class="comment">// Data </span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        CTL_SMC_REG_ISR,        <span class="comment">// Interrupt Status</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        CTL_SMC_REG_MTR1,       <span class="comment">// Multicast Table Entry 1</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        CTL_SMC_REG_MTR2,       <span class="comment">// Multicast Table Entry 2</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        CTL_SMC_REG_MTR3,       <span class="comment">// Multicast Table Entry 3</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        CTL_SMC_REG_MTR4,       <span class="comment">// Multicast Table Entry 4</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        CTL_SMC_REG_MIIR,       <span class="comment">// Management Interface</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        CTL_SMC_REG_REVR,       <span class="comment">// Revision</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        CTL_SMC_REG_ERCVR,      <span class="comment">// Early RCV</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        CTL_SMC_REG_EXTR,       <span class="comment">// External</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        CTL_SMC_PHY_CTRL,       <span class="comment">// PHY Control</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        CTL_SMC_PHY_STAT,       <span class="comment">// PHY Status</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        CTL_SMC_PHY_ID1,        <span class="comment">// PHY ID1</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        CTL_SMC_PHY_ID2,        <span class="comment">// PHY ID2</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        CTL_SMC_PHY_ADC,        <span class="comment">// PHY Advertise Capability</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        CTL_SMC_PHY_REMC,       <span class="comment">// PHY Advertise Capability</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        CTL_SMC_PHY_CFG1,       <span class="comment">// PHY Configuration 1</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        CTL_SMC_PHY_CFG2,       <span class="comment">// PHY Configuration 2</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        CTL_SMC_PHY_INT,        <span class="comment">// PHY Interrupt/Status Output</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        CTL_SMC_PHY_MASK,       <span class="comment">// PHY Interrupt/Status Mask</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">// ---------------------------------------------------</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        CTL_SMC_LAST_ENTRY      <span class="comment">// Add new entries above the line</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;};</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="preprocessor">#endif // CONFIG_SYSCTL</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">/* _SMC_91111_H_ */</span><span class="preprocessor"></span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_0de1d64efa6df97eacc8f5b0f9da3e59.html">drivers</a></li><li class="navelem"><a class="el" href="dir_8faba7cfaeef8234fe60b782e3350bd8.html">net</a></li><li class="navelem"><a class="el" href="dir_b40c2ec8bd1b55402825a7a72dd0f8ab.html">drivers</a></li><li class="navelem"><b>rt_smc91111.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               var dir_9c11b5dcc2e3f07e0ed900f4e59569d0 =
[
    [ "xenomai", "dir_78a929ec709f8d035554d38d94e266cf.html", "dir_78a929ec709f8d035554d38d94e266cf" ]
];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/cobalt/include/asm-generic/xenomai/syscall32.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('include_2asm-generic_2xenomai_2syscall32_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">syscall32.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2014 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Xenomai is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * by the Free Software Foundation; either version 2 of the License,</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Xenomai is distributed in the hope that it will be useful, but</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with Xenomai; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * 02111-1307, USA.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef _COBALT_ASM_GENERIC_SYSCALL32_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define _COBALT_ASM_GENERIC_SYSCALL32_H</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#define __COBALT_CALL32_INITHAND(__handler)</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#define __COBALT_CALL32_INITMODE(__mode)</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define __COBALT_CALL32_ENTRY(__name, __handler)</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#define __COBALT_CALL_COMPAT(__reg)     0</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !_COBALT_ASM_GENERIC_SYSCALL32_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_ff9c14493303662cdb73baf6424a8ab0.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_03ddab63c52a5bb695e33fa57b6426fb.html">include</a></li><li class="navelem"><a class="el" href="dir_677c2dea1ab872ca1e97622a9bf24d20.html">asm-generic</a></li><li class="navelem"><a class="el" href="dir_a40677528bf0007a6d9d6c45bf367010.html">xenomai</a></li><li class="navelem"><b>syscall32.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
              var dir_677c2dea1ab872ca1e97622a9bf24d20 =
[
    [ "xenomai", "dir_a40677528bf0007a6d9d6c45bf367010.html", "dir_a40677528bf0007a6d9d6c45bf367010" ]
];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          PNG

   IHDR  M   %   IB,   bKGD     IDATxkPSG7@A@
WP@K(*\\Zhehi68TUPJ%7#cPuV5T*E E.MI1B9g= ,,, iZ P;(9<G t?P*jJid2LM@<GFi8  9!L&CBZM__xt(:1OvkZ<
E*ZMqq9<G t<'<O"x<@X&G5dvVv677a>|>_;U'
			6mJNNR"H0*o)nuQlO>.Z=X[[;88>|Fspphr\%IRR:D
B911bqdddes6,X	/))d2F><ybUVVJ%<?~?pFmm-+"[>ksGvg\I$={Z*>>3oVUK{'<?yUO?c'+...rbD"9//O ,%\,+VD;vx^Hboqu>}=00L&hW_}5""N?*}}} D"Yj;z*eN_b	6C""++ sN2 355uM HR*c{FGG766*\lqaas)))ZVV|  HmVYY)'lpcAP(ywaGEE%&&~JB+|pH===)d)R^^~o|qTT'nBpxx8   n ]XrWTT_SS b+T0<< pS  8e/LOO?q4+**rkkk&''s 9gB;NOnYWW>a}v\\\~~>.H]]]B$66FcqE. BP <xu*AeyNRO<zj//G~wm~g @ss}p=q+`nn7-,,|OOO]  ;wq_~iUUUeeeCCC ET SohhX__"hkk xbjjke_766+p(gz7_~9==/]ceeGyxxUWW{yy]t)!!_ |QQQa~~@ H$7 xRm%:::%%eff>zbyuqFBMLLob[[[{{{[!H LMMlL$U0Nw:;;/Q\.pSyz+K4*NlT*{7]qcccUUUBp5866foo?G$BP**N>|>_/[4TMfgg\nHHkbbbcccMMMXX;::^{A%'NhiiilltuuMJJ+(&,JPY]|___SSSS;; /* JFEE69P(:^RRtX[[{yy~###a9QMTUU=g~~deemZT*P(b @$GGGx?crr2Wrz{zz^z%E E$?8gffjHKKK@".\ Y
  D"QAA<|qCT>Rcy>>>|rl&11L&SNEEE=|B.=/"EEE>>>SSS~sll,))	SXQQq_|qq`y`444{XXja2q\~}bb"22Z"""L&311 X"H__nndM%tuueff*cccO>mjj~zW__i}E"Qyy3JLLL"##f8  RicccFFvH^^^^^D$=nh\EIiX<((V @aaCPPLCCw;B???ooT4-<<B[qww/**qFnn%  n6lfqqqp8666:YlffVRRo>{{p2@&ykkkC"`,9bbb{hONN~w333!B&CCCkkk|]	` d*o\pB\>zd+G~T*e_}RA]]5-D[ZZ[~OFkRgKKKLL9sss###mmm.beX<n:tPLLnh!(`7ut@>(9<G tp?`^Z*kZBOydw4Hnnx6@ t>G t}P# R'    IENDB`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: include/cobalt/kernel/rtdm/analogy Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dir_be0f9080adb7543ac3db365a1f763af9.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">analogy Directory Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Directory dependency graph for analogy:</div>
<div class="dyncontent">
<div class="center"><img src="dir_be0f9080adb7543ac3db365a1f763af9_dep.png" border="0" usemap="#dir__be0f9080adb7543ac3db365a1f763af9__dep" alt="include/cobalt/kernel/rtdm/analogy"/></div>
<map name="dir__be0f9080adb7543ac3db365a1f763af9__dep" id="dir__be0f9080adb7543ac3db365a1f763af9__dep">
<area shape="rect" id="node1" href="dir_be0f9080adb7543ac3db365a1f763af9.html" title="analogy" alt="" coords="27,52,99,100"/>
<area shape="rect" id="node2" href="dir_03dba7e891ad9b6681428c00d78e5ff7.html" title="rtdm" alt="" coords="27,148,99,196"/>
<area shape="rect" id="edge1-headlabel" href="dir_000009_000049.html" title="3" alt="" coords="67,122,75,137"/>
<area shape="rect" id="clust1" href="dir_6fb3c96f30c05412f9e8266f1a1cbdee.html" title="rtdm" alt="" coords="16,16,109,111"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:channel__range_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel__range_8h.html">channel_range.h</a> <a href="channel__range_8h_source.html">[code]</a></td></tr>
<tr class="memdesc:channel__range_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analogy for Linux, channel, range related features. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:analogy_2driver_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="analogy_2driver_8h.html">driver.h</a> <a href="analogy_2driver_8h_source.html">[code]</a></td></tr>
<tr class="memdesc:analogy_2driver_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analogy for Linux, driver facilities. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:subdevice_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="subdevice_8h.html">subdevice.h</a> <a href="subdevice_8h_source.html">[code]</a></td></tr>
<tr class="memdesc:subdevice_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analogy for Linux, subdevice related features. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_727d51ab6cd8bd91d7c75c1be5676510.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_cf5678a09d30c4a64d8efd3e7841e31a.html">kernel</a></li><li class="navelem"><a class="el" href="dir_6fb3c96f30c05412f9e8266f1a1cbdee.html">rtdm</a></li><li class="navelem"><a class="el" href="dir_be0f9080adb7543ac3db365a1f763af9.html">analogy</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/cobalt/arch/arm/include/asm/xenomai/machine.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('arch_2arm_2include_2asm_2xenomai_2machine_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">machine.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#ifndef _COBALT_ARM_ASM_MACHINE_H</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#define _COBALT_ARM_ASM_MACHINE_H</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;linux/version.h&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;asm/byteorder.h&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#define XNARCH_HOST_TICK_IRQ __ipipe_hrtimer_irq</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;asm/barrier.h&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;asm/compiler.h&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;asm/cmpxchg.h&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;asm/switch_to.h&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;asm/system_info.h&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;asm/system_misc.h&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;asm/timex.h&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;asm/processor.h&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;asm/ipipe.h&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;asm/mach/irq.h&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;asm/cacheflush.h&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#define xnarch_cache_aliasing() cache_is_vivt()</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#if __LINUX_ARM_ARCH__ &lt; 5</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> __attribute_const__ <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ffnz(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> x)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordtype">int</span> r = 0;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">if</span> (!x)</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">if</span> (!(x &amp; 0xffff)) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                x &gt;&gt;= 16;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                r += 16;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">if</span> (!(x &amp; 0xff)) {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                x &gt;&gt;= 8;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                r += 8;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">if</span> (!(x &amp; 0xf)) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                x &gt;&gt;= 4;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                r += 4;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">if</span> (!(x &amp; 3)) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                x &gt;&gt;= 2;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                r += 2;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">if</span> (!(x &amp; 1)) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                x &gt;&gt;= 1;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                r += 1;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">return</span> r;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> __attribute_const__ <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ffnz(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ul)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordtype">int</span> __r;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        __asm__(<span class="stringliteral">&quot;clz\t%0, %1&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (__r) : <span class="stringliteral">&quot;r&quot;</span>(ul &amp; (-ul)) : <span class="stringliteral">&quot;cc&quot;</span>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">return</span> 31 - __r;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &lt;asm-generic/xenomai/machine.h&gt;</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !_COBALT_ARM_ASM_MACHINE_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_ff9c14493303662cdb73baf6424a8ab0.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_1e058e550c3e0ccc93e7fadb749a87e6.html">arch</a></li><li class="navelem"><a class="el" href="dir_6cb9b5f057c5b979863d3a13e1d9b2f8.html">arm</a></li><li class="navelem"><a class="el" href="dir_4f649ec275f39623d9a32a282d7786cb.html">include</a></li><li class="navelem"><a class="el" href="dir_4e8281aa10c52ffa0e8af4d22b41efdb.html">asm</a></li><li class="navelem"><a class="el" href="dir_0cdce0fd2e9dd3a5ef46997d2ff710bd.html">xenomai</a></li><li class="navelem"><b>machine.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: lib/cobalt/arch/x86/include/asm/xenomai Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dir_f11dfe8e58aa34f7998bd148d090ed28.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">xenomai Directory Reference</div>  </div>
</div><!--header-->
<div class="contents">
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a256309a954e6f7cd425caa9cc978d6b.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_92237bd4ff267620236e96c295a4a34d.html">arch</a></li><li class="navelem"><a class="el" href="dir_b1a6281ae0b595cf6ce0cef307810d7e.html">x86</a></li><li class="navelem"><a class="el" href="dir_4238091556740b0811c97abd028029e2.html">include</a></li><li class="navelem"><a class="el" href="dir_78adb4257fe1f29f351f2f2babbed8a5.html">asm</a></li><li class="navelem"><a class="el" href="dir_f11dfe8e58aa34f7998bd148d090ed28.html">xenomai</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                var structmacb__tx__skb =
[
    [ "mapping", "structmacb__tx__skb.html#a8cff63f196b96a1e4cacbfd695473ec0", null ],
    [ "skb", "structmacb__tx__skb.html#af4f0315ac983e036b6f68e3dcb1bfd20", null ]
];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: lib Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dir_97aefd0d527b934f1d99a682da8fe6a9.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">lib Directory Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Directory dependency graph for lib:</div>
<div class="dyncontent">
<div class="center"><img src="dir_97aefd0d527b934f1d99a682da8fe6a9_dep.png" border="0" usemap="#dir__97aefd0d527b934f1d99a682da8fe6a9__dep" alt="lib"/></div>
<map name="dir__97aefd0d527b934f1d99a682da8fe6a9__dep" id="dir__97aefd0d527b934f1d99a682da8fe6a9__dep">
<area shape="rect" id="node2" href="dir_07713e58ccbea381e93ab4f558c63609.html" title="alchemy" alt="" coords="717,27,789,75"/>
<area shape="rect" id="node3" href="dir_5820bc1c95b1bf31c9b9f7cd71a3f596.html" title="analogy" alt="" coords="621,27,693,75"/>
<area shape="rect" id="node10" href="dir_d44c64559bbebec7f509842c48db8b23.html" title="include" alt="" coords="573,123,645,171"/>
<area shape="rect" id="edge2-headlabel" href="dir_000074_000000.html" title="9" alt="" coords="633,103,641,118"/>
<area shape="rect" id="node4" href="dir_a256309a954e6f7cd425caa9cc978d6b.html" title="cobalt" alt="" coords="525,27,597,75"/>
<area shape="rect" id="edge1-headlabel" href="dir_000053_000000.html" title="2" alt="" coords="593,95,601,110"/>
<area shape="rect" id="node5" href="dir_2d0ce41f7d99246a9f0abe28b7f24d6a.html" title="copperplate" alt="" coords="411,27,501,75"/>
<area shape="rect" id="node6" href="dir_6163dc830b2462503414ab68ba41de24.html" title="psos" alt="" coords="315,27,387,75"/>
<area shape="rect" id="node7" href="dir_7707876abbf7be4d5728cc81cda65e1a.html" title="smokey" alt="" coords="219,27,291,75"/>
<area shape="rect" id="node8" href="dir_e6cc2705029cde77099aaf948da55d79.html" title="trank" alt="" coords="123,27,195,75"/>
<area shape="rect" id="node9" href="dir_50b31e9a0ad889d8c23fb53b6accded2.html" title="vxworks" alt="" coords="27,27,99,75"/>
<area shape="rect" id="clust1" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html" alt="" coords="16,16,896,85"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="subdirs"></a>
Directories</h2></td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: include/cobalt/boilerplate/wrappers.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('include_2cobalt_2boilerplate_2wrappers_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">wrappers.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2013 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * License along with this library; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef _COBALT_BOILERPLATE_WRAPPERS_H</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define _COBALT_BOILERPLATE_WRAPPERS_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;cobalt/wrappers.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !_COBALT_BOILERPLATE_WRAPPERS_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_727d51ab6cd8bd91d7c75c1be5676510.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_bdb5da2c681df9e49ce601b9f74ada71.html">boilerplate</a></li><li class="navelem"><b>wrappers.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: Virtual file services</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__cobalt__core__vfile.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Virtual file services<div class="ingroups"><a class="el" href="group__cobalt.html">Cobalt</a> &raquo; <a class="el" href="group__cobalt__core.html">Cobalt kernel</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Virtual files provide a mean to export Xenomai object states to user-space, based on common kernel interfaces.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Virtual file services:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__cobalt__core__vfile.png" border="0" alt="" usemap="#group____cobalt____core____vfile"/>
<map name="group____cobalt____core____vfile" id="group____cobalt____core____vfile">
<area shape="rect" id="node2" href="group__cobalt__core.html" title="The Cobalt core is a co&#45;kernel which supplements the Linux kernel for delivering real&#45;time services w..." alt="" coords="5,5,104,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxnvfile__lock__ops.html">xnvfile_lock_ops</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vfile locking operations.  <a href="structxnvfile__lock__ops.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxnvfile__regular__ops.html">xnvfile_regular_ops</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Regular vfile operation descriptor.  <a href="structxnvfile__regular__ops.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxnvfile__regular__iterator.html">xnvfile_regular_iterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Regular vfile iterator.  <a href="structxnvfile__regular__iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxnvfile__snapshot__ops.html">xnvfile_snapshot_ops</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Snapshot vfile operation descriptor.  <a href="structxnvfile__snapshot__ops.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxnvfile__rev__tag.html">xnvfile_rev_tag</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Snapshot revision tag.  <a href="structxnvfile__rev__tag.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxnvfile__snapshot.html">xnvfile_snapshot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Snapshot vfile descriptor.  <a href="structxnvfile__snapshot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxnvfile__snapshot__iterator.html">xnvfile_snapshot_iterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Snapshot-driven vfile iterator.  <a href="structxnvfile__snapshot__iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaad513ffc19d0ab33ff1722899841a442"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__vfile.html#gaad513ffc19d0ab33ff1722899841a442">xnvfile_init_snapshot</a> (const char *name, struct <a class="el" href="structxnvfile__snapshot.html">xnvfile_snapshot</a> *vfile, struct xnvfile_directory *parent)</td></tr>
<tr class="memdesc:gaad513ffc19d0ab33ff1722899841a442"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a snapshot-driven vfile.  <a href="#gaad513ffc19d0ab33ff1722899841a442">More...</a><br /></td></tr>
<tr class="separator:gaad513ffc19d0ab33ff1722899841a442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82b37f521d867ab9a94b15570210f83f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__vfile.html#ga82b37f521d867ab9a94b15570210f83f">xnvfile_init_regular</a> (const char *name, struct xnvfile_regular *vfile, struct xnvfile_directory *parent)</td></tr>
<tr class="memdesc:ga82b37f521d867ab9a94b15570210f83f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a regular vfile.  <a href="#ga82b37f521d867ab9a94b15570210f83f">More...</a><br /></td></tr>
<tr class="separator:ga82b37f521d867ab9a94b15570210f83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadafe22257ce52d6e35698f4f66bb93c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__vfile.html#gadafe22257ce52d6e35698f4f66bb93c7">xnvfile_init_dir</a> (const char *name, struct xnvfile_directory *vdir, struct xnvfile_directory *parent)</td></tr>
<tr class="memdesc:gadafe22257ce52d6e35698f4f66bb93c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a virtual directory entry.  <a href="#gadafe22257ce52d6e35698f4f66bb93c7">More...</a><br /></td></tr>
<tr class="separator:gadafe22257ce52d6e35698f4f66bb93c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f28290884ca3c4458ac67e2b1845502"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__vfile.html#ga3f28290884ca3c4458ac67e2b1845502">xnvfile_init_link</a> (const char *from, const char *to, struct xnvfile_link *vlink, struct xnvfile_directory *parent)</td></tr>
<tr class="memdesc:ga3f28290884ca3c4458ac67e2b1845502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a virtual link entry.  <a href="#ga3f28290884ca3c4458ac67e2b1845502">More...</a><br /></td></tr>
<tr class="separator:ga3f28290884ca3c4458ac67e2b1845502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5429178db74b9dd23378cb8f0942629e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__vfile.html#ga5429178db74b9dd23378cb8f0942629e">xnvfile_destroy</a> (struct xnvfile *vfile)</td></tr>
<tr class="memdesc:ga5429178db74b9dd23378cb8f0942629e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a virtual file entry.  <a href="#ga5429178db74b9dd23378cb8f0942629e">More...</a><br /></td></tr>
<tr class="separator:ga5429178db74b9dd23378cb8f0942629e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a9005ee997d929f7c8940cfcfcab171"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__vfile.html#ga6a9005ee997d929f7c8940cfcfcab171">xnvfile_get_blob</a> (struct xnvfile_input *input, void *data, size_t size)</td></tr>
<tr class="memdesc:ga6a9005ee997d929f7c8940cfcfcab171"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read in a data bulk written to the vfile.  <a href="#ga6a9005ee997d929f7c8940cfcfcab171">More...</a><br /></td></tr>
<tr class="separator:ga6a9005ee997d929f7c8940cfcfcab171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae45ea5410707367c9e032dc36fc30916"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__vfile.html#gae45ea5410707367c9e032dc36fc30916">xnvfile_get_string</a> (struct xnvfile_input *input, char *s, size_t maxlen)</td></tr>
<tr class="memdesc:gae45ea5410707367c9e032dc36fc30916"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read in a C-string written to the vfile.  <a href="#gae45ea5410707367c9e032dc36fc30916">More...</a><br /></td></tr>
<tr class="separator:gae45ea5410707367c9e032dc36fc30916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18746b2aae928c0281ae57ef47086600"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__vfile.html#ga18746b2aae928c0281ae57ef47086600">xnvfile_get_integer</a> (struct xnvfile_input *input, long *valp)</td></tr>
<tr class="memdesc:ga18746b2aae928c0281ae57ef47086600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate the string written to the vfile as a long integer.  <a href="#ga18746b2aae928c0281ae57ef47086600">More...</a><br /></td></tr>
<tr class="separator:ga18746b2aae928c0281ae57ef47086600"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga19819c8028fd652f090bd4b8cb698778"><td class="memItemLeft" align="right" valign="top">struct xnvfile_directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__vfile.html#ga19819c8028fd652f090bd4b8cb698778">cobalt_vfroot</a></td></tr>
<tr class="memdesc:ga19819c8028fd652f090bd4b8cb698778"><td class="mdescLeft">&#160;</td><td class="mdescRight">Xenomai vfile root directory.  <a href="#ga19819c8028fd652f090bd4b8cb698778">More...</a><br /></td></tr>
<tr class="separator:ga19819c8028fd652f090bd4b8cb698778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19819c8028fd652f090bd4b8cb698778"><td class="memItemLeft" align="right" valign="top">struct xnvfile_directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__vfile.html#ga19819c8028fd652f090bd4b8cb698778">cobalt_vfroot</a></td></tr>
<tr class="memdesc:ga19819c8028fd652f090bd4b8cb698778"><td class="mdescLeft">&#160;</td><td class="mdescRight">Xenomai vfile root directory.  <a href="#ga19819c8028fd652f090bd4b8cb698778">More...</a><br /></td></tr>
<tr class="separator:ga19819c8028fd652f090bd4b8cb698778"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Virtual files provide a mean to export Xenomai object states to user-space, based on common kernel interfaces. </p>
<p>This encapsulation is aimed at:</p>
<ul>
<li>supporting consistent collection of very large record-based output, without encurring latency peaks for undergoing real-time activities.</li>
<li>in the future, hiding discrepancies between linux kernel releases, regarding the proper way to export kernel object states to userland, either via the /proc interface or by any other mean.</li>
</ul>
<p>This virtual file implementation offers record-based read support based on seq_files, single-buffer write support, directory and link handling, all visible from the /proc namespace.</p>
<p>The vfile support exposes four filesystem object types:</p>
<ul>
<li>snapshot-driven file (struct <a class="el" href="structxnvfile__snapshot.html" title="Snapshot vfile descriptor. ">xnvfile_snapshot</a>). This is commonly used to export real-time object states via the /proc filesystem. To minimize the latency involved in protecting the vfile routines from changes applied by real-time code on such objects, a snapshot of the data to output is first taken under proper locking, before the collected data is formatted and sent out in a lockless manner.</li>
</ul>
<p>Because a large number of records may have to be output, the data collection phase is not strictly atomic as a whole, but only protected at record level. The vfile implementation can be notified of updates to the underlying data set, and restart the collection from scratch until the snapshot is fully consistent.</p>
<ul>
<li>regular sequential file (struct xnvfile_regular). This is basically an encapsulated sequential file object as available from the host kernel (i.e. seq_file), with a few additional features to make it more handy in a Xenomai environment, like implicit locking support and shortened declaration for simplest, single-record output.</li>
<li>virtual link (struct xnvfile_link). This is a symbolic link feature integrated with the vfile semantics. The link target is computed dynamically at creation time from a user-given helper routine.</li>
<li>virtual directory (struct xnvfile_directory). A directory object, which can be used to create a hierarchy for ordering a set of vfile objects. </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5429178db74b9dd23378cb8f0942629e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5429178db74b9dd23378cb8f0942629e">&#9670;&nbsp;</a></span>xnvfile_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xnvfile_destroy </td>
          <td>(</td>
          <td class="paramtype">struct xnvfile *&#160;</td>
          <td class="paramname"><em>vfile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a virtual file entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vfile</td><td>A pointer to the virtual file descriptor to remove.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">secondary-only</a> </dd></dl>

</div>
</div>
<a id="ga6a9005ee997d929f7c8940cfcfcab171"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a9005ee997d929f7c8940cfcfcab171">&#9670;&nbsp;</a></span>xnvfile_get_blob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t xnvfile_get_blob </td>
          <td>(</td>
          <td class="paramtype">struct xnvfile_input *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read in a data bulk written to the vfile. </p>
<p>When writing to a vfile, the associated store() handler from the <a class="el" href="structxnvfile__snapshot__ops.html#snapshot_store">snapshot-driven vfile</a> or <a class="el" href="structxnvfile__regular__ops.html#regular_store">regular vfile</a> is called, with a single argument describing the input data. <a class="el" href="group__cobalt__core__vfile.html#ga6a9005ee997d929f7c8940cfcfcab171" title="Read in a data bulk written to the vfile. ">xnvfile_get_blob()</a> retrieves this data as an untyped binary blob, and copies it back to the caller's buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>A pointer to the input descriptor passed to the store() handler.</td></tr>
    <tr><td class="paramname">data</td><td>The address of the destination buffer to copy the input data to.</td></tr>
    <tr><td class="paramname">size</td><td>The maximum number of bytes to copy to the destination buffer. If <em>size</em> is larger than the actual data size, the input is truncated to <em>size</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes read and copied to the destination buffer upon success. Otherwise, a negative error code is returned:</dd></dl>
<ul>
<li>-EFAULT indicates an invalid source buffer address.</li>
</ul>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">secondary-only</a> </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__cobalt__core__vfile.html#ga18746b2aae928c0281ae57ef47086600">xnvfile_get_integer()</a>, and <a class="el" href="group__cobalt__core__vfile.html#gae45ea5410707367c9e032dc36fc30916">xnvfile_get_string()</a>.</p>

</div>
</div>
<a id="ga18746b2aae928c0281ae57ef47086600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18746b2aae928c0281ae57ef47086600">&#9670;&nbsp;</a></span>xnvfile_get_integer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t xnvfile_get_integer </td>
          <td>(</td>
          <td class="paramtype">struct xnvfile_input *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>valp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate the string written to the vfile as a long integer. </p>
<p>When writing to a vfile, the associated store() handler from the <a class="el" href="structxnvfile__snapshot__ops.html#snapshot_store">snapshot-driven vfile</a> or <a class="el" href="structxnvfile__regular__ops.html#regular_store">regular vfile</a> is called, with a single argument describing the input data. <a class="el" href="group__cobalt__core__vfile.html#ga18746b2aae928c0281ae57ef47086600" title="Evaluate the string written to the vfile as a long integer. ">xnvfile_get_integer()</a> retrieves and interprets this data as a long integer, and copies the resulting value back to <em>valp</em>.</p>
<p>The long integer can be expressed in decimal, octal or hexadecimal bases depending on the prefix found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>A pointer to the input descriptor passed to the store() handler.</td></tr>
    <tr><td class="paramname">valp</td><td>The address of a long integer variable to receive the value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of characters read while evaluating the input as a long integer upon success. Otherwise, a negative error code is returned:</dd></dl>
<ul>
<li>-EINVAL indicates a parse error on the input stream; the written text cannot be evaluated as a long integer.</li>
<li>-EFAULT indicates an invalid source buffer address.</li>
</ul>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">secondary-only</a> </dd></dl>

<p class="reference">References <a class="el" href="group__cobalt__core__vfile.html#ga6a9005ee997d929f7c8940cfcfcab171">xnvfile_get_blob()</a>.</p>

</div>
</div>
<a id="gae45ea5410707367c9e032dc36fc30916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae45ea5410707367c9e032dc36fc30916">&#9670;&nbsp;</a></span>xnvfile_get_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t xnvfile_get_string </td>
          <td>(</td>
          <td class="paramtype">struct xnvfile_input *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read in a C-string written to the vfile. </p>
<p>When writing to a vfile, the associated store() handler from the <a class="el" href="structxnvfile__snapshot__ops.html#snapshot_store">snapshot-driven vfile</a> or <a class="el" href="structxnvfile__regular__ops.html#regular_store">regular vfile</a> is called, with a single argument describing the input data. <a class="el" href="group__cobalt__core__vfile.html#gae45ea5410707367c9e032dc36fc30916" title="Read in a C-string written to the vfile. ">xnvfile_get_string()</a> retrieves this data as a null-terminated character string, and copies it back to the caller's buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>A pointer to the input descriptor passed to the store() handler.</td></tr>
    <tr><td class="paramname">s</td><td>The address of the destination string buffer to copy the input data to.</td></tr>
    <tr><td class="paramname">maxlen</td><td>The maximum number of bytes to copy to the destination buffer, including the ending null character. If <em>maxlen</em> is larger than the actual string length, the input is truncated to <em>maxlen</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of characters read upon success. Otherwise, a negative error code is returned:</dd></dl>
<ul>
<li>-EFAULT indicates an invalid source buffer address.</li>
</ul>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">secondary-only</a> </dd></dl>

<p class="reference">References <a class="el" href="group__cobalt__core__vfile.html#ga6a9005ee997d929f7c8940cfcfcab171">xnvfile_get_blob()</a>.</p>

</div>
</div>
<a id="gadafe22257ce52d6e35698f4f66bb93c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadafe22257ce52d6e35698f4f66bb93c7">&#9670;&nbsp;</a></span>xnvfile_init_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xnvfile_init_dir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct xnvfile_directory *&#160;</td>
          <td class="paramname"><em>vdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct xnvfile_directory *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a virtual directory entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name which should appear in the pseudo-filesystem, identifying the vdir entry.</td></tr>
    <tr><td class="paramname">vdir</td><td>A pointer to the virtual directory descriptor to initialize.</td></tr>
    <tr><td class="paramname">parent</td><td>A pointer to a virtual directory descriptor standing for the parent directory of the new vdir. If NULL, the /proc root directory will be used. /proc/xenomai is mapped on the globally available <em>cobalt_vfroot</em> vdir.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 is returned on success. Otherwise:</dd></dl>
<ul>
<li>-ENOMEM is returned if the virtual directory entry cannot be created in the /proc hierarchy.</li>
</ul>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">secondary-only</a> </dd></dl>

</div>
</div>
<a id="ga3f28290884ca3c4458ac67e2b1845502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f28290884ca3c4458ac67e2b1845502">&#9670;&nbsp;</a></span>xnvfile_init_link()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xnvfile_init_link </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct xnvfile_link *&#160;</td>
          <td class="paramname"><em>vlink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct xnvfile_directory *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a virtual link entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>The name which should appear in the pseudo-filesystem, identifying the vlink entry.</td></tr>
    <tr><td class="paramname">to</td><td>The target file name which should be referred to symbolically by <em>name</em>.</td></tr>
    <tr><td class="paramname">vlink</td><td>A pointer to the virtual link descriptor to initialize.</td></tr>
    <tr><td class="paramname">parent</td><td>A pointer to a virtual directory descriptor standing for the parent directory of the new vlink. If NULL, the /proc root directory will be used. /proc/xenomai is mapped on the globally available <em>cobalt_vfroot</em> vdir.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 is returned on success. Otherwise:</dd></dl>
<ul>
<li>-ENOMEM is returned if the virtual link entry cannot be created in the /proc hierarchy.</li>
</ul>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">secondary-only</a> </dd></dl>

</div>
</div>
<a id="ga82b37f521d867ab9a94b15570210f83f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga82b37f521d867ab9a94b15570210f83f">&#9670;&nbsp;</a></span>xnvfile_init_regular()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xnvfile_init_regular </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct xnvfile_regular *&#160;</td>
          <td class="paramname"><em>vfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct xnvfile_directory *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a regular vfile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name which should appear in the pseudo-filesystem, identifying the vfile entry.</td></tr>
    <tr><td class="paramname">vfile</td><td>A pointer to a vfile descriptor to initialize from. The following fields in this structure should be filled in prior to call this routine:</td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>.privsz is the size (in bytes) of the private data area to be reserved in the <a class="el" href="structxnvfile__regular__iterator.html#regular_iterator">vfile iterator</a>. A NULL value indicates that no private area should be reserved.</li>
<li>entry.lockops is a pointer to a <a class="el" href="structxnvfile__lock__ops.html#vfile_lockops">locking</a>descriptor", defining the lock and unlock operations for the vfile. This pointer may be left to NULL, in which case no locking will be applied.</li>
<li>.ops is a pointer to an <a class="el" href="structxnvfile__regular__ops.html#regular_ops">operation descriptor</a>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>A pointer to a virtual directory descriptor; the vfile entry will be created into this directory. If NULL, the /proc root directory will be used. /proc/xenomai is mapped on the globally available <em>cobalt_vfroot</em> vdir.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 is returned on success. Otherwise:</dd></dl>
<ul>
<li>-ENOMEM is returned if the virtual file entry cannot be created in the /proc hierarchy.</li>
</ul>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">secondary-only</a> </dd></dl>

</div>
</div>
<a id="gaad513ffc19d0ab33ff1722899841a442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad513ffc19d0ab33ff1722899841a442">&#9670;&nbsp;</a></span>xnvfile_init_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xnvfile_init_snapshot </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxnvfile__snapshot.html">xnvfile_snapshot</a> *&#160;</td>
          <td class="paramname"><em>vfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct xnvfile_directory *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a snapshot-driven vfile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name which should appear in the pseudo-filesystem, identifying the vfile entry.</td></tr>
    <tr><td class="paramname">vfile</td><td>A pointer to a vfile descriptor to initialize from. The following fields in this structure should be filled in prior to call this routine:</td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>.privsz is the size (in bytes) of the private data area to be reserved in the <a class="el" href="structxnvfile__snapshot__iterator.html#snapshot_iterator">vfile iterator</a>. A NULL value indicates that no private area should be reserved.</li>
<li>.datasz is the size (in bytes) of a single record to be collected by the <a class="el" href="structxnvfile__snapshot__ops.html#snapshot_next">next() handler</a> from the <a class="el" href="structxnvfile__snapshot__ops.html#snapshot_ops">operation descriptor</a>.</li>
<li>.tag is a pointer to a mandatory vfile revision tag structure (struct <a class="el" href="structxnvfile__rev__tag.html" title="Snapshot revision tag. ">xnvfile_rev_tag</a>). This tag will be monitored for changes by the vfile core while collecting data to output, so that any update detected will cause the current snapshot data to be dropped, and the collection to restart from the beginning. To this end, any change to the data which may be part of the collected records, should also invoke xnvfile_touch() on the associated tag.</li>
<li>entry.lockops is a pointer to a <a class="el" href="structxnvfile__lock__ops.html#vfile_lockops">lock descriptor</a>, defining the lock and unlock operations for the vfile. This pointer may be left to NULL, in which case the operations on the nucleus lock (i.e. nklock) will be used internally around calls to data collection handlers (see <a class="el" href="structxnvfile__snapshot__ops.html#snapshot_ops">operation descriptor</a>).</li>
<li>.ops is a pointer to an <a class="el" href="structxnvfile__snapshot__ops.html#snapshot_ops">operation descriptor</a>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>A pointer to a virtual directory descriptor; the vfile entry will be created into this directory. If NULL, the /proc root directory will be used. /proc/xenomai is mapped on the globally available <em>cobalt_vfroot</em> vdir.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 is returned on success. Otherwise:</dd></dl>
<ul>
<li>-ENOMEM is returned if the virtual file entry cannot be created in the /proc hierarchy.</li>
</ul>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">secondary-only</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga19819c8028fd652f090bd4b8cb698778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19819c8028fd652f090bd4b8cb698778">&#9670;&nbsp;</a></span>cobalt_vfroot <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct xnvfile_directory cobalt_vfroot</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Xenomai vfile root directory. </p>
<p>This vdir maps the /proc/xenomai directory. It can be used to create a hierarchy of Xenomai-related vfiles under this root. </p>

</div>
</div>
<a id="ga19819c8028fd652f090bd4b8cb698778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19819c8028fd652f090bd4b8cb698778">&#9670;&nbsp;</a></span>cobalt_vfroot <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct xnvfile_directory cobalt_vfroot</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Xenomai vfile root directory. </p>
<p>This vdir maps the /proc/xenomai directory. It can be used to create a hierarchy of Xenomai-related vfiles under this root. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          PNG

   IHDR        s   bKGD     IDATx{\Tup3!qeB LwuEGGMS(REQ/OLWu@)Y.seKKwEQ4|0a|==o9h4
   d   Z
  D0  F     @"  H#   `      $  D0  F     @"  H.M;#####J   +4444479}_jh  cVFB_jhZ.  `cfEx  @"  H#   `      $o* 9# -`yU hsF ls|{ZZXSSjUrHH{&%YUU9a(!a}Z,6`><sO]B,{+;{[ziffOX mEEB[n
!vh[OoE_}w;jf[jjt$88:,  =''-]xo{^B[]G] 4 -OZbQq^y%|w;-@[C0`3fj}&M}Xs7oCj_ V :stv%&.=]6 b  `B0  F     @"  H#   `      $  D0  F     @"  H#   `      $  D0  \.%EwEu  0kWNb*7  .S[  >$}pu#   `      $  D0  F     @"  HGrs7?jjjlRj}N,n~?:46RRn~?tx4...YY9lf?9Qf3elK555\YNx$88xj}J^X7|pUzk9\~.8G5aaNj3elHjZhTn!*zf-	qZx  @"  H#   `      $  D0  F     @"  H#   `      $  D0  Zm0***h4'`_:uwclmE-mgv1sviqZ'uVtt?yfiiij8Tdlg#2~ll/K__Ice{69b`qFc+]*,,\`SqO{wsrMBOE8;wyf_|'MF;nU1VzIImsQ!v*~~_~^^^3fWFm:wGcJ1555III^^^1117oT:}azK%K%''8p ++'(++Bwf\{	!|||<<<fQYYY_yt{=o>tn^{]mQiXwqeo4h~])K{K,u[0nW=Zb/_ppp||MhvEfcXWa}}|}g}QcB}zx?r={>	#B/7u={dgg;YYY+W\`AFFWZb!-]vmff{srrN:VXXcG}ceeeNNNN>|2_~9bq=3qqqW\={G}Cf}`Zt
luos,X0{l[7oo~d;|uiXwqez+55uAe+^W'%%q1Y^^hgvK7mTpw2d3gX&&.-_`z+-S7qO?e499#QBWCyyKj/+O6o`we16Ehh1)Kyhkf}SXBSWfWs*z!D}[qBCCC\/0UUUL>}|JLh0~SNDGGrmN	XVV3pE1XW}d4.]Lggg8ly!z}kl&mce7Gzg`4-2
alh|S}X>DqAcDos`8|p;jsSC[Z{^QUU,((pssk|5nx9slZ_}yg!-B|U~iQ.-5^P_t8p	"+|%e:33?fvVXWRrCqTw\a!31Uksgd(}-))~EjLRSK}|+/322xG9rBtOoZ{{{^WVV-u8sL/g6K.2Uivq!D```uY>iP9;oVW}[ -//W&n%X9L4MkcO}>Cq`l}}?SS??o5q[iu!.\`y6!-jWZ^YS]];99=cBk.\>{w^Q\\~gyf9mlVU~7eeeG1[^Go4]{u>uOCzrCT"pr^_;4uR>CZ_?w76~E-t~{4]S:h6G73{SLnrG;}[?-**KHHEvFGGt'N9SI!;w^re\\\QQQ~~~|||LLLyyNKJJrss'afvO?Ta1Lc[lyYoh"[s1hQ4XYw{L-\ti-v3gV^=m&5wfcXMYW^>p`efFusI,Z+	^vNNNnnnVU9=z{{{s+)))..nk-,s'"""!!-h4G3fLjj-'''66v!111yyyw<yr]6w\WW6#G}{Fkt		|SSS]]]:L>][RR2l+V[M=z[LoO7lPPf{]!~JV3se<yZFn2gii^}U%6+jl6V+)!0M>Sv1n$S9!UU=W#kJ?u7I-,,*-mK}3yn?>|>ujx k====<<\y6^~9M7miVU%liX)<=5z>,qL{O>O_h4cyxj^/ypj4Ugvq.%W(eY/w}+h;vZ( yz+!tQwKR"A{w]Gddd?ejCK.I},]t.Eh;! 4   `      $  D0  F     @"  H#   `      $  D0  F     @"  H.\BrH:;;gdlCd&DKxxxxx*(I\.."<\QQq8mtg5f\mtU~.\?LP`seUjQG~ng8QFq8i9zLK<vx{b6F=w}|}{wm#]BVeOqfYuu1  F     @"  H#   `      $Q^p3  X^wD>UF]j7n\qu  -G^VUFTC  y[j%  H#   `      $  D0  F     @jx<v,oQ
  p[l/U4#G4i&  Zv\:tpw9rDSh4Z  h4^fBg   $  PAeeh&?|  P[yyyzz;_nZ+F  Y^zVpH5  h.**
p\#   `      $  D0  ;F  -YYYSZmtt%M  ?iiiS^Fh]kjV  dBTWWWUU).PM\1  V{>|8$$%YW  %NNNQQQnnnu>|K  hhtss{Zn =dz+F  aQQQ[[Y*#  /n F4hP~~)9$q  4JLLB2"A0  a0111.*F  QZ#4`w9VA0  e4~]k  _n)GMBF#GfmB	  XKIBj=<muXt+	 V!8X'l#   `      $  D0  F     @"  H#   `      $  D0  F     @" i4-#  N:;UD#  ;XUD#  4d!DMMMRRWLL7[4m0PfNHH1cFee6  hzW^tkfff7''S)))~K.[p			JUN>{\NgMi.  mS_|QQVV'''0 ((h!!!a^x{1/Wl~n\rfsw  ZUy+}o}Fe~4h}Dqq]#  :'V{yeo1{+Fqe=?nz
Fh,++;rW  LttN;qDAA3M!I\[497|})S={`[,  5j#FMMMWRRR\\C?*OOLL7o_bb~t:__zZ    pTEXP+F     @"  H#   `      $  D0  F     @"  H#   `      $  D0  F     @"  H#  MkR6i  /+pvcrh  XJ  F     @?,i    IENDB`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    var analogy_8h =
[
    [ "A4L_BSC_DESC", "group__analogy__lib__descriptor.html#ga9bac966c050032d5f29c3205b80ebe74", null ],
    [ "A4L_CPLX_DESC", "group__analogy__lib__descriptor.html#gaefe74d60fa5f6c85021c66993d2cf306", null ]
];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         <map id="Channels and ranges" name="Channels and ranges">
<area shape="rect" id="node2" href="$group__analogy__driver__facilities.html" title="Programming interface provided to DAQ card drivers. " alt="" coords="5,5,88,32"/>
</map>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/drivers/serial/16550A_io.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('16550A__io_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">16550A_io.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2007 Jan Kiszka &lt;jan.kiszka@web.de&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Xenomai is free software; you can redistribute it and/or modify it</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Xenomai is distributed in the hope that it will be useful, but</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with Xenomai; if not, write to the Free Software Foundation,</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/* Manages the I/O access method of the driver. */</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> { MODE_PIO, MODE_MMIO } io_mode_t;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#if defined(CONFIG_XENO_DRIVERS_16550A_PIO) || \</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">    defined(CONFIG_XENO_DRIVERS_16550A_ANY)</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> io[MAX_DEVICES];</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;module_param_array(io, ulong, NULL, 0400);</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;MODULE_PARM_DESC(io, <span class="stringliteral">&quot;I/O port addresses of the serial devices&quot;</span>);</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_XENO_DRIVERS_16550A_PIO || CONFIG_XENO_DRIVERS_16550A_ANY */</span><span class="preprocessor"></span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#if defined(CONFIG_XENO_DRIVERS_16550A_MMIO) || \</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">    defined(CONFIG_XENO_DRIVERS_16550A_ANY)</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> mem[MAX_DEVICES];</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *mapped_io[MAX_DEVICES];</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;module_param_array(mem, ulong, NULL, 0400);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;MODULE_PARM_DESC(mem, <span class="stringliteral">&quot;I/O memory addresses of the serial devices&quot;</span>);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_XENO_DRIVERS_16550A_MMIO || CONFIG_XENO_DRIVERS_16550A_ANY */</span><span class="preprocessor"></span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#ifdef CONFIG_XENO_DRIVERS_16550A_PIO</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#define RT_16550_IO_INLINE inline</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> *mapped_io[]; <span class="comment">/* dummy */</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> rt_16550_addr_param(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">return</span> io[dev_id];</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_16550_addr_param_valid(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> rt_16550_base_addr(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">return</span> io[dev_id];</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> io_mode_t rt_16550_io_mode(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">return</span> MODE_PIO;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> io_mode_t</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;rt_16550_io_mode_from_ctx(<span class="keyword">struct</span> rt_16550_context *ctx)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span> MODE_PIO;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;rt_16550_init_io_ctx(<span class="keywordtype">int</span> dev_id, <span class="keyword">struct</span> rt_16550_context *ctx)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        ctx-&gt;base_addr = io[dev_id];</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#elif defined(CONFIG_XENO_DRIVERS_16550A_MMIO)</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#define RT_16550_IO_INLINE inline</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> io[]; <span class="comment">/* dummy */</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> rt_16550_addr_param(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">return</span> mem[dev_id];</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_16550_addr_param_valid(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> rt_16550_base_addr(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)mapped_io[dev_id];</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> io_mode_t rt_16550_io_mode(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">return</span> MODE_MMIO;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> io_mode_t</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;rt_16550_io_mode_from_ctx(<span class="keyword">struct</span> rt_16550_context *ctx)</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">return</span> MODE_MMIO;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;rt_16550_init_io_ctx(<span class="keywordtype">int</span> dev_id, <span class="keyword">struct</span> rt_16550_context *ctx)</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        ctx-&gt;base_addr = (<span class="keywordtype">unsigned</span> long)mapped_io[dev_id];</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#elif defined(CONFIG_XENO_DRIVERS_16550A_ANY)</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#define RT_16550_IO_INLINE </span><span class="comment">/* uninline */</span><span class="preprocessor"></span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> rt_16550_addr_param(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">return</span> (io[dev_id]) ? io[dev_id] : mem[dev_id];</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt_16550_addr_param_valid(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">return</span> !(io[dev_id] &amp;&amp; mem[dev_id]);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> rt_16550_base_addr(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">return</span> (io[dev_id]) ? io[dev_id] : (<span class="keywordtype">unsigned</span> long)mapped_io[dev_id];</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> io_mode_t rt_16550_io_mode(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">return</span> (io[dev_id]) ? MODE_PIO : MODE_MMIO;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> io_mode_t</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;rt_16550_io_mode_from_ctx(<span class="keyword">struct</span> rt_16550_context *ctx)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">return</span> ctx-&gt;io_mode;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;rt_16550_init_io_ctx(<span class="keywordtype">int</span> dev_id, <span class="keyword">struct</span> rt_16550_context *ctx)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">if</span> (io[dev_id]) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                ctx-&gt;base_addr = io[dev_id];</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                ctx-&gt;io_mode   = MODE_PIO;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                ctx-&gt;base_addr = (<span class="keywordtype">unsigned</span> long)mapped_io[dev_id];</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                ctx-&gt;io_mode   = MODE_MMIO;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor"># error Unsupported I/O access method</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keyword">static</span> RT_16550_IO_INLINE u8</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;rt_16550_reg_in(io_mode_t io_mode, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> base, <span class="keywordtype">int</span> off)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">switch</span> (io_mode) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">case</span> MODE_PIO:</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="keywordflow">return</span> inb(base + off);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">default</span>: <span class="comment">/* MODE_MMIO */</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">return</span> readb((<span class="keywordtype">void</span> *)base + off);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keyword">static</span> RT_16550_IO_INLINE <span class="keywordtype">void</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;rt_16550_reg_out(io_mode_t io_mode, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> base, <span class="keywordtype">int</span> off, u8 val)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">switch</span> (io_mode) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">case</span> MODE_PIO:</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                outb(val, base + off);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">case</span> MODE_MMIO:</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                writeb(val, (<span class="keywordtype">void</span> *)base + off);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> rt_16550_init_io(<span class="keywordtype">int</span> dev_id, <span class="keywordtype">char</span>* name)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">switch</span> (rt_16550_io_mode(dev_id)) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">case</span> MODE_PIO:</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <span class="keywordflow">if</span> (!request_region(rt_16550_addr_param(dev_id), 8, name))</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        <span class="keywordflow">return</span> -EBUSY;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">case</span> MODE_MMIO:</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                mapped_io[dev_id] = ioremap(rt_16550_addr_param(dev_id), 8);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <span class="keywordflow">if</span> (!mapped_io[dev_id])</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        <span class="keywordflow">return</span> -EBUSY;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> rt_16550_release_io(<span class="keywordtype">int</span> dev_id)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">switch</span> (rt_16550_io_mode(dev_id)) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">case</span> MODE_PIO:</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                release_region(io[dev_id], 8);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">case</span> MODE_MMIO:</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                iounmap(mapped_io[dev_id]);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_0de1d64efa6df97eacc8f5b0f9da3e59.html">drivers</a></li><li class="navelem"><a class="el" href="dir_c5e274419addaec17bfa70032c2010b6.html">serial</a></li><li class="navelem"><b>16550A_io.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                       <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/drivers/net/stack/include/rtskb_fifo.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rtskb__fifo_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">rtskb_fifo.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  include/rtskb_fifo.h</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *  RTnet - real-time networking subsystem</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *  Copyright (C) 2006 Jan Kiszka &lt;jan.kiszka@web.de&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *  This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *  it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *  the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *  (at your option) any later version.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *  This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *  GNU General Public License for more details.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *  You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *  along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#ifndef __RTSKB_FIFO_H_</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#define __RTSKB_FIFO_H_</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;rtskb.h&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">struct </span>rtskb_fifo {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       read_pos ____cacheline_aligned_in_smp;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#gacbc89e880b42154cb65aa8317195dc03">rtdm_lock_t</a>         read_lock;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       size_mask;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       write_pos ____cacheline_aligned_in_smp;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#gacbc89e880b42154cb65aa8317195dc03">rtdm_lock_t</a>         write_lock;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keyword">struct </span>rtskb        *buffer[0];</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;};</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#define DECLARE_RTSKB_FIFO(name_prefix, size)   \</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">struct {                                        \</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">    struct rtskb_fifo   fifo;                   \</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">    struct rtskb        *__buffer[(size)];      \</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">} name_prefix                                   \</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> __rtskb_fifo_insert(<span class="keyword">struct</span> rtskb_fifo *fifo,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                      <span class="keyword">struct</span> rtskb *rtskb)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> pos = fifo-&gt;write_pos;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> new_pos = (pos + 1) &amp; fifo-&gt;size_mask;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    if (unlikely(new_pos == fifo-&gt;read_pos))</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">return</span> -EAGAIN;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    fifo-&gt;buffer[pos] = rtskb;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">/* rtskb must have been written before write_pos update */</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    smp_wmb();</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    fifo-&gt;write_pos = new_pos;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rtskb_fifo_insert(<span class="keyword">struct</span> rtskb_fifo *fifo,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                    <span class="keyword">struct</span> rtskb *rtskb)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#ga7584217487c323356414e21200a57e63">rtdm_lockctx_t</a> context;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordtype">int</span> result;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#ga24e0b97e35b976fbabd52f4213dc222a">rtdm_lock_get_irqsave</a>(&amp;fifo-&gt;write_lock, context);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    result = __rtskb_fifo_insert(fifo, rtskb);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#gac1c060a2fe602261fa93fdb26a26c69a">rtdm_lock_put_irqrestore</a>(&amp;fifo-&gt;write_lock, context);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rtskb_fifo_insert_inirq(<span class="keyword">struct</span> rtskb_fifo *fifo,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                          <span class="keyword">struct</span> rtskb *rtskb)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">int</span> result;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#ga77fe54d2ce88096711e8cc4e48d45a28">rtdm_lock_get</a>(&amp;fifo-&gt;write_lock);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    result = __rtskb_fifo_insert(fifo, rtskb);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#ga9f7c052e195b4936941cf67f50c006e7">rtdm_lock_put</a>(&amp;fifo-&gt;write_lock);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>rtskb *__rtskb_fifo_remove(<span class="keyword">struct</span> rtskb_fifo *fifo)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> pos = fifo-&gt;read_pos;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keyword">struct </span>rtskb *result;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">/* check FIFO status first */</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> (unlikely(pos == fifo-&gt;write_pos))</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">/* at least one rtskb is enqueued, so get the next one */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    result = fifo-&gt;buffer[pos];</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">/* result must have been read before read_pos update */</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    smp_rmb();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    fifo-&gt;read_pos = (pos + 1) &amp; fifo-&gt;size_mask;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">/* read_pos must have been written for a consitent fifo state on exit */</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    smp_wmb();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>rtskb *rtskb_fifo_remove(<span class="keyword">struct</span> rtskb_fifo *fifo)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#ga7584217487c323356414e21200a57e63">rtdm_lockctx_t</a> context;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keyword">struct </span>rtskb *result;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#ga24e0b97e35b976fbabd52f4213dc222a">rtdm_lock_get_irqsave</a>(&amp;fifo-&gt;read_lock, context);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    result = __rtskb_fifo_remove(fifo);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#gac1c060a2fe602261fa93fdb26a26c69a">rtdm_lock_put_irqrestore</a>(&amp;fifo-&gt;read_lock, context);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>rtskb *rtskb_fifo_remove_inirq(<span class="keyword">struct</span> rtskb_fifo *fifo)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">struct </span>rtskb *result;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#ga77fe54d2ce88096711e8cc4e48d45a28">rtdm_lock_get</a>(&amp;fifo-&gt;read_lock);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    result = __rtskb_fifo_remove(fifo);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#ga9f7c052e195b4936941cf67f50c006e7">rtdm_lock_put</a>(&amp;fifo-&gt;read_lock);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">/* for now inlined... */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> rtskb_fifo_init(<span class="keyword">struct</span> rtskb_fifo *fifo,</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> size)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    fifo-&gt;read_pos  = 0;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    fifo-&gt;write_pos = 0;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    fifo-&gt;size_mask = size - 1;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#ga8b0fa498c3141c5f05e072e9af35eaeb">rtdm_lock_init</a>(&amp;fifo-&gt;read_lock);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#ga8b0fa498c3141c5f05e072e9af35eaeb">rtdm_lock_init</a>(&amp;fifo-&gt;write_lock);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">/* __RTSKB_FIFO_H_ */</span><span class="preprocessor"></span></div><div class="ttc" id="group__rtdm__sync__spinlock_html_gac1c060a2fe602261fa93fdb26a26c69a"><div class="ttname"><a href="group__rtdm__sync__spinlock.html#gac1c060a2fe602261fa93fdb26a26c69a">rtdm_lock_put_irqrestore</a></div><div class="ttdeci">static void rtdm_lock_put_irqrestore(rtdm_lock_t *lock, rtdm_lockctx_t context)</div><div class="ttdoc">Release lock and restore preemption state. </div><div class="ttdef"><b>Definition:</b> driver.h:626</div></div>
<div class="ttc" id="group__rtdm__sync__spinlock_html_gacbc89e880b42154cb65aa8317195dc03"><div class="ttname"><a href="group__rtdm__sync__spinlock.html#gacbc89e880b42154cb65aa8317195dc03">rtdm_lock_t</a></div><div class="ttdeci">ipipe_spinlock_t rtdm_lock_t</div><div class="ttdoc">Lock variable. </div><div class="ttdef"><b>Definition:</b> driver.h:551</div></div>
<div class="ttc" id="group__rtdm__sync__spinlock_html_ga9f7c052e195b4936941cf67f50c006e7"><div class="ttname"><a href="group__rtdm__sync__spinlock.html#ga9f7c052e195b4936941cf67f50c006e7">rtdm_lock_put</a></div><div class="ttdeci">static void rtdm_lock_put(rtdm_lock_t *lock)</div><div class="ttdoc">Release lock without preemption restoration. </div><div class="ttdef"><b>Definition:</b> driver.h:589</div></div>
<div class="ttc" id="group__rtdm__sync__spinlock_html_ga24e0b97e35b976fbabd52f4213dc222a"><div class="ttname"><a href="group__rtdm__sync__spinlock.html#ga24e0b97e35b976fbabd52f4213dc222a">rtdm_lock_get_irqsave</a></div><div class="ttdeci">#define rtdm_lock_get_irqsave(__lock, __context)</div><div class="ttdoc">Acquire lock and disable preemption, by stalling the head domain. </div><div class="ttdef"><b>Definition:</b> driver.h:603</div></div>
<div class="ttc" id="group__rtdm__sync__spinlock_html_ga8b0fa498c3141c5f05e072e9af35eaeb"><div class="ttname"><a href="group__rtdm__sync__spinlock.html#ga8b0fa498c3141c5f05e072e9af35eaeb">rtdm_lock_init</a></div><div class="ttdeci">static void rtdm_lock_init(rtdm_lock_t *lock)</div><div class="ttdoc">Dynamic lock initialisation. </div><div class="ttdef"><b>Definition:</b> driver.h:563</div></div>
<div class="ttc" id="group__rtdm__sync__spinlock_html_ga7584217487c323356414e21200a57e63"><div class="ttname"><a href="group__rtdm__sync__spinlock.html#ga7584217487c323356414e21200a57e63">rtdm_lockctx_t</a></div><div class="ttdeci">unsigned long rtdm_lockctx_t</div><div class="ttdoc">Variable to save the context while holding a lock. </div><div class="ttdef"><b>Definition:</b> driver.h:554</div></div>
<div class="ttc" id="group__rtdm__sync__spinlock_html_ga77fe54d2ce88096711e8cc4e48d45a28"><div class="ttname"><a href="group__rtdm__sync__spinlock.html#ga77fe54d2ce88096711e8cc4e48d45a28">rtdm_lock_get</a></div><div class="ttdeci">static void rtdm_lock_get(rtdm_lock_t *lock)</div><div class="ttdoc">Acquire lock from non-preemptible contexts. </div><div class="ttdef"><b>Definition:</b> driver.h:575</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_0de1d64efa6df97eacc8f5b0f9da3e59.html">drivers</a></li><li class="navelem"><a class="el" href="dir_8faba7cfaeef8234fe60b782e3350bd8.html">net</a></li><li class="navelem"><a class="el" href="dir_e614b3ce25858471dec7750aa978f100.html">stack</a></li><li class="navelem"><a class="el" href="dir_70ee7780aa60a0265985c984e695c97b.html">include</a></li><li class="navelem"><b>rtskb_fifo.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  PNG

   IHDR     %   \ol   bKGD     IDATx}PTb( O"2(#Y*i4
b!j*0L*6iI>??ly0{>rsw"bu H hD$A4" /^$**Gi#%%..Ai;,[/k;$>6~%//\?3Fd2*?9sv.y<rQ2L!1i$mRVVFLLL C!FDA#]<d2	/^T+W__Odd$#G1c~z2uuu(
Ce5444wy *++jm}}}N>&#vHMMeYL2gJvh\04e=r]W)++ iymm-s	S$44



HOOv5jQQQr= Yd	cbbmpdwpmlS4m7od(Jmd=Kll,(
=JJJCaffc 66333~qtt 6l133c$''S\\aV\:J%(v6<wZZZs
 Okk+P6m4r-ZC111aQ^^5^.4$f5OIvv6W*" &NHUUUm;###Lzn[d25>}q 655b
lll/!!!T*i%%%1t6uqqq [[[}-fff;?R(..&  HYYW/>1bfc$%%<R8pKvv6>|?)S ),,+xxxp1KRR>VVV2w\|||>cyJr9O~v>|3yd9x`.KQ[[AHHc_~n]WWW=]8q$%%ud777"""XbWf/nn.lhO?ro;vcrJiIHHRnMMrcry$%%QXX}())s|'nEp0` GUVq9P*|WuKLnn..]bml3g&-?z(m#((tHKK#88ljjjx1116.\-[Vaa!#..k.iYyy9(J233`u`R={xb:bcc6m{a9$$$%+'''={ttt3Nee%f	dff2x`i]imm_EWWWJD/b% |[8p ...s!iyBBr^z{W8}4XYY1x` KZZke;fg]t	R&L`TWW*-IKK#99Y())pgE?~\Z>}t<y2 rCCCx0LMM D`` L.c``;LII	XZZboo~AAAxxx```v hnn...g];=E888oXXXpI<==,?y$nnnS\\nnnT*!223gv~NN0eOopK>}Hn=}}}Xt)uuu8;;KNNNn"""w N)//gI8::?YYYo'}FFFkSSS }7y3>xhcc#S=Y{H$Z:###lBAAYYY8::EuYx ]G}}=XqrrbYWFbb"'N$:: _tfee?'C':J>*i*;wJx4:y$~44y^CEE7oD___m}---[;;;<>(**qFgwP\MMM^hGSS}Z/coo<><}L]x|?}vT*T*UZZJdd$_u&f'J{{{~VZ3,@&1gr9}:uOkmm%((X|9w&44Tm|ZGPHCC-b,[===jkk3g+W.]?cQ^^N^^_~%=s644BBB[Ijj*T*qpp>t[T*tuuy! <x CCC n%--//gSOOuDDDd;w8qG+W&  |)3c
#F@P]_|Cc{iiiRPPqbqjC+Wbkkqww_~_3g!C5kDEE1ydy7U[mGGGwww}62JPAjj*2gBCC&((166f2o<yn"""R1c:<>-<<xb"##;vl:={P(`es~GwD'O&=<w/999ttt'd2#W\aj;=y$"o7n`m?j;4HBqOmm1uTm!/s'3<AH hD$A4" 3 h3gyaii^@B<\X[[<yfa*	SA4# C!F]q(C    IENDB`                                                                                                                                                                                                                                                                                                                                                                                                                                  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: include/cobalt/kernel/synch.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('kernel_2synch_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">synch.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2001,2002,2003 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Xenomai is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * by the Free Software Foundation; either version 2 of the License,</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Xenomai is distributed in the hope that it will be useful, but</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with Xenomai; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * 02111-1307, USA.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef _COBALT_KERNEL_SYNCH_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define _COBALT_KERNEL_SYNCH_H</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;cobalt/kernel/list.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;cobalt/kernel/assert.h&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;cobalt/kernel/timer.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;cobalt/uapi/kernel/synch.h&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#define XNSYNCH_CLAIMED 0x10    </span><span class="comment">/* Claimed by other thread(s) w/ PIP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/* Spare flags usable by upper interfaces */</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#define XNSYNCH_SPARE0  0x01000000</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#define XNSYNCH_SPARE1  0x02000000</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#define XNSYNCH_SPARE2  0x04000000</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#define XNSYNCH_SPARE3  0x08000000</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#define XNSYNCH_SPARE4  0x10000000</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#define XNSYNCH_SPARE5  0x20000000</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#define XNSYNCH_SPARE6  0x40000000</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#define XNSYNCH_SPARE7  0x80000000</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/* Statuses */</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#define XNSYNCH_DONE    0       </span><span class="comment">/* Resource available / operation complete */</span><span class="preprocessor"></span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#define XNSYNCH_WAIT    1       </span><span class="comment">/* Calling thread blocked -- start rescheduling */</span><span class="preprocessor"></span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define XNSYNCH_RESCHED 2       </span><span class="comment">/* Force rescheduling */</span><span class="preprocessor"></span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">struct </span>xnthread;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">struct </span>xnsynch;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">struct </span>xnsynch {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keyword">struct </span>list_head link;  </div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordtype">int</span> wprio;              </div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> status;    </div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keyword">struct </span>list_head pendq;  </div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keyword">struct </span>xnthread *owner; </div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="structatomic__t.html">atomic_t</a> *fastlock; </div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        void (*cleanup)(<span class="keyword">struct </span>xnsynch *synch); <span class="comment">/* Cleanup handler */</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;};</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#define XNSYNCH_WAITQUEUE_INITIALIZER(__name) {         \</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">                .status = XNSYNCH_PRIO,                 \</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">                .wprio = -1,                            \</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">                .pendq = LIST_HEAD_INIT((__name).pendq),        \</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">                .owner = NULL,                          \</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">                .cleanup = NULL,                        \</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">                .fastlock = NULL,                       \</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">        }</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#define DEFINE_XNWAITQ(__name)  \</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">        struct xnsynch __name = XNSYNCH_WAITQUEUE_INITIALIZER(__name)</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> xnsynch_set_status(<span class="keyword">struct</span> xnsynch *synch, <span class="keywordtype">int</span> bits)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        synch-&gt;status |= bits;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> xnsynch_clear_status(<span class="keyword">struct</span> xnsynch *synch, <span class="keywordtype">int</span> bits)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        synch-&gt;status &amp;= ~bits;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#define xnsynch_for_each_sleeper(__pos, __synch)                \</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">        list_for_each_entry(__pos, &amp;(__synch)-&gt;pendq, plink)</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#define xnsynch_for_each_sleeper_safe(__pos, __tmp, __synch)    \</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">        list_for_each_entry_safe(__pos, __tmp, &amp;(__synch)-&gt;pendq, plink)</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> xnsynch_pended_p(<span class="keyword">struct</span> xnsynch *synch)</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">return</span> !list_empty(&amp;synch-&gt;pendq);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>xnthread *xnsynch_owner(<span class="keyword">struct</span> xnsynch *synch)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> synch-&gt;owner;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#define xnsynch_fastlock(synch)         ((synch)-&gt;fastlock)</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#define xnsynch_fastlock_p(synch)       ((synch)-&gt;fastlock != NULL)</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#define xnsynch_owner_check(synch, thread) \</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">        xnsynch_fast_owner_check((synch)-&gt;fastlock, thread-&gt;handle)</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#if XENO_DEBUG(MUTEX_RELAXED)</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keywordtype">void</span> xnsynch_detect_relaxed_owner(<span class="keyword">struct</span> xnsynch *synch,</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                  <span class="keyword">struct</span> xnthread *sleeper);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keywordtype">void</span> xnsynch_detect_claimed_relax(<span class="keyword">struct</span> xnthread *owner);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* !XENO_DEBUG(MUTEX_RELAXED) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> xnsynch_detect_relaxed_owner(<span class="keyword">struct</span> xnsynch *synch,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                  <span class="keyword">struct</span> xnthread *sleeper)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> xnsynch_detect_claimed_relax(<span class="keyword">struct</span> xnthread *owner)</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !XENO_DEBUG(MUTEX_RELAXED) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__cobalt__core__synch.html#gafc3030603c9054b69f1abb44014f1838">xnsynch_init</a>(<span class="keyword">struct</span> xnsynch *synch, <span class="keywordtype">int</span> flags,</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                  <a class="code" href="structatomic__t.html">atomic_t</a> *fastlock);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__cobalt__core__synch.html#gadd862461f55506485f04f4f98cdb6fb8">xnsynch_destroy</a>(<span class="keyword">struct</span> xnsynch *synch);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> xnsynch_set_owner(<span class="keyword">struct</span> xnsynch *synch,</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                     <span class="keyword">struct</span> xnthread *thread)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        synch-&gt;owner = thread;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> xnsynch_register_cleanup(<span class="keyword">struct</span> xnsynch *synch,</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                                            <span class="keywordtype">void</span> (*handler)(<span class="keyword">struct</span> xnsynch *))</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        synch-&gt;cleanup = handler;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="keywordtype">int</span> __must_check <a class="code" href="group__cobalt__core__synch.html#ga51cec970cb57608abe882c98bee72347">xnsynch_sleep_on</a>(<span class="keyword">struct</span> xnsynch *synch,</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                  xnticks_t timeout,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                  xntmode_t timeout_mode);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="keyword">struct </span>xnthread *<a class="code" href="group__cobalt__core__synch.html#ga54162964059c62d7a7b45ef22911662f">xnsynch_wakeup_one_sleeper</a>(<span class="keyword">struct</span> xnsynch *synch);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keywordtype">int</span> xnsynch_wakeup_many_sleepers(<span class="keyword">struct</span> xnsynch *synch, <span class="keywordtype">int</span> nr);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__cobalt__core__synch.html#ga8096364cd5d717dae816c74dcc05a8ac">xnsynch_wakeup_this_sleeper</a>(<span class="keyword">struct</span> xnsynch *synch,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                 <span class="keyword">struct</span> xnthread *sleeper);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keywordtype">int</span> __must_check <a class="code" href="group__cobalt__core__synch.html#ga43fa3ecdc81f6ae157f840175c7ea091">xnsynch_acquire</a>(<span class="keyword">struct</span> xnsynch *synch,</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                 xnticks_t timeout,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                 xntmode_t timeout_mode);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="keywordtype">int</span> __must_check <a class="code" href="group__cobalt__core__synch.html#gad5cad7eeaa18834c9ba8843511a67628">xnsynch_try_acquire</a>(<span class="keyword">struct</span> xnsynch *synch);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="keyword">struct </span>xnthread *<a class="code" href="group__cobalt__core__synch.html#gad38fe2be85e02bf1298418674ab6386f">xnsynch_release</a>(<span class="keyword">struct</span> xnsynch *synch,</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                 <span class="keyword">struct</span> xnthread *thread);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="keyword">struct </span>xnthread *<a class="code" href="group__cobalt__core__synch.html#ga4f98598194fa76a8b0ff298387429b9d">xnsynch_peek_pendq</a>(<span class="keyword">struct</span> xnsynch *synch);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__cobalt__core__synch.html#ga51febbfe4ff33ef18778fe9ecf62c43a">xnsynch_flush</a>(<span class="keyword">struct</span> xnsynch *synch, <span class="keywordtype">int</span> reason);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keywordtype">void</span> xnsynch_release_all_ownerships(<span class="keyword">struct</span> xnthread *thread);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="keywordtype">void</span> xnsynch_requeue_sleeper(<span class="keyword">struct</span> xnthread *thread);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keywordtype">void</span> xnsynch_forget_sleeper(<span class="keyword">struct</span> xnthread *thread);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !_COBALT_KERNEL_SYNCH_H_ */</span><span class="preprocessor"></span></div><div class="ttc" id="group__cobalt__core__synch_html_ga51febbfe4ff33ef18778fe9ecf62c43a"><div class="ttname"><a href="group__cobalt__core__synch.html#ga51febbfe4ff33ef18778fe9ecf62c43a">xnsynch_flush</a></div><div class="ttdeci">int xnsynch_flush(struct xnsynch *synch, int reason)</div><div class="ttdoc">Unblock all waiters pending on a resource. </div><div class="ttdef"><b>Definition:</b> synch.c:810</div></div>
<div class="ttc" id="group__cobalt__core__synch_html_gad38fe2be85e02bf1298418674ab6386f"><div class="ttname"><a href="group__cobalt__core__synch.html#gad38fe2be85e02bf1298418674ab6386f">xnsynch_release</a></div><div class="ttdeci">struct xnthread * xnsynch_release(struct xnsynch *synch, struct xnthread *thread)</div><div class="ttdoc">Give the resource ownership to the next waiting thread. </div><div class="ttdef"><b>Definition:</b> synch.c:662</div></div>
<div class="ttc" id="group__cobalt__core__synch_html_gadd862461f55506485f04f4f98cdb6fb8"><div class="ttname"><a href="group__cobalt__core__synch.html#gadd862461f55506485f04f4f98cdb6fb8">xnsynch_destroy</a></div><div class="ttdeci">int xnsynch_destroy(struct xnsynch *synch)</div><div class="ttdoc">Destroy a synchronization object. </div><div class="ttdef"><b>Definition:</b> synch.c:117</div></div>
<div class="ttc" id="group__cobalt__core__synch_html_ga43fa3ecdc81f6ae157f840175c7ea091"><div class="ttname"><a href="group__cobalt__core__synch.html#ga43fa3ecdc81f6ae157f840175c7ea091">xnsynch_acquire</a></div><div class="ttdeci">int __must_check xnsynch_acquire(struct xnsynch *synch, xnticks_t timeout, xntmode_t timeout_mode)</div><div class="ttdoc">Acquire the ownership of a synchronization object. </div><div class="ttdef"><b>Definition:</b> synch.c:424</div></div>
<div class="ttc" id="group__cobalt__core__synch_html_ga8096364cd5d717dae816c74dcc05a8ac"><div class="ttname"><a href="group__cobalt__core__synch.html#ga8096364cd5d717dae816c74dcc05a8ac">xnsynch_wakeup_this_sleeper</a></div><div class="ttdeci">void xnsynch_wakeup_this_sleeper(struct xnsynch *synch, struct xnthread *sleeper)</div><div class="ttdoc">Unblock a particular thread from wait. </div><div class="ttdef"><b>Definition:</b> synch.c:292</div></div>
<div class="ttc" id="group__cobalt__core__synch_html_ga54162964059c62d7a7b45ef22911662f"><div class="ttname"><a href="group__cobalt__core__synch.html#ga54162964059c62d7a7b45ef22911662f">xnsynch_wakeup_one_sleeper</a></div><div class="ttdeci">struct xnthread * xnsynch_wakeup_one_sleeper(struct xnsynch *synch)</div><div class="ttdoc">Unblock the heading thread from wait. </div><div class="ttdef"><b>Definition:</b> synch.c:216</div></div>
<div class="ttc" id="group__cobalt__core__synch_html_ga51cec970cb57608abe882c98bee72347"><div class="ttname"><a href="group__cobalt__core__synch.html#ga51cec970cb57608abe882c98bee72347">xnsynch_sleep_on</a></div><div class="ttdeci">int __must_check xnsynch_sleep_on(struct xnsynch *synch, xnticks_t timeout, xntmode_t timeout_mode)</div><div class="ttdoc">Sleep on an ownerless synchronization object. </div><div class="ttdef"><b>Definition:</b> synch.c:162</div></div>
<div class="ttc" id="group__cobalt__core__synch_html_gafc3030603c9054b69f1abb44014f1838"><div class="ttname"><a href="group__cobalt__core__synch.html#gafc3030603c9054b69f1abb44014f1838">xnsynch_init</a></div><div class="ttdeci">void xnsynch_init(struct xnsynch *synch, int flags, atomic_t *fastlock)</div><div class="ttdoc">Initialize a synchronization object. </div><div class="ttdef"><b>Definition:</b> synch.c:81</div></div>
<div class="ttc" id="group__cobalt__core__synch_html_gad5cad7eeaa18834c9ba8843511a67628"><div class="ttname"><a href="group__cobalt__core__synch.html#gad5cad7eeaa18834c9ba8843511a67628">xnsynch_try_acquire</a></div><div class="ttdeci">int __must_check xnsynch_try_acquire(struct xnsynch *synch)</div><div class="ttdoc">Try acquiring the ownership of a synchronization object. </div><div class="ttdef"><b>Definition:</b> synch.c:360</div></div>
<div class="ttc" id="structatomic__t_html"><div class="ttname"><a href="structatomic__t.html">atomic_t</a></div><div class="ttdoc">Copyright  2011 Gilles Chanteperdrix gilles.chanteperdrix@xenomai.org. </div><div class="ttdef"><b>Definition:</b> atomic.h:24</div></div>
<div class="ttc" id="group__cobalt__core__synch_html_ga4f98598194fa76a8b0ff298387429b9d"><div class="ttname"><a href="group__cobalt__core__synch.html#ga4f98598194fa76a8b0ff298387429b9d">xnsynch_peek_pendq</a></div><div class="ttdeci">struct xnthread * xnsynch_peek_pendq(struct xnsynch *synch)</div><div class="ttdoc">Access the thread leading a synch object wait queue. </div><div class="ttdef"><b>Definition:</b> synch.c:750</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_727d51ab6cd8bd91d7c75c1be5676510.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_cf5678a09d30c4a64d8efd3e7841e31a.html">kernel</a></li><li class="navelem"><b>synch.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: lib/vxworks/rngLib.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('lib_2vxworks_2rngLib_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">rngLib.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2008 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * License along with this library; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef _VXWORKS_RNGLIB_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define _VXWORKS_RNGLIB_H</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;vxworks/rngLib.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">struct </span>wind_ring {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> magic;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufSize;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> readPos;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> writePos;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buffer[];</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;};</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _VXWORKS_RNGLIB_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_50b31e9a0ad889d8c23fb53b6accded2.html">vxworks</a></li><li class="navelem"><b>rngLib.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            2ba3f6bcc970cb3f766cb60fe68e09eb                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                1f10f7310e6a1d3982ec7b203465b6f4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/cobalt/arch/powerpc/include/asm/xenomai/wrappers.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('kernel_2cobalt_2arch_2powerpc_2include_2asm_2xenomai_2wrappers_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">wrappers.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2005 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Xenomai is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * by the Free Software Foundation; either version 2 of the License,</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Xenomai is distributed in the hope that it will be useful, but</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with Xenomai; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * 02111-1307, USA.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef _COBALT_POWERPC_ASM_WRAPPERS_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define _COBALT_POWERPC_ASM_WRAPPERS_H</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;asm-generic/xenomai/wrappers.h&gt;</span>       <span class="comment">/* Read the generic portion. */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _COBALT_POWERPC_ASM_WRAPPERS_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_ff9c14493303662cdb73baf6424a8ab0.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_1e058e550c3e0ccc93e7fadb749a87e6.html">arch</a></li><li class="navelem"><a class="el" href="dir_f759207d9324c8134d8116fe11b58f56.html">powerpc</a></li><li class="navelem"><a class="el" href="dir_ad41d5a1947d1fb5bcbdba70c4914122.html">include</a></li><li class="navelem"><a class="el" href="dir_24e2ecf9720611f1126203c750ca8681.html">asm</a></li><li class="navelem"><a class="el" href="dir_0b65143d154a3dabbd15be2858165c53.html">xenomai</a></li><li class="navelem"><b>wrappers.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: Driver API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__analogy__driver__facilities.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Driver API<div class="ingroups"><a class="el" href="group__cobalt.html">Cobalt</a> &raquo; <a class="el" href="group__analogy.html">Analogy framework</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Programming interface provided to DAQ card drivers.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Driver API:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__analogy__driver__facilities.png" border="0" alt="" usemap="#group____analogy____driver____facilities"/>
<map name="group____analogy____driver____facilities" id="group____analogy____driver____facilities">
<area shape="rect" id="node1" href="group__analogy__channel__range.html" title="Channels. " alt="" coords="341,5,486,32"/>
<area shape="rect" id="node2" href="group__analogy__buffer.html" title="Buffer management services. " alt="" coords="319,56,508,83"/>
<area shape="rect" id="node3" href="group__analogy__driver.html" title="Analogy driver registration / unregistration. " alt="" coords="319,107,508,133"/>
<area shape="rect" id="node4" href="group__analogy__subdevice.html" title="Subdevice declaration in a driver. " alt="" coords="332,158,495,199"/>
<area shape="rect" id="node5" href="group__analogy__irq.html" title="Interrupt management\l services" alt="" coords="339,223,488,265"/>
<area shape="rect" id="node6" href="group__analogy.html" title="A RTDM&#45;based interface for implementing DAQ card drivers. " alt="" coords="5,136,140,163"/>
<area shape="rect" id="node7" href="group__analogy__misc.html" title="Misc services" alt="" coords="362,289,465,316"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__analogy__channel__range"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analogy__channel__range.html">Channels and ranges</a></td></tr>
<tr class="memdesc:group__analogy__channel__range"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channels. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__analogy__driver"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analogy__driver.html">Driver management services</a></td></tr>
<tr class="memdesc:group__analogy__driver"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analogy driver registration / unregistration. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__analogy__subdevice"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analogy__subdevice.html">Subdevice management services</a></td></tr>
<tr class="memdesc:group__analogy__subdevice"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subdevice declaration in a driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__analogy__buffer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analogy__buffer.html">Buffer management services</a></td></tr>
<tr class="memdesc:group__analogy__buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer management services. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__analogy__irq"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analogy__irq.html">Interrupt management services</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__analogy__misc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analogy__misc.html">Misc services</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Programming interface provided to DAQ card drivers. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  PNG

   IHDR        b+   bKGD       IDATxyTTW7_APF 8A-pBE6Mb#$!@W68@"%hPF#$HU/*
,((guwrgcB!ZGGB!gP'B%yB!DKQ'B_BHo8uN:01GWS0KWi0Q+Vt8	!-EIBR	!-EIBR	!~!x<kxUy"Ui\xe])H$Bpp0ahhGGGbXsyS}xr),YuW<!(Ctt4lmm-,//fff
?3g/lCQQ"""p9lcexJKKq%H$H<	!Dlwe2
?dx{{m*3gggFxx8z=P}iann>&MGZCIB;nS ~x?Exx8 @" 44077QSS#w3&&&k+**0p@[&ga066S-onnammcuhjjXYLMMqTWWsfB _unH$n 8}4a`` DFFu"\j!|}}L&c#1BBB<''F~~	l5EEE1 9;;lvm6eyfn[ 8=~8axVZZ{fee{n|rVTTn&O}]%==M0bnCYss3c(d2czzz/d=b3H4Feek}:,VWWjkkYnn.[lsss['''Gq:MIBNv17 <755{1Hd2z*W=>}[_eg K1ReeGfwq.NGGG#nYrr20a7g'Od1&Hx"c={0a`\uuuL**QY;d>[G]I%!Hu@sH$#G>;c eU$A"`./**IM0[nbb#!!puu+{=[ltuul2c	
\c]puum4Fee
U/999r$j'HRM6!&&.kjjKo###_|R,|rVRRp=~yw#'']TWWk)L&C@@\|< <___#663g @,C,#22x1*+}		!iii(//G`` )   999s}}=b1|>b1BCCAAA		Avv6%!U={-[pY!))	><   wh"NgYA!((+W8r5Raaa

+**}}}1*+}U]O!TW|MnL&c#F`[nell13c:0;;;v%311arh.3c=}-\Pi9R)1c{W+WeX6n?1SSSzjVWWei}};kll[o=yDn~TTclq31ij*QD;$*Nzv		AAA;M'(~S;B!Fcc#JKK76yB!+`5t8}]B7QUU0'B%yB!DKQ'B%yB!DKQ;BNt*d(++|'Dbnx(B^8u7h!fiw!bW^P(P(?1  ...*P'^%$ >>>$Z<! HT$&&"))	EEE:t(@Va-EIBH*"++Z|2d2&MwwwC%/ J$&&!0x`MI^@	!T00	$O!h0 PF0G<JJ@((..0`!/$O!haK`u Oc<!UVVd$&&B(@ LMM5&!FIha022J	!ZMQ9,^f4&!=<!DtaXp!5&!<!_ka.!!x\9L>:::^GI
pjjjg!%yBHt0GHQ']CC>,^SL>qqcS9B:G:B*33~~~Cnn.N<vHMMP(?Xhz8zB]BB"`ajj;uaNGG'No<y2u#9P'<|Jrn<7LLL4QB%yBs9~8]Dfe1Aa97oEN$OrYj666\gC__%DIeqqqvWm
/R/EGiA=Z!*oBmmm	 d2.]Bi]ZZDxX[[Xat}_{1D"g[zzzHJJ%Kz2eccMA^ %GA" 66Vm!}WFF<0PQWW+++bz<|>{HLLvjSRRwyMt(DD}p0___M%C!h/\@"ZTSSj2DS^$='cm|>077t(P;B!DKQ'B%yB!DK5xwZ}LMMdO{X;<==yzzM>>>		AYY:UUW;;;^?84UD"ptt;;|7>mc-*/===Bii).]D^Q&!--okVO>g}Kb8~cHIIa:9T*G}SEPcc#N>>-%%%oQ[[ZukLma233"DDDseC}*{///<x FR* Fmmmz-<y(++>$	]All,~:t5(**yfZnSSSCbECCz,R)))8qN:B"1bD/jjeexxxkW`ff={tL&Cee{$%%s |j;NOqWJ>::3fL<8L<&&&c044-;<FMM^{57oFcc#c8z(0h xxx !!<6lC$njq~>}4a`` DFFr}vX[[cXn}_+Wu: =2[aa!#Gn>}|v>})H_/C;vJgo_qs)\?%%'N+lmm^2(MWw{aFTT[xXv-{nzP\dkksss^;9vX7nn:466b %-@q}Jfjj#G7{l@rwK:$rk |OJLLRSSDmm-V\)S 77|	6nv_%%%py?{q1@~~>vM6x6gY888`I]*H$+~z`Xf ~)<x@HHoH$B]]>|uMm:u*c6Or.&&/pa1w\\|"33+t;ePQQ1cpFoU?w\ *v566B,8tAut_| ;;;8;;\{s_GGGEC?opY$&&"99{k @Vc8q7o.\C^nK+r~Bqq1/_ Xl>cszoLMMx7P]][[[dggFFFvfDGG_~?`b}7o @  ,,1c?b98qE*BGG4hb044 |aaa7ok c3CK={6\>TU;wp:j%))	!C0l0_~5k`}0f\x{W<y 8p 7X?<EEE!??o|>;RT*1vX:;'0%%Ahx7_5RtO?# >;j*u-i[uq1lSZ/+k@\M=A-I>::]bii		iB_"NNNRT]o())q `q BYl1aB|W*	\c]puumT1|pMLL[_#U]U-W_iiix*bnoVhq8p 3fCzz:=v544p?D"y)))JxW%(XYYuRw-	^jrss0EP;v,+eMKo(o;;F}}=WWW]e)[vUsIg4Y]/J6mD6ZSS.]~/:<'"//CXYYN{q?">>9s&lll
u2XXH^7dii0CuuUflZ	 /===tqCETTRSS-W1j(oS CENN7::F?MHMMwcE8tWmFF+3c_~%-ZSTo(o,--jw^Q}@5emgd;wy<@"BQKt};066  ++K+swiFrr2*++>vYJCPPXZ?v6/^EEtttJ.   wh":}<SW#))	?j%Jn59r=BAA{=  p1,\PnSCMMJKKv}!7	FFFq#;w`m\z1Xt)BzCQ}dgg\6n\dffbr}4AAAXr%?w;z;eW5(Wcuz$srW-\\\0bNwNNN1b1v~1|lo&BBBqFagwPmm--[0sssw\!"""sNBLLHRHHlmm1}t9#G}z56n~	n+:o_M j*6`ee7|mwwwTVV]nSfU5j^u;X`ARRRSSS^Osrr|"qk:iwOAAA0667mq3`kkR]bU1o<lvvv:u\VXb1aC `:+DV+Wygm!!!(((w}0$U8y$v_rW%&f]^5D"p	q#eddpiG<111XbC\8::ey=bocU#$$WFcc#7]qssPVV/RpX`"##QYY5C^=Z1Ipp0?i&\vK.?JJj9s(XbE&/JMHT/H|>}Qsw9IB6SFrBi<!(B!ZJ+	!	N?Fee%jjjXXXF
<}1hKCz/r.tttL&Fm<h%)S=ML6Mat}_{sQ[[/BGG2pwE.SOF#e ((555*kBw.7o	0t%yBHsFWWzzzpttQa$&&#&D	!h>
'OP(DBB222'/C%yBsc!<<[lcL}QQy @jj*B!{077-Z+++MCI6YYYGnn.$	$  	IDAT!!!HKKCSSC `Y0`@/BIV		i&|*otBByFFF>}:/^q`hJ;;;v{pB!.\888@ @ &&&jBI/HRdeeux4i|||0}tGH+	!R|?JJJ`ffOOO,\$O
uspp|EDIu:'0	q	!ZHLLP(Duu5@ // HH_EIBiO(K`Q>(B^hHIIP(Q\\L$O!q	B466rP'b1^a``3fP>/P'u^^^Xtp(BH7wed2@ |C%/0J"HLLDRR0tP3 ,{.!<!|-E"u#<!0U:i:Te(BH/+//?||GP'PPPNdx!/ 77 'W_^OKz4%yBtDpI@vBHJEllC!b
HRMz!(B!Z<!(B!Z<!<On2dQUU\@;"!sNZEr}xwoem),YuZmo(BHG?)nm7lL8wl\1akkKH$H{=BG!}9,,,  {dm9$p#((sq=$''<Qi{=
kkk^DjCWb!x?Exx8pvv	@D"Ahh(lmmannWFMMMqTWWsfB _unH$n4PV;Nb!e] buuuyxxPcO<a|>Y(UVV:K#|>D,''Tg,;;}M2mYaLl	-X<xs/_cEEE1'''&,el]?wD&1{{{vc!!!I9e-cnnnrkdu(BHno;42kjjbc"d2vU.pny]]Jrp1W4.Tnv&N|>;y$c1D,,,c-\1,eJv17 1OOOCuk= C}}=ns1}}}W_imgbb+W~/1rHctcGtt4cpuump-ptuul2B,ehH$ o}>}888t}%yBa?@SS.]~/ub1b1"##Q^^^{---e2pn@ @ss373acciLPVNUIRM6!&&y7%yBC?~2!//;wQ__X>XP @]] Kl{K4AAAXr%?w{lYJCPP>,4#00dee~MM&&LuvLLL;rgc=fggq3gcml0VUU0f3gggf``Ycczke'rYjodll9]u+m>yB+V U!!!(((w}Pp!t[cc#JKK7AmBxWfxzzj:]B6ww~9t%O!h)JB$O!h)JB$O!h)]O!=@WW{O!F#PPPLMA4vvv<!MBR	!-EIBR| 4!B<I8    IENDB`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var dir_e614b3ce25858471dec7750aa978f100 =
[
    [ "include", "dir_70ee7780aa60a0265985c984e695c97b.html", "dir_70ee7780aa60a0265985c984e695c97b" ],
    [ "ipv4", "dir_a7c02c0cc9722eb72459e0320e687151.html", "dir_a7c02c0cc9722eb72459e0320e687151" ]
];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     PNG

   IHDR  S      !   bKGD     IDATxyTWoQhETz2L&!*`yO#DL@TPYFqO"$#&NFFE(KSNP 9''T{uiVU]*I$Qc(]Qs0%"aJD$ H ) S""DD0L`	0%"aJD$ H ) S""sJJ
RRRDBDSSSDFF[n/G0tCDP.L`W)&-}=S""DD0L`	0%nSn75kf)]^1LIvJAWSl'}x+HL hUHH8Cqjl	FWW{?gm[UU:(1LI/OgAAHHBQQ6o^og{uqwX&Kprr]kpZ9]}xDSSgMk?	 A{#&f~w.QA#1~}tJvso,X}' DG  33s[r[V{B$I|Mj;wnW4xg&&uh7st.j  yywtpZ]8|\ZWg?_8aJB\\823/AKqVS=>LMMBii	nDq!\^mGF0}/xX x
< B"&&oZqq9 0L_cpc5JDYY4'HJJv|""DD0L`	0%"aJD$ H ) S""DD0L`	0%"aJD$ H ) S""DDP{#"1oa72t1p;tyY_C;}: _9^UDDxgJD$ H ) S""DD0L`	0%"@=227*K1Xvvp!W9'SepawUUUHNNVxO'*]A$I/pL`	0%"aJD$ H ) S""DD0L`	0%"aJD$ H ) S""OJR"jb*LacctD~=j5fTaZ]]| RTuu5

@4
Swww @+++U*m}s'M,^Xmjj*\]]K/kXz~T*5-[k+**#   =9Bhh(v:EEE U8r00p` sg60th_6@rN] "y/%v{TT(\]Gx=o<x`<nTazI w kAxx8VXFg@tt4/^;w@~~>A!++CAA$%%!==qqq]8u8o;			HMMEZZ>LDDD(5#1q%b [8x0KF#"b1M|y,"PPb,Db"?`4{M&g*Ln:;v,"##km3o<n  nO UV8<V^;;;t >Lmbi jvUWWW,[;w9i/_}[nC|',,^}yj/yUkLR3EEh?5^XX7!(h9\\woW[I!'' e hn___O>rd5WyyyjprrSy3kqjZ$k@@``z4y73s]pCFF]+&WN`jjlWK.9uge>j*//={@lnkkeQuammXdI+++aff",,L7fnn///;7nDYY/^S6wApp0`bb___VV/y!t}yy`rQin[[[bYjXp!rrrwooP+0i$k-1zht4M5kW_}-Z)ShQGFYYtG^yAkKm;|"?'O?	/e9r,gU$I/'*:9Ix-zdF%''~r?3}'*+>%%%|GQ3%"aJD$ H ) S""DD0L`	0%"aJD$ H ) S""DD0L`	0%"aJD$ H {iMI*JJ|69tbmJBrso <<K}WY,W_Si-Sepae+J$IBJgWs
1o7O%jjxT0J|3gN)]AY*fff5k	01Sq=|:-Uk!a*E#JbW3gQ"Y0Le?a!&gyywe|a^zBrd0Qpp89G.EQ+W.ML?JB$.E17sX-[*]l2	Y3pJ0tlI)]
9O6j7 H:;1c6t9ddnE6sg;|q<>8^_C3.A6Mk.m,5A,&&FscGBFt9Dkyi4		P1fJBS=Zm*3`8'z 997VY.Gn1bTusPYYt9~F"g"6vK!+u2<=bXTT+]P?pJBwSGA}MRGARa;aX#<|Pr8z4s*]
"3gNTT &Zr#v;6*]5*L'N(cijeg~QTT#F5I0hF$IT5Paa!y|}}GU`ccj&I#55UZ{
jz4int:u
YT?BCC.HQ<3U,[m*++U+|wj)?uF"}[Kuu5>}/P"3SY[[2dnG1l0}Y?.]BHHu2899aiwRDEE!))	_~%*kj-[(R!D`` qgn>}{8ybA
 [nEvv6,YXDgGa$%%M
UYY	ggg5
W"05 k?4^~ebO?E~jW/}:<>|xUj///={AAAy3uIO[|7i."1L??%,eee/tR?:F"C050;pe kiiizcYGVWFYY^Vcu%@dh)pvv1{l9T*.\#9"|;~UQ3VXXW^yw<xiz^j~:w.%,,,P^^-[g K.RRRPYYJ]{ee_N())Nptt'|V+{-DML1x`TTT
']rEZuwi&:uJz.]@~7Gg4 #F	D1LDmq12o$Iw?S.YYY077w@DFF>^V+W"1L8_@WK\\daoLMMj777=L/]TK&&&q#>CY'jEHII)SwRdxT*`-&DM@bm3gT*n}EE233eLLL`ffw[q:~4T*^ZB\\9T~6119#G6&Qs3SRrZYuVo5K|SSSXXXRaD,]kJVENN,<~sCeehG3  s G#  :H/.2 o"EKNj/kNQB|Q3SL([vX7 (5[gJD$ H ) S""DD0L`	0%"aJD$ H ) S""DD0L`	05@YYYH>DOdlmX`eQ0L.ajVTgkkk,[ PUUPt:t7oXYY'Nm[YY ]vAyy\Nd1L$#..GBBRSS#33w5+h ]{ll,\9r}xDMDb%%IR#UH %I
	h$ggg/mw%)55>[k}v]{=;w<(	"6vv5$577qjn...KBsrr_Znnnsssakk[a^7&&Opug uK{8w\.\PkFI I
q=fa;qE
InXz{q]|Xd})Dvv6.^qMLL5S=$;;;Z<yTPPPgR6m={JiZ)11Qdaa!8P:vS'mTRR{<%$77//Z75O)'"aJD$ H ) S""DD0L`	0%"aJD$ H ) S""DD0L`	0%"aJD$ H 3hv=*u23Zc={ VJWJW@$NJDx|:)S""DD?8
#A    IENDB`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: lib/trank/internal.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('lib_2trank_2internal_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">internal.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2014 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * License along with this library; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef _TRANK_INTERNAL_H</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define _TRANK_INTERNAL_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;pthread.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;xeno_config.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">struct </span>trank_context {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        timer_t periodic_timer;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;};</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#ifdef HAVE_TLS</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">extern</span> __thread __attribute__ ((tls_model (CONFIG_XENO_TLS_MODEL)))</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">struct </span>trank_context trank_context;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>trank_context *trank_get_context(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keywordflow">return</span> &amp;trank_context;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">extern</span> pthread_key_t trank_context_key;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>trank_context *trank_get_context(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">return</span> pthread_getspecific(trank_context_key);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keywordtype">int</span> trank_init_interface(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">extern</span> sigset_t trank_sigperiod_set;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !_TRANK_INTERNAL_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_e6cc2705029cde77099aaf948da55d79.html">trank</a></li><li class="navelem"><b>internal.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/drivers/net/drivers/igb/e1000_nvm.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('igb_2e1000__nvm_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">e1000_nvm.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Intel(R) Gigabit Ethernet Linux driver</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright(c) 2007-2014 Intel Corporation.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * RTnet port   2009 Vladimir Zapolskiy &lt;vladimir.zapolskiy@siemens.com&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify it</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * under the terms and conditions of the GNU General Public License,</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2, as published by the Free Software Foundation.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This program is distributed in the hope it will be useful, but WITHOUT</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License along with</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * this program; if not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * The full GNU General Public License is included in this distribution in</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * the file called &quot;COPYING&quot;.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Contact Information:</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * e1000-devel Mailing List &lt;e1000-devel@lists.sourceforge.net&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * Intel Corporation, 5200 N.E. Elam Young Parkway, Hillsboro, OR 97124-6497</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifndef _E1000_NVM_H_</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define _E1000_NVM_H_</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;s32  igb_acquire_nvm(<span class="keyword">struct</span> e1000_hw *hw);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keywordtype">void</span> igb_release_nvm(<span class="keyword">struct</span> e1000_hw *hw);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;s32  igb_read_mac_addr(<span class="keyword">struct</span> e1000_hw *hw);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;s32  igb_read_part_num(<span class="keyword">struct</span> e1000_hw *hw, u32 *part_num);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;s32  igb_read_part_string(<span class="keyword">struct</span> e1000_hw *hw, u8 *part_num,</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                          u32 part_num_size);</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;s32  igb_read_nvm_eerd(<span class="keyword">struct</span> e1000_hw *hw, u16 offset, u16 words, u16 *data);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;s32  igb_read_nvm_spi(<span class="keyword">struct</span> e1000_hw *hw, u16 offset, u16 words, u16 *data);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;s32  igb_write_nvm_spi(<span class="keyword">struct</span> e1000_hw *hw, u16 offset, u16 words, u16 *data);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;s32  igb_validate_nvm_checksum(<span class="keyword">struct</span> e1000_hw *hw);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;s32  igb_update_nvm_checksum(<span class="keyword">struct</span> e1000_hw *hw);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">struct </span>e1000_fw_version {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        u32 etrack_id;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        u16 eep_major;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        u16 eep_minor;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        u16 eep_build;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        u8 invm_major;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        u8 invm_minor;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        u8 invm_img_type;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordtype">bool</span> or_valid;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        u16 or_major;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        u16 or_build;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        u16 or_patch;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;};</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keywordtype">void</span> igb_get_fw_version(<span class="keyword">struct</span> e1000_hw *hw, <span class="keyword">struct</span> e1000_fw_version *fw_vers);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#endif</span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_0de1d64efa6df97eacc8f5b0f9da3e59.html">drivers</a></li><li class="navelem"><a class="el" href="dir_8faba7cfaeef8234fe60b782e3350bd8.html">net</a></li><li class="navelem"><a class="el" href="dir_b40c2ec8bd1b55402825a7a72dd0f8ab.html">drivers</a></li><li class="navelem"><a class="el" href="dir_e05d8f254b2b7a79618d6542c281e0db.html">igb</a></li><li class="navelem"><b>e1000_nvm.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/cobalt/trace/cobalt-core.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cobalt-core_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">cobalt-core.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2014 Jan Kiszka &lt;jan.kiszka@siemens.com&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2014 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Xenomai is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * by the Free Software Foundation; either version 2 of the License,</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * or (at your option) any later version.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Xenomai is distributed in the hope that it will be useful, but</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * General Public License for more details.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * along with Xenomai; if not, write to the Free Software</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * 02111-1307, USA.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#undef TRACE_SYSTEM</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#define TRACE_SYSTEM cobalt_core</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#if !defined(_TRACE_COBALT_CORE_H) || defined(TRACE_HEADER_MULTI_READ)</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#define _TRACE_COBALT_CORE_H</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;linux/tracepoint.h&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;DECLARE_EVENT_CLASS(thread_event,</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        TP_ARGS(thread),</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, thread)</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                __string(name, thread-&gt;name)</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                __field(pid_t, pid)</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, state)</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, info)</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        ),</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                __entry-&gt;thread = thread;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                __assign_str(name, thread-&gt;name);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                __entry-&gt;state = thread-&gt;state;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                __entry-&gt;info = thread-&gt;info;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                __entry-&gt;pid = xnthread_host_pid(thread);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        ),</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        TP_printk(<span class="stringliteral">&quot;thread=%p(%s) pid=%d state=0x%lx info=0x%lx&quot;</span>,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                  __entry-&gt;thread, __get_str(name), __entry-&gt;pid,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                  __entry-&gt;state, __entry-&gt;info)</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;DECLARE_EVENT_CLASS(synch_wait_event,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnsynch *synch, <span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        TP_ARGS(synch, thread),</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, thread)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                __string(name, thread-&gt;name)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                __field(<span class="keyword">struct</span> xnsynch *, synch)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        ),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                __entry-&gt;thread = thread;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                __assign_str(name, thread-&gt;name);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                __entry-&gt;synch = synch;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        ),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        TP_printk(<span class="stringliteral">&quot;synch=%p thread=%p(%s)&quot;</span>,</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                  __entry-&gt;synch, __entry-&gt;thread, __get_str(name))</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;DECLARE_EVENT_CLASS(synch_post_event,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnsynch *synch),</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        TP_ARGS(synch),</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                __field(<span class="keyword">struct</span> xnsynch *, synch)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        ),</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                __entry-&gt;synch = synch;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        ),</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        TP_printk(<span class="stringliteral">&quot;synch=%p&quot;</span>, __entry-&gt;synch)</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;DECLARE_EVENT_CLASS(irq_event,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        TP_PROTO(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq),</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        TP_ARGS(irq),</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, irq)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        ),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                __entry-&gt;irq = irq;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        ),</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        TP_printk(<span class="stringliteral">&quot;irq=%u&quot;</span>, __entry-&gt;irq)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;DECLARE_EVENT_CLASS(clock_event,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        TP_PROTO(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq),</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        TP_ARGS(irq),</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, irq)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        ),</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                __entry-&gt;irq = irq;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        ),</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        TP_printk(<span class="stringliteral">&quot;clock_irq=%u&quot;</span>, __entry-&gt;irq)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;DECLARE_EVENT_CLASS(thread_migrate,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu),</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        TP_ARGS(thread, cpu),</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, thread)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                __string(name, thread-&gt;name)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, cpu)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        ),</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                __entry-&gt;thread = thread;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                __assign_str(name, thread-&gt;name);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                __entry-&gt;cpu = cpu;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        ),</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        TP_printk(<span class="stringliteral">&quot;thread=%p(%s) cpu=%u&quot;</span>,</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                  __entry-&gt;thread, __get_str(name), __entry-&gt;cpu)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;DECLARE_EVENT_CLASS(timer_event,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xntimer *timer),</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        TP_ARGS(timer),</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                __field(<span class="keyword">struct</span> xntimer *, timer)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        ),</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                __entry-&gt;timer = timer;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        ),</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        TP_printk(<span class="stringliteral">&quot;timer=%p&quot;</span>, __entry-&gt;timer)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;TRACE_EVENT(cobalt_schedule,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        TP_PROTO(<span class="keyword">struct</span> <a class="code" href="structxnsched.html">xnsched</a> *sched),</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        TP_ARGS(sched),</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, status)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        ),</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                __entry-&gt;status = sched-&gt;<a class="code" href="structxnsched.html#ad132581bc8d5df9af99f5ab7b1cadd48">status</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        ),</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        TP_printk(<span class="stringliteral">&quot;status=0x%lx&quot;</span>, __entry-&gt;status)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;TRACE_EVENT(cobalt_schedule_remote,</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        TP_PROTO(<span class="keyword">struct</span> <a class="code" href="structxnsched.html">xnsched</a> *sched),</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        TP_ARGS(sched),</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, status)</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        ),</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                __entry-&gt;status = sched-&gt;<a class="code" href="structxnsched.html#ad132581bc8d5df9af99f5ab7b1cadd48">status</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        ),</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        TP_printk(<span class="stringliteral">&quot;status=0x%lx&quot;</span>, __entry-&gt;status)</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;TRACE_EVENT(cobalt_switch_context,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *prev, <span class="keyword">struct</span> xnthread *next),</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        TP_ARGS(prev, next),</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, prev)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, next)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                __string(prev_name, prev-&gt;name)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                __string(next_name, next-&gt;name)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        ),</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                __entry-&gt;prev = prev;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                __entry-&gt;next = next;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                __assign_str(prev_name, prev-&gt;name);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                __assign_str(next_name, next-&gt;name);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        ),</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        TP_printk(<span class="stringliteral">&quot;prev=%p(%s) next=%p(%s)&quot;</span>,</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                  __entry-&gt;prev, __get_str(prev_name),</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                  __entry-&gt;next, __get_str(next_name))</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;TRACE_EVENT(cobalt_thread_init,</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                 <span class="keyword">const</span> <span class="keyword">struct</span> xnthread_init_attr *attr,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                 <span class="keyword">struct</span> xnsched_class *sched_class),</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        TP_ARGS(thread, attr, sched_class),</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, thread)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                __string(thread_name, thread-&gt;name)</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                __string(class_name, sched_class-&gt;name)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, flags)</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                __field(<span class="keywordtype">int</span>, cprio)</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        ),</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                __entry-&gt;thread = thread;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                __assign_str(thread_name, thread-&gt;name);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                __entry-&gt;flags = attr-&gt;flags;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                __assign_str(class_name, sched_class-&gt;name);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                __entry-&gt;cprio = thread-&gt;cprio;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        ),</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        TP_printk(<span class="stringliteral">&quot;thread=%p(%s) flags=0x%lx class=%s prio=%d&quot;</span>,</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                   __entry-&gt;thread, __get_str(thread_name), __entry-&gt;flags,</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                   __get_str(class_name), __entry-&gt;cprio)</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;TRACE_EVENT(cobalt_thread_suspend,</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> mask, xnticks_t timeout,</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                 xntmode_t timeout_mode, <span class="keyword">struct</span> xnsynch *wchan),</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        TP_ARGS(thread, mask, timeout, timeout_mode, wchan),</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, thread)</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, mask)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                __field(xnticks_t, timeout)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                __field(xntmode_t, timeout_mode)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                __field(<span class="keyword">struct</span> xnsynch *, wchan)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        ),</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                __entry-&gt;thread = thread;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                __entry-&gt;mask = mask;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                __entry-&gt;timeout = timeout;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                __entry-&gt;timeout_mode = timeout_mode;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                __entry-&gt;wchan = wchan;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        ),</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        TP_printk(<span class="stringliteral">&quot;thread=%p mask=0x%lx timeout=%Lu timeout_mode=%d wchan=%p&quot;</span>,</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                  __entry-&gt;thread, __entry-&gt;mask,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                  __entry-&gt;timeout, __entry-&gt;timeout_mode, __entry-&gt;wchan)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;TRACE_EVENT(cobalt_thread_resume,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> mask),</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        TP_ARGS(thread, mask),</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, thread)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, mask)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        ),</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                __entry-&gt;thread = thread;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                __entry-&gt;mask = mask;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        ),</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        TP_printk(<span class="stringliteral">&quot;thread=%p mask=0x%lx&quot;</span>,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                  __entry-&gt;thread, __entry-&gt;mask)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;TRACE_EVENT(cobalt_thread_fault,</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread, <span class="keyword">struct</span> ipipe_trap_data *td),</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        TP_ARGS(thread, td),</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, thread)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                __string(name, thread-&gt;name)</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                __field(<span class="keywordtype">void</span> *, ip)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, type)</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        ),</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                __entry-&gt;thread = thread;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                __assign_str(name, thread-&gt;name);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                __entry-&gt;ip = (<span class="keywordtype">void</span> *)xnarch_fault_pc(td);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                __entry-&gt;type = xnarch_fault_trap(td);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        ),</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        TP_printk(<span class="stringliteral">&quot;thread=%p(%s) ip=%p type=%x&quot;</span>,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                  __entry-&gt;thread, __get_str(name), __entry-&gt;ip,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                  __entry-&gt;type)</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;DEFINE_EVENT(thread_event, cobalt_thread_start,</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;DEFINE_EVENT(thread_event, cobalt_thread_cancel,</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;DEFINE_EVENT(thread_event, cobalt_thread_join,</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;DEFINE_EVENT(thread_event, cobalt_thread_unblock,</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;DEFINE_EVENT(thread_event, cobalt_thread_wait_period,</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;DEFINE_EVENT(thread_event, cobalt_thread_missed_period,</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;DEFINE_EVENT(thread_event, cobalt_thread_set_mode,</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;DEFINE_EVENT(thread_migrate, cobalt_thread_migrate,</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu),</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        TP_ARGS(thread, cpu)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;DEFINE_EVENT(thread_migrate, cobalt_thread_migrate_passive,</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu),</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        TP_ARGS(thread, cpu)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;DEFINE_EVENT(thread_event, cobalt_shadow_gohard,</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;DEFINE_EVENT(thread_event, cobalt_watchdog_signal,</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;DEFINE_EVENT(thread_event, cobalt_shadow_hardened,</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="preprocessor">#define cobalt_print_relax_reason(reason)                               \</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">        __print_symbolic(reason,                                        \</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="preprocessor">                         { SIGDEBUG_UNDEFINED,          &quot;undefined&quot; },  \</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="preprocessor">                         { SIGDEBUG_MIGRATE_SIGNAL,     &quot;signal&quot; },     \</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="preprocessor">                         { SIGDEBUG_MIGRATE_SYSCALL,    &quot;syscall&quot; },    \</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">                         { SIGDEBUG_MIGRATE_FAULT,      &quot;fault&quot; })</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;TRACE_EVENT(cobalt_shadow_gorelax,</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread, <span class="keywordtype">int</span> reason),</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        TP_ARGS(thread, reason),</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, thread)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                __field(<span class="keywordtype">int</span>, reason)</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        ),</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                __entry-&gt;thread = thread;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                __entry-&gt;reason = reason;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        ),</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        TP_printk(<span class="stringliteral">&quot;thread=%p reason=%s&quot;</span>,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                  __entry-&gt;thread, cobalt_print_relax_reason(__entry-&gt;reason))</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;DEFINE_EVENT(thread_event, cobalt_shadow_relaxed,</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;DEFINE_EVENT(thread_event, cobalt_shadow_entry,</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;TRACE_EVENT(cobalt_shadow_map,</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        TP_ARGS(thread),</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                __field(<span class="keyword">struct</span> xnthread *, thread)</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                __string(name, thread-&gt;name)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                __field(<span class="keywordtype">int</span>, prio)</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        ),</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                __entry-&gt;thread = thread;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                __assign_str(name, thread-&gt;name);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                __entry-&gt;prio = xnthread_base_priority(thread);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        ),</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        TP_printk(<span class="stringliteral">&quot;thread=%p(%s) prio=%d&quot;</span>,</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                  __entry-&gt;thread, __get_str(name), __entry-&gt;prio)</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;DEFINE_EVENT(thread_event, cobalt_shadow_unmap,</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        TP_ARGS(thread)</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;TRACE_EVENT(cobalt_lostage_request,</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        TP_PROTO(<span class="keyword">const</span> <span class="keywordtype">char</span> *type, <span class="keyword">struct</span> task_struct *task),</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        TP_ARGS(type, task),</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                __field(pid_t, pid)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                __array(<span class="keywordtype">char</span>, comm, TASK_COMM_LEN)</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                __field(<span class="keyword">const</span> <span class="keywordtype">char</span> *, type)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        ),</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                __entry-&gt;type = type;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                __entry-&gt;pid = task_pid_nr(task);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                memcpy(__entry-&gt;comm, task-&gt;comm, TASK_COMM_LEN);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        ),</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        TP_printk(<span class="stringliteral">&quot;request=%s pid=%d comm=%s&quot;</span>,</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                  __entry-&gt;type, __entry-&gt;pid, __entry-&gt;comm)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;TRACE_EVENT(cobalt_lostage_wakeup,</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        TP_PROTO(<span class="keyword">struct</span> task_struct *task),</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        TP_ARGS(task),</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                __field(pid_t, pid)</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                __array(<span class="keywordtype">char</span>, comm, TASK_COMM_LEN)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        ),</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                __entry-&gt;pid = task_pid_nr(task);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                memcpy(__entry-&gt;comm, task-&gt;comm, TASK_COMM_LEN);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        ),</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        TP_printk(<span class="stringliteral">&quot;pid=%d comm=%s&quot;</span>,</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                  __entry-&gt;pid, __entry-&gt;comm)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;TRACE_EVENT(cobalt_lostage_signal,</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        TP_PROTO(<span class="keyword">struct</span> task_struct *task, <span class="keywordtype">int</span> sig),</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        TP_ARGS(task, sig),</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                __field(pid_t, pid)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                __array(<span class="keywordtype">char</span>, comm, TASK_COMM_LEN)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                __field(<span class="keywordtype">int</span>, sig)</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        ),</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                __entry-&gt;pid = task_pid_nr(task);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                __entry-&gt;sig = sig;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                memcpy(__entry-&gt;comm, task-&gt;comm, TASK_COMM_LEN);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        ),</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        TP_printk(<span class="stringliteral">&quot;pid=%d comm=%s sig=%d&quot;</span>,</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                  __entry-&gt;pid, __entry-&gt;comm, __entry-&gt;sig)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;DEFINE_EVENT(irq_event, cobalt_irq_entry,</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        TP_PROTO(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq),</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        TP_ARGS(irq)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;DEFINE_EVENT(irq_event, cobalt_irq_exit,</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        TP_PROTO(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq),</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        TP_ARGS(irq)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;DEFINE_EVENT(irq_event, cobalt_irq_attach,</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        TP_PROTO(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq),</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        TP_ARGS(irq)</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;DEFINE_EVENT(irq_event, cobalt_irq_detach,</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        TP_PROTO(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq),</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        TP_ARGS(irq)</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;DEFINE_EVENT(irq_event, cobalt_irq_enable,</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        TP_PROTO(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq),</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        TP_ARGS(irq)</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;DEFINE_EVENT(irq_event, cobalt_irq_disable,</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        TP_PROTO(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq),</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        TP_ARGS(irq)</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;DEFINE_EVENT(clock_event, cobalt_clock_entry,</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        TP_PROTO(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq),</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        TP_ARGS(irq)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;DEFINE_EVENT(clock_event, cobalt_clock_exit,</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        TP_PROTO(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq),</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        TP_ARGS(irq)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;DEFINE_EVENT(timer_event, cobalt_timer_stop,</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xntimer *timer),</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        TP_ARGS(timer)</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;DEFINE_EVENT(timer_event, cobalt_timer_expire,</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xntimer *timer),</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        TP_ARGS(timer)</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="preprocessor">#define cobalt_print_timer_mode(mode)                   \</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="preprocessor">        __print_symbolic(mode,                          \</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="preprocessor">                         { XN_RELATIVE, &quot;rel&quot; },        \</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="preprocessor">                         { XN_ABSOLUTE, &quot;abs&quot; },        \</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor">                         { XN_REALTIME, &quot;rt&quot; })</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;TRACE_EVENT(cobalt_timer_start,</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xntimer *timer, xnticks_t value, xnticks_t interval,</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                 xntmode_t mode),</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        TP_ARGS(timer, value, interval, mode),</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                __field(<span class="keyword">struct</span> xntimer *, timer)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;#ifdef CONFIG_XENO_OPT_STATS</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                __string(name, timer-&gt;name)</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;#endif</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                __field(xnticks_t, value)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                __field(xnticks_t, interval)</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                __field(xntmode_t, mode)</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        ),</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                __entry-&gt;timer = timer;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;#ifdef CONFIG_XENO_OPT_STATS</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                __assign_str(name, timer-&gt;name);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;#endif</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                __entry-&gt;value = value;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                __entry-&gt;interval = interval;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                __entry-&gt;mode = mode;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        ),</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        TP_printk(<span class="stringliteral">&quot;timer=%p(%s) value=%Lu interval=%Lu mode=%s&quot;</span>,</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                  __entry-&gt;timer,</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;#ifdef CONFIG_XENO_OPT_STATS</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                  __get_str(name),</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;#<span class="keywordflow">else</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                  <span class="stringliteral">&quot;(anon)&quot;</span>,</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;#endif</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                  __entry-&gt;value, __entry-&gt;interval,</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                  cobalt_print_timer_mode(__entry-&gt;mode))</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="preprocessor">#ifdef CONFIG_SMP</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;TRACE_EVENT(cobalt_timer_migrate,</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xntimer *timer, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu),</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        TP_ARGS(timer, cpu),</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        TP_STRUCT__entry(</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                __field(<span class="keyword">struct</span> xntimer *, timer)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                __field(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, cpu)</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        ),</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        TP_fast_assign(</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                __entry-&gt;timer = timer;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                __entry-&gt;cpu = cpu;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        ),</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        TP_printk(<span class="stringliteral">&quot;timer=%p cpu=%u&quot;</span>,</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                  __entry-&gt;timer, __entry-&gt;cpu)</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_SMP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;DEFINE_EVENT(synch_wait_event, cobalt_synch_sleepon,</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnsynch *synch, <span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        TP_ARGS(synch, thread)</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;DEFINE_EVENT(synch_wait_event, cobalt_synch_try_acquire,</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnsynch *synch, <span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        TP_ARGS(synch, thread)</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;DEFINE_EVENT(synch_wait_event, cobalt_synch_acquire,</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnsynch *synch, <span class="keyword">struct</span> xnthread *thread),</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        TP_ARGS(synch, thread)</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;DEFINE_EVENT(synch_post_event, cobalt_synch_release,</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnsynch *synch),</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        TP_ARGS(synch)</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;DEFINE_EVENT(synch_post_event, cobalt_synch_wakeup,</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnsynch *synch),</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        TP_ARGS(synch)</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;DEFINE_EVENT(synch_post_event, cobalt_synch_wakeup_many,</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnsynch *synch),</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        TP_ARGS(synch)</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;DEFINE_EVENT(synch_post_event, cobalt_synch_flush,</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnsynch *synch),</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        TP_ARGS(synch)</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;DEFINE_EVENT(synch_post_event, cobalt_synch_forget,</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        TP_PROTO(<span class="keyword">struct</span> xnsynch *synch),</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        TP_ARGS(synch)</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _TRACE_COBALT_CORE_H */</span><span class="preprocessor"></span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">/* This part must be outside protection */</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="preprocessor">#undef TRACE_INCLUDE_PATH</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="preprocessor">#undef TRACE_INCLUDE_FILE</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="preprocessor">#define TRACE_INCLUDE_FILE cobalt-core</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="preprocessor">#include &lt;trace/define_trace.h&gt;</span></div><div class="ttc" id="structxnsched_html"><div class="ttname"><a href="structxnsched.html">xnsched</a></div><div class="ttdoc">Scheduling information structure. </div><div class="ttdef"><b>Definition:</b> sched.h:57</div></div>
<div class="ttc" id="structxnsched_html_ad132581bc8d5df9af99f5ab7b1cadd48"><div class="ttname"><a href="structxnsched.html#ad132581bc8d5df9af99f5ab7b1cadd48">xnsched::status</a></div><div class="ttdeci">unsigned long status</div><div class="ttdef"><b>Definition:</b> sched.h:59</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_ff9c14493303662cdb73baf6424a8ab0.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_54ea96238cfdd2aa9a27d29db1cb1e15.html">trace</a></li><li class="navelem"><b>cobalt-core.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               var dir_4bc8d021f790d027bf9b049713eeff23 =
[
    [ "boilerplate", "dir_16663fcc8fd6e7aeeed53c1a5a6d0536.html", "dir_16663fcc8fd6e7aeeed53c1a5a6d0536" ],
    [ "pthread.h", "mercury_2pthread_8h_source.html", null ]
];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        55ca15fa138e8712d02c2bdfd487438c                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: include/boilerplate/private-list.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('private-list_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">private-list.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2010 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * License along with this library; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef _BOILERPLATE_PRIVATE_LIST_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define _BOILERPLATE_PRIVATE_LIST_H</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#ifndef _BOILERPLATE_LIST_H</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#error &quot;Do not include this file directly. Use &lt;boilerplate/list.h&gt; instead.&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">struct </span>pvholder {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keyword">struct </span>pvholder *next;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keyword">struct </span>pvholder *prev;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;};</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">struct </span>pvlistobj {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keyword">struct </span>pvholder head;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;};</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#define PRIVATE_LIST_INITIALIZER(__name) \</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">        { .head = { .next = &amp;((__name).head), .prev = &amp;((__name).head) } }</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#define DEFINE_PRIVATE_LIST(__name) \</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">        struct pvlistobj __name = PRIVATE_LIST_INITIALIZER(__name)</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> initpvh(<span class="keyword">struct</span> pvholder *holder)</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        holder-&gt;next = holder;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        holder-&gt;prev = holder;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> atpvh(<span class="keyword">struct</span> pvholder *head, <span class="keyword">struct</span> pvholder *holder)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="comment">/* Inserts the new element right after the heading one. */</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        holder-&gt;prev = head;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        holder-&gt;next = head-&gt;next;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        holder-&gt;next-&gt;prev = holder;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        head-&gt;next = holder;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> dtpvh(<span class="keyword">struct</span> pvholder *holder)</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        holder-&gt;prev-&gt;next = holder-&gt;next;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        holder-&gt;next-&gt;prev = holder-&gt;prev;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pvlist_init(<span class="keyword">struct</span> pvlistobj *list)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        initpvh(&amp;list-&gt;head);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pvholder_init(<span class="keyword">struct</span> pvholder *holder)</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        initpvh(holder);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> * XXX: pvholder_init() is mandatory if you later want to use this</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> * predicate.</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> pvholder_linked(<span class="keyword">const</span> <span class="keyword">struct</span> pvholder *holder)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">return</span> !(holder-&gt;prev == holder-&gt;next &amp;&amp;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                 holder-&gt;prev == holder);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pvlist_prepend(<span class="keyword">struct</span> pvholder *holder, <span class="keyword">struct</span> pvlistobj *list)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        atpvh(&amp;list-&gt;head, holder);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pvlist_append(<span class="keyword">struct</span> pvholder *holder, <span class="keyword">struct</span> pvlistobj *list)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        atpvh(list-&gt;head.prev, holder);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pvlist_insert(<span class="keyword">struct</span> pvholder *next, <span class="keyword">struct</span> pvholder *prev)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        atpvh(prev, next);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pvlist_join(<span class="keyword">struct</span> pvlistobj *lsrc, <span class="keyword">struct</span> pvlistobj *ldst)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keyword">struct </span>pvholder *headsrc = lsrc-&gt;head.next;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keyword">struct </span>pvholder *tailsrc = lsrc-&gt;head.prev;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keyword">struct </span>pvholder *headdst = &amp;ldst-&gt;head;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        headsrc-&gt;prev-&gt;next = tailsrc-&gt;next;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        tailsrc-&gt;next-&gt;prev = headsrc-&gt;prev;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        headsrc-&gt;prev = headdst;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        tailsrc-&gt;next = headdst-&gt;next;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        headdst-&gt;next-&gt;prev = tailsrc;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        headdst-&gt;next = headsrc;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pvlist_remove(<span class="keyword">struct</span> pvholder *holder)</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        dtpvh(holder);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pvlist_remove_init(<span class="keyword">struct</span> pvholder *holder)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        dtpvh(holder);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        initpvh(holder);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> pvlist_empty(<span class="keyword">const</span> <span class="keyword">struct</span> pvlistobj *list)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">return</span> list-&gt;head.next == &amp;list-&gt;head;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>pvholder *pvlist_pop(<span class="keyword">struct</span> pvlistobj *list)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keyword">struct </span>pvholder *holder = list-&gt;head.next;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        pvlist_remove(holder);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">return</span> holder;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> pvlist_heading_p(<span class="keyword">const</span> <span class="keyword">struct</span> pvholder *holder,</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                   <span class="keyword">const</span> <span class="keyword">struct</span> pvlistobj *list)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span> list-&gt;head.next == holder;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#define pvlist_entry(ptr, type, member)                         \</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">        container_of(ptr, type, member)</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">#define pvlist_first_entry(list, type, member)                  \</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">        pvlist_entry((list)-&gt;head.next, type, member)</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#define pvlist_last_entry(list, type, member)                   \</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">        pvlist_entry((list)-&gt;head.prev, type, member)</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#define pvlist_prev_entry(pos, list, member)                            \</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor">        ({                                                              \</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">                typeof(*pos) *__prev = NULL;                            \</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">                if ((list)-&gt;head.next != &amp;(pos)-&gt;member)                \</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">                        __prev = pvlist_entry((pos)-&gt;member.prev,       \</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">                                              typeof(*pos), member);    \</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">                __prev;                                                 \</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">        })</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#define pvlist_next_entry(pos, list, member)                            \</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">        ({                                                              \</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">                typeof(*pos) *__next = NULL;                            \</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">                if ((list)-&gt;head.prev != &amp;(pos)-&gt;member)                \</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">                        __next = pvlist_entry((pos)-&gt;member.next,       \</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">                                              typeof(*pos), member);    \</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">                __next;                                                 \</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor">        })</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">#define pvlist_pop_entry(list, type, member) ({                         \</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">                        struct pvholder *__holder = pvlist_pop(list);   \</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">                        pvlist_entry(__holder, type, member); })</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#define pvlist_for_each(pos, list)                                      \</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">        for (pos = (list)-&gt;head.next;                                   \</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">             pos != &amp;(list)-&gt;head; pos = (pos)-&gt;next)</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">#define pvlist_for_each_reverse(pos, list)                              \</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">        for (pos = (list)-&gt;head.prev;                                   \</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor">             pos != &amp;(list)-&gt;head; pos = (pos)-&gt;prev)</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">#define pvlist_for_each_safe(pos, tmp, list)                            \</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">        for (pos = (list)-&gt;head.next,                                   \</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">                     tmp = (pos)-&gt;next;                                 \</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">             pos != &amp;(list)-&gt;head;                                      \</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">             pos = tmp, tmp = (pos)-&gt;next)</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor">#define pvlist_for_each_entry(pos, list, member)                        \</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">        for (pos = pvlist_entry((list)-&gt;head.next,                      \</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">                              typeof(*pos), member);                    \</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">             &amp;(pos)-&gt;member != &amp;(list)-&gt;head;                           \</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor">             pos = pvlist_entry((pos)-&gt;member.next,                     \</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">                              typeof(*pos), member))</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#define pvlist_for_each_entry_safe(pos, tmp, list, member)              \</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">        for (pos = pvlist_entry((list)-&gt;head.next,                      \</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">                              typeof(*pos), member),                    \</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">                     tmp = pvlist_entry((pos)-&gt;member.next,             \</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">                                      typeof(*pos), member);            \</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">             &amp;(pos)-&gt;member != &amp;(list)-&gt;head;                           \</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="preprocessor">             pos = tmp, tmp = pvlist_entry((pos)-&gt;member.next,          \</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">                                         typeof(*pos), member))</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">#define pvlist_for_each_entry_reverse(pos, list, member)                \</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor">        for (pos = pvlist_entry((list)-&gt;head.prev,                      \</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">                              typeof(*pos), member);                    \</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">             &amp;pos-&gt;member != &amp;(list)-&gt;head;                             \</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor">             pos = pvlist_entry(pos-&gt;member.prev,                       \</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="preprocessor">                              typeof(*pos), member))</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">#define pvlist_for_each_entry_reverse_safe(pos, tmp, list, member)      \</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">        for (pos = pvlist_entry((list)-&gt;head.prev,                      \</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="preprocessor">                              typeof(*pos), member),                    \</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">                     tmp = pvlist_entry((pos)-&gt;member.prev,             \</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor">                                      typeof(*pos), member);            \</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">             &amp;(pos)-&gt;member != &amp;(list)-&gt;head;                           \</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">             pos = tmp, tmp = pvlist_entry((pos)-&gt;member.prev,          \</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor">                                         typeof(*pos), member))</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !_BOILERPLATE_PRIVATE_LIST_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_270cc1c74033f973657e8b8306f29fe4.html">boilerplate</a></li><li class="navelem"><b>private-list.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    PNG

   IHDR          bKGD       IDATxy<T8{!dis+uFE5I!RZ%u/IBlI,Q)%%-c8||^?zyuF^}y	!      `
  9  zr(   0/
BPXo
@9sQ~zCw^QP  =  {C   @AF-$$h.G 2w u;v,..?O"?p O


z;P .&&c#G={W\\O"IC:qqq*={vQQBUIIiUUU]=z)&&v|NwqqQTT}{SS<wqDEESSS?so@ DFFN4ILL!6w'!00PGGGJJc?|0^ **JWWWHHHII:,Y H:M$!YY^t1 @ .:~x!!5oofeeM:u}:MLLjkk###B?0}YYY&MwtTToe^^BPTB


YMM?Bhe555>>>x$/dg?n#b6N??_{ :N0`dffO0D"qcFGG{^xZ0L]]/0~c^zDPPPOshRRa_gUa}	ksss_WWd2={
}[,m$]&>Px P(zzzzzzG5kBhqc%//h[IIXssY[iU*Vd26??_GGV{N[[:,Y H`< b2kCCC:/,,~cD+Tjzzy*j!k!{l]iii.\Kv@cg'jIAfeeennwu!:V>k


rrr{z[AAA555K:lcSBBBEEGzz4D"h4WWWPmm-%;L,9
  bc<N:::...566O^^^LLU'zMeddkkks4557uwA]idz{{kjjDGG>kwww111iiiKv@cg'6"""0X> aaaCco5j	~- /++??t/@/uy `jjOu
\>J[p.  9  zr(  P  =.@_qrzNdQuy dQ_|uC:co	;w?._<))i
P 	JDYP sL&
pE^^^{qpp6l9 `2W^=tPSSmDEEy<8?kL[[?p< '^Z___:A30}M\\,l	$ p@YY-[Y+^G	W[nOJJ={6
 ^EE5k,--}	P z)==Dx^P zw9@eC+Vl222?~455NLL3gP /,,	 =N8abbbll@ t6""r( ]233{U||P :Wcc?>~xD0
@}`0!@>9scSRR`# u%K:0A0sssaWdr?4S2L S
d2nz7[---)--3r( !`0lmmy22BF)\Zr( `l,u8`0
~u544u8`
~i<}yx| _F355}y&jhhXlYFFFBBHA]]<6G 8XaF 9jkk.\S:vyJ&''wQ@JJqqxE _F[lY^^^RRyNFDDv=4~\\!%%(9Zt_zu]---^3
%<<u:UV[^c@EEE
		)))yyyu:NwqqQTT}{SS[T*B($$DCCUIIiUUU+,hAAAUUkFJJJQQq}!9i$11G[+_~)c0v~B>|}aUUU"""\V%nlD"~%88!TQQdk+W,..4i{1^~}YY1utt}5u}uRmm-L.-- HuuuK[ ???++KGGB(
JCs{)Wd2l=^?o?x aFFFMMMc2=k_UkcFR5~]TTT!UUU	xyy2D"1;;+**JMM?$ 9Gsy8x.\XzBDDD`DY/_>}*))'X`AQQBH\\.''/VTT7nYaxBYYyE||MMg0c}-//a:9O<Y,fYWWSS6 ~m
455+--]7-//QtPII*VXX~cFhk}fGQeddDbAA6??_AA:
# :t)[[[^WD"q[l:u4k;>iPPPMMMKCh$F
whNNN999^^^L&v7nHLLEYYY:t999|uFFFx-//g}D&w[ZZ 0;vtG=~!t6]]]qB:/""l_ 0www111iiCi4umms&LaXtt\eeecc},,,*++0`~~~--6TVVZYYIJJyw` xO<X:nnnUV[ 9M?\tv``@ * iNPTT C}&n#G:0AC544x !s]1ccC;won:^~CDVVMxKo^!aXyy#jJJJQ-cS%&&~LpP(,,<x`uuuQQQQQQ}}	`0O>:
=&iiiI###]NNN.//OLLqIx`P08p )))99/.\N LMMkddD$y`p:uT@@)Sx[.\1aOOOsss|6#0x(faggA.n/_nggghh@_A~IYY$>zeddlyf999^8c@3cut:=44t 'wo!!!fff]pc%gg'O'SRRS[[zjHCP0:ug`7yg<}4%%e92%%%7nu,medd;w/_s3y.`0ku,d-O<yyw0y!,,X?*z	OOO%%UVi/r(4sW7 pvv&\2`p())4i?cA,{{/^mP0;<?ohh8yutt.]4X1\`pvv~@Hqqq;v>yL<{iooo---+W._|?~ttt
722


aaaa<4mH$BXbEVV$P7***11QBB'DDDl]XX8!!~(


wsT*u5fffo
:` jii5kVSSSzzz/+++&y##~n._~N---nnnzzzo
`tww?}n[XXhiiSN9::g`sy0O<_?'SPPqF?w2n7:#++;k,T0lMRR"Fi@sgccc4^$#?J8HRRwHH|G
8cci!,G9R\SE}}MLLY?-gffgC	P0P8pjiiqvv633[zujjQ0$<={$++JJJ(wBCC9uB~YC544,Ydun+99BHKKgdd;!9;;_tN6g%YYY=ZTTTOO]9
x,55^^^


kiM[ngOLL`YJN4I@@ 44k{.)))xG</Ym999QQQkZBJKKK,m`d2+**RRR#
x?^iiiJ\	!SWW/)VUUecc#%%oWWW%%#GZ[[WUU.a}&NX^^TUUvZ0tuu!22rIbbbGE1s7NTTT__?55M=!asy#%%u`UU>|/@]\\%$$o#een8r> E&/^&BBBJ/u'?en:,77[GGYYYSNok&~<bV[[K&KKKH$R]]]I$/_B!(
JC{zzJKKGEE};Lg1~233{-A\8++kI{w_hQhhhiiiMCo03fL:`p~&gggGD_;R?ef"oRSS;vltt4wQQQ]B>|?c2m~"MMM?}B(770PRR qW^e/aXVU_m!
7_xMMM?t4(G!++322LR__w1f/_-333k]s?KIIyE233D/_>}dmqqY?m]UjB%%%rrr@ ,X!pPeee8^yEEbbbneN:z>88Nm~~|aa!c}OhhhRRBFhk}fmOvvIUG~mvvv)aT*5==ng0988pwLLLBzz:oRwwqYYYmMTT4::+66u2lnnsN??[ZZ":0n8Vyaaagg[)4D"h#G jkk;abbbM{aa{Xv?C&Lg>  oo}6kNNN1c?8^9g?W\\lnn **oF9['VVVZYYIJJq}bbbh4WWWUTTbbb.&&caa!--aJkq9MMMaa~-%%1t}}}xhh222wgx(UCC_[p!!!Vqk+a<?sU6m	%CArwwT?  ;uuu7o
{bbb_naaj`POBCC?~3"
LMM333:)?4448;;obTqAAq) l
#GjjjXQiikjj5448R' 9p]nnSF


,X
	QCCc-}*;;{Y#FHNN
wO>GZZN%**x6bf 5667n}*99daaa	`0.V\\111}}}[[[!++;k9p?~fk-
		i=%P#G.ZB,^xN7Auuq~-[,88xh'<u~qQfff
e@9pMGaa^Wb+V)++/_Bp>(ys$oZKLMMx)    IDAT.]
s0~(:#DDD[C)><$$$<<LGGgU+Wu\
8[>LNNuyFO!!!	mV^=vX^
uuuBBBzWCHH={N<_EEEdddPPPjjU}l ={VPPw8pQ`###"(&&a:.yC'UUUIII:;w@ ?lT)--m-bbbd2y7oh
pPI@ xxxp<~PZZz	& 455=<<xC|UXX_]wGUt:=**j$I\\
+8f=COg^z;8V]|f;^'q0DD"t{	888p#*c0<P($IFF
Cg,]=>11d5FK.W t|4SSKaXRRmlly(
8`"""<`W^;7<<|`N&RWW|3g\rL]
8k K\\\ZZZzz:deeM20/[SO0<yOs}W&#__(7;88HII:.0. \^fyxGDD,[H$:.0@?<yrpp0;KKKw))>.]vttuP`0~(O>EGGSf%$!?OTTtM;wOPKt:]SS4mE=SVVr;w3a}lMy`;1++7os	9""bfRaaa>|ptt
Ao455?~nQ]0lwMHH5555W\9uo/^>m4Db"WQQ
z?trr\r3gC`m|YII?033+((	!(/^i'OiB%/^xq33ql"..1py@U .c'NO`!n:e+WGg'7lGwj9XHH	/_>b/^C\9Lpppaase233/_NP;!577ikk[YY)++x"..nY4 ' 8~;+SXXhbb2s/s{.  [`v
z ,,,//NhMMeFkjjN8r+VAE999=ZHHH]]?h4@vavq+VTTTq)?~\x\jk0cGaaaddQs:Gk'<<~d2_?l_s);w
		IKKVUUqBP(n>yDIIqB(77jtXXOsy;FPttt:,p`8[;~xaaJ=M]\\%$$o":::RRRVUU>|8)(]]]!!!%%%///P^^@}#o~#G-UUU666RRRkllwrJJJQEGG

^vI_bbbBBmtt4@xMCBB9.]J tuu_&6Zx3gJJJX\8++kI{0!dffVSSZlYMM>Lyyyuu5D>aEEEnn.Bh>}JOOWSSsuu211Dugee/Z(44}Td24  D"u}wPcxwRKKkSLYbaqqq7on'... ==}!}}X&6s(a#33}	$vuuRuBB1C=y6sss_WWd2={o`VV^Uhh^ D"1;;/fQUUU	xyy2r(pdddB|||ARRwIHHP(n/55@ L>=66Sv7nzL&UQQ+((TLLA_w`ifJowSKJJZwonn"KKKII$%%u0x( a!WQQd2,X~!;q%KhkkqdqK1[K.{&vl-@044[yyyVR,#dffk.OO>nsGH,((X`>*F]wTUUCAXxZNR(	&Jt`t9c*30l0+++ss{[tNNN999h4D\]]BGyyy...& ;wsvv---0*###<;:~ {mNw]gB/
 ~w8st:?`]vqqill?h222bbb***>>>x4  @EEEJJ?[pJ+++III99{6660`~~~--nx(PD"qT*S<>>W?}'mm@
o{g3$}}?cvCCC|M;YOdDoXiL&cfc!a.|Oy2`"/>|-[x@9tM?D"	444)ai|||/UVNp}s^Js%.KJJL&BHJJj1Kx@9t$^j%HNn_CZZeX0es(.?PUUZp1cULV^A |!'  tRV6$HL&>|x_~p6	`0\]]7l $$/_I>|G	(((Y5!	r(_B|||d29>>g|||L&?|}}uuu;7;;{4SPEEKvY]BOsZEE#O% 
:OHs7nB"9cii5s~	\555g|iR999cjL5jT:c wv}dee9;lH$p57op
*J }#F"$%%deeeddddd#""zH\dIOF;w`K755}MwzzzVVVJJJ^w_73V:$n 6_{cc$+#B9py2?&~e777u=zyZ477_zT*v2zG:^RRk[SSWTTls&>vXQQ~;>}`W\?'N,))XF1fUUnHAA.^
t_SyEff&%$$?f0TA;+**PwNd2  0sDWTTZVVfee5zhQQQ==nvwS-%y:ticcK6nd[^~uFq\p+Wu:{sss?~gFFF
q_~7osDvkm2e
>#:DjR1s~Y9R&M2666lX||%K8VAAS9U!B(;;L&;u0RB[ls@@@FF=:rb//GG5[KOOoagY~jbWZZu[ns,&zH$jkkkkk744~:######55_D" Muss3g*BHKKL&7n}aGoBihh

3&BHQQq)6l766NII9y:^;;&"RRR|}}+))~n:111;;c2M?f9HXXx3f|2333;;[CC'!_Go#""^|]UUecc#%%oF|3rH{{{|(]]]!!!%%6K"<???m4UUUWW> 4p?aulYh\\kMD"8p >>[7/99yAAAm!VXhiiP(K.={,Nw9HOmmm.\hnn+WMMM?^WWY}2>w}]zuv9TSSFQQQ%%%/_^x'N/_|;w$&&?177:uj^^$qdyy]veffb60Sgcc#Fkhhg555VWWWYYZqq1B?~P(7o'))3mrJMMBxD\pw[
7449rDSS7o>w\mm7>}qbvU`sy:|NNNg@/gg#G}vQoxSMMM			QQQt:@ '7m H'fFqK.?.[/]p?wsvvv-CmEUU|B;vvvRj	9tc?!222mc*`0oWSSO!MMR~~":mm>dCCDgnOd[RRf`Z,1bD^^^yyysXvm``K:>|3g?gxB-+W/X,$4MEEw*++Z \SZlSOt~~~"XPP_g3N~IYY,<<5
&MmllquL_"zzz+8w_)]]'a2IIi9_U__Nt|j,zCgeem6QQh///7L&
Bh/^R...h$F9r!T[[;l6D=:<<~[wrrrM***#oWPP(((qa0;uBWNLL:|pOo@755?jjj
]D">^edd<==YAC./))^}vtt4kmO2e-:x }-Zd7bww5khkk3bE&TTT4v,]7n022"D"q0"!,,i/D''ylKzzz7onSCBBBff]H$=z~ZZZmKKKiiCAAeiG(((cSLqrrrppa~ L1>`}?~vZFFktY=#ym`|46IKK;88< !??666?~u8`6<xpY|d2N_r%fjP^ 8`oZZW%#4mv p/Caee`0$We- b!LBB;X$%%-*k~(|tzk jkkGx?0`!]IG$gp6k5@@LFl=D?X[|FfPk#r(>H?VzQ~56@{vvvtqq3)NosQL&MmT*>3>D !!9k2j(<v}iV?)566{wYx7H6]a'OAp5kwJ"d2Sl$)) '''+++######--M${H\d`;Q__`0M&BMMM_~m[{/r'(((//cVUUURRs{.TO5fxuu<$&&vKKzaON#2{F555g|iSUJy+UWW#dQX@ !8q7odrBBg<uN63gwq@8uu h@AAAaa!v4 rhF@#`PPPx/733sowttt?~<{4$%%n7zzzmnllo	_kYQ3 k3&ss'z
xAB    IDATN(nm700hjj#G[od2_|a'O*BCAdeeD"+FccTVVY}r(@/R;705t@FFukiiijjj?td21{	|jhhxM:G]]spGxb 
:$##R{t:`heaaa/Yf9311MoaRPr(Lyw+}}}4J ;?s<}TBBpqqq=0""666v9< _]Lq3g TTTXk""!!l2]P(m7o\jS:(!!}vttknRRRBa=ls;l0QQS>|m`~*Kvv <NgkH$HSg@@@JJJg>{!4cX 
dee_zaXUUHyy9B(770ww+WgeeM4id24  D"uD"~%88!TQQqe{jjjxhP8}vQFRMbdWMP(
?v@`2mM!HBBBVVV[2,!!2sLvSSSMLL~Yf5Cssso~AX1SWW/--'$$?J@@d276553N]]		3ZZsU.rh/tUC?#O>0\KKwIHHP(vW
@ L81<<|gRsL*@@LLKKKII$%%Uu{M~+_X^~fObdg5L0]knn2e+0ys'O#z'2eJttYYdcr*0*dZZZBBBd2JpcccP\\'U
		ap<ou t:abdW9hc78Fff)k!am7o6>lff=c{{_zyy	w!___zQ;lu'O)--WTTD!P]]mffbdW9<yyg\]]D".H$eeg644p^Q}1BF9::[[[bFwww111iii&)**j``=|biii9y)S~(as+3vX%;<A?e26l~
w)$$$--NqqqG6555{ZI9ZjG??ip# eeeOOB{{{OOOeeeGG2n,--_|C\ @ <x044 K,%iii77G9::r)k/_njj*))icccaag^5 q[ctQ.lnnv<uuug5j??UkC#...]:rTGG<??/^hkk/]433P3SUU(w;vCH999_/..:u	iP3D"W^-,,yBCC}||:Y9sL:5,,e ;"LMM??!IJJJffJ/Dt?tww_bE}|||||at@ SJKK>}:g$_n?>  b]7o^yygym/_233UUUMTFP(^EEEliiYjabGsssxxSB{xxxKKC^pssINNgTTT]WRRRN8qUU;vlYXX!r(7fggkjjv[f)))=ZkKrss?'""q;v(((:(0@`0tuu'NOr3g1bbbpw]]	P'ky%>gsg-''0l0n&x?;a$qA r(bbb%77wjjjjx=aXbboTTG9;wLLL<yr\\ W___k
PC9S@@ 11]^~=9sYCt~}m6
fq4 Piii!>>G{Zjj*2,))g>:"0@?piAAz0	GLLLV^}}||>ggggmmR P>| Heo>(V?f0<P($IFF
C{777WHHG;P(3gp)6+..(++300133I}{<0 bMneS;:u6)	HJ[Pv;ahR+-M#h$`3?3gC=<~;v111%ZnnnD"QUUumxb5SttjGG}SRR#GJ:::.\"Gmmm;@_SNC	78UUUmMUUH$
P d4M^^~{rrTTTPC\f'|RRRKJZYYegg7
7y&///--B]]+  /,<k@w77[n-_rrr6me^p???$P kioo<??^ow;w.;;VVV^^^666x|
DG,HII	{"ooo??TFBl6"77Jj(m]r,pW\\>[lhh066vwwb:@nnnsN;mu`4++T*u|
Dc111yyya4''^SSJ]vhPCXYYQ(SNN-W^zDP6oB=$p=7;$>b2&~.\="
Yhyxx[.44tppP(JyyGOHlP r4emm]^^" j(933]v<xULMMo-##|>  
heeeK. j(EEonjjj%%%7n j(*f;wN	())_U{$jBcct{566w	j('N0Da(++o@?%Q***Z[[_xQVV644i&IUU{c@|s?XGGG(cX?~?III***xG;q(Xuueloo>/iiiv[ZZjll\^^a``{###MM.l 


s'!TZZJ&I$CKfLP***G!.\#HFq8$++{o"?VBB\]]B	}paO!T[[d2?s8KVViU>}Jccc;fmmC:dwcyyy577t;;H&)##s"3N`c6oRL&1h4--/^#=zJvvv&%%!^~}}}M;2wO cll,l7`}pMr899=}A9o?c~~EAAG9KFKJJlmm{zzl6s'o17)B`o!644"55;EZZtk(1obmll;033j(Z[[Ds+VPVV ^C3V;}phX,):./////y2Dp8w3g3w51w`IBO<NP[[U[[;>ydcY<x0b1~<p=@GG'..]VPnjjv>}T___OO{Tmm#Gm===nQdX,+==-((kS`IB/DNbjjn>OI]]a}}5#88?un%++z[
dqcXXo`08Pnijjjsuu_Yz5V_~-%%%++;N^7F'	gK^|Y\\|ADBuwwO;vDEEttt7`D7ENNk;;;E7	\7s{D}bkkkb322LLLdee---/^s'nN2<<@&1&&FEE/**Bf>}L&+++Z@EEE(x<EGGnj}}Ge*[SQXX{L&O,::ZWWwb[d	 4t{f
zTy7{yy}l6[ts|EEE{xx3'((w]#X %""D"(++%Fsy`/m&oQSStR1PC=[\\<gk555$i%t`
$CHHHXXT[!!!6m
dXbPC444pF"G-(((,,\l? LP )SSS^z9^]]=<<loo_XX(Il# \HH.Y,VXX@D*p@D_Vkm>k[?VS_zU ,_PC_;.y={pGbGPpbbb6l-yUUUWQQG)++mv0Cq(Dl6fbP^^3gyv0@III-urrZn-[p
$3g>\ EEE'11@A;<PWW%@WW{*K k[[['''x?WH
$3g?/F'`0>Cggg6 5H:={l OSS3;;+Lhp<@p.f!''W^{aX_W_}emm/^< _p
f "x7o)(((((,]t]pj(={Y O>}Y33nppP p.fSNUWW[ZZuvv~4M[[Aw
P0XZQQ8_&'';v+<IDbVVV[[[hh(Y011ZII_;`100H/h+WuP@5**j555xgkMMedd-[VXXf+
f$6V[[{]===<..x{;&`\d7eee3WZZZ\<._`0"##2	;;SNq`f83?~a-xg'OVUUY[[o/::nZd	YSl6{|5kj(tw?OPPTAAww7BQUU-++v<{g,xRT*uZ]YJe$@P]QQQIIIwqppV/  fVVV6l;wntt4qF;/fk:uxg
8~-[899~p
fof?;FJJ*##b^;YHAA;c%B
`v(,,lll

bx{kkkkkkEEB6555ihht
`".]gY&/X(O@l6CS@+RSS/,+--%$C700PSS		@(((#lvBB)
v;@8{#G222ra^.\#H%IJJzVXQXX]L3I5"	BAAl? !=#*Bg2.\@cm\\\Lf\\Wss3N?D?hZZZ/^(**NNNFm;11!1zQ	Z9sF__  IDATfffX'M2AIF>'}sKn fo@ $''25#6t:k`nnm_~eaa6--m}vvCCbn9iKsq?i	zH"
wBxxWn2E%p-F%%+od2hii'H=+pBn3[[	n#vtZ>}r&b/]q0~	,3MH2q8OO;wsX3SSp3sX>fK:nO%xF$rqoooEh\]]{{{Y,HdX111!&gK.|harQQQ%%%x9c' hCCCT*D"b	v={bUUUL&#H&&&ZZZ			d2YQQ|Flv-ldU


TTT?i)P(JJJSw=WWqF3w|+W.X {x}q%MwP899K.YZZ\xyWt{UUUEGGJ}y.RRR***\rO?D***dMv;q(xG)**::: \D"/lnnfX;@.YYUV9;;HPC;+nnn_;ywtjj*Juss|2q)SRR|||Nf  trr';~ee%/ZZZm70a+<kLS`-[xxxH4 UUU$P `0[rU### 	606kkJ
r= 	5qYZZ:99H" LD"]zFH
h7&''+((H
 Lk|}}MLL


$0UkP(7o;PCsse^#l6D gp. ?~;v,[,33S[[8 7PCSUUlvZZ+ ?wEVZw"8@PoWQQ
CJe0NNN[n; 
Nj( By~D@ LYYY===,|A@,YR^^|2_
/=z4>>^NNn;vPQQ;& \GGGBBFw( PC.Flm>3Y j( b}=44	P bo+WZXXh43P x q	 0GDD888URR+5 qP(T* !rss         ^|`jjh<lll$c>%P $Ngg\VVVuuWYUUu&;	IEm@:::&''c---_|yu	8GBl6cNqeRQP $Nnnnxx83g`]]]AAAwG.H#lvBB)JEE9P(!s)#22PSSmllr'syijjn}@MM-$$d`` !TPP`mm-//?wtA_)  !=A.7okiUV=}N[[[bR$i4V~~/B_=wceddf9Ktuu"ygdd :::\\\M:A+W>y?L"##L[[[SRRDbOO/JR6 P jbwvvo0??XVZXXr;MZC>8o$o}8@}}}OO_^Dt:wI[r8lSSSvIImWW\||<6< E]]]GGG;xyaC`.\v>8/EEEww!YYg;88''hinnTKK.@ =#H...555RRoPC86l8~8gMA%%%mmmii&lOtajj|7//-
;sI#
-O'OywvvVVVX,]5 HoTTTC!7ocgK.|0LS|`lbD"=-### ^~~~QQQMMMuuu;QWjdee^P\  Lz(yy0g]]~lXq=<<@&A
)>:ppp28qqq$$11WKKk7k3o<~.,+<<\[[[UU500dr8YYYKK/Nz(Xl ^Gsy  P  P  P  P  P  P  
X
bhhwBwqppPX .p@RC p=  5  5  5  /D    IENDB`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        var dir_6163dc830b2462503414ab68ba41de24 =
[
    [ "internal.h", "lib_2psos_2internal_8h_source.html", null ],
    [ "pt.h", "pt_8h_source.html", null ],
    [ "queue.h", "lib_2psos_2queue_8h_source.html", null ],
    [ "reference.h", "lib_2psos_2reference_8h_source.html", null ],
    [ "rn.h", "rn_8h_source.html", null ],
    [ "sem.h", "lib_2psos_2sem_8h_source.html", null ],
    [ "task.h", "lib_2psos_2task_8h_source.html", null ],
    [ "tm.h", "tm_8h_source.html", null ]
];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: include/trank/native/sem.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('include_2trank_2native_2sem_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">sem.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2014 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * License along with this library; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef _XENOMAI_TRANK_NATIVE_SEM_H</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define _XENOMAI_TRANK_NATIVE_SEM_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;alchemy/sem.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _XENOMAI_TRANK_NATIVE_SEM_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_38aa90e3591c9392c0b419b95156e867.html">trank</a></li><li class="navelem"><a class="el" href="dir_5905f2215e5ea602a3f127753fc6e7df.html">native</a></li><li class="navelem"><b>sem.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       PNG

   IHDR           bKGD       IDATxy<Us,%[bE)eDs4j&TLI*)LZR
Z!\.r~\wlYu,=y}EQ    w  0@& @'D    x URR`0.d!d2KC? dee]( """.a4133jO N  	2  :A& @'D FjEEEuO3331	B	lmmmkkkZdo. t.NJJbhxx|3{"##_<~"88/-jllPbbbzH pWgs93ZZZ/_w"lUBB
{%"RTTd2V:p@h`'ls}'0EFF:;;?u%dxxgW/9am$Fw7n...v^^^'Oe7 Hll	BCCpd" #ZSSSUU3(naa Md"//SRR\2{{|offf>x 33s}QQQX}[@@@WWO$%%yCPJJJ<==ZZZq gAfx	HCQgc/!nsE,111
k;kiiBQt(~_XX[;~~~
d6773?v`\2eJaa!K,Tt:]RR@ !E~[3fO:;*[ZZ*((hlloooReeeYLLLzkGTT4###++KAAAOO/''PL`322?,,,F			1?_w~zt?%(alRFFlhhx	 s\\
eddJJJmPT*ZSScgg;.( o<\WW7yd++G|([SS9''Ac s}cccYYFUOOOw?+VPmooPQQ|26kkyyyy+l[;!!!~~~---}vL 7DEM&,,xb[d2gtNo"''geeT*YZZZLL{QXXB`Llkksuus)**=_( N""".d4
 k?  :A& @'D      d"  tL Np/S prFr999 nNJ$}gk2 |<{,**JBBnd2JRR;aU^^Z\\<{lkkk+++  wO`8.ukI666-.k!xzD `;w.%%EZZ~PRR. pXSSKKKK[m``@$wmt tKKKggg] >}:!!A^^~[l(0pm CvkVVVB ^ K.233srrlmmah`il2###QQO&&&]D  >>~7n{w.]wQ 5k7/_^`EL+nlHUUUB9ymllEF?Nwssk:N@?w]VVm6ooo8p\L>}jiiy=pc,  455c@?c<<WouY78zs~G!!!p(3wpq'''^^^+#ccX@ xd2iii{7.wm%##{$\RQQ{n}233O:!G}1#rrrd2*F^`,+((Xr={GT 	2Mt:jjj<<<(0
3
]]]2?'1SMMMXX8//d";
}}}O>wE~UHqq1p:bc111##666OVSSTE?dsWUUUUU|RII#^QLL}mVVV.NJJR0UWWoH$wtt]Nd2)**bM -'9.WTT ;|gquuj_^vA?ns),,cH$qD"H'N&i4{eeeo HLLszk
')Sn;+WJJJ=z4,,LIIIDD{N#KWp)k&GGGAlll.gOmnnnnntrrci455D0AOd /_.^ /_qkf'bt%(666"A|t\'B&Q)33SYYYJJx2HDv"""WUTTw7o^{{W(
|OtE;::<B,$i5CQAb,@'1{|###+:VXZZ^*//:u*vTWWWxAAA[cc222`;"~ )S
^dIKKW?L444n)%%wEJPP!??%##J'O+33C42/tph4!!A6t`USSP(O<.
tss{}AAZZZT*HR^^^477`B.>>>>yq^^@&Q ;;[UUp#+++""Cd}+VPVV>q3c==RTTTWW:u@kI={FV\khh880.4 7o.cx2DDDpFxb," lmmmgg?ddd`+6+D?yscccbb>q`			@2 666nnn))) 'v#EQQ_YY# ptR"pD3:y	kk@+>tzMMEDDj+//^ O>}|~VaUrrr/R 7<yOw9%333##eeek644v>?(88x:pBmmmmmmMMM"z'#d"nT*gXTw---			.6?i 055}ktuu.[


RRR<x`0,Xm``b
8cDLd2Y\\<66vxa
%---!!!))bxW2;99.azz:.hvss?w/%%%11RJJjxW2pWeeCBB.gHw	\hz3  =yDTTtb}}}jjjJJJBB.p.g L/RRRK8A&CQ{N-X]*iii]]]CCC`dCYOR(sW]w	(t	9wRQQall\VVvW]`t	^+**wu OOT\\<k,:N$_zejj*--}MEEE`b9l2CCCmmmD0HhH$UU]]UWW+**jkk[n,:82FJJ3D"qiii_\GG3]B555D0`t:}9c0x{{{zzrvq_633wpp

cNK0}tLvi&%p,Es/L&FIIIUWWwu	|9??6.!t	 @&SRRjnnm9sqA>}ONNf/7w\tVPII	A==u~8i\00okk%"d2~D"
uWQQ@?@AAyl5D:.%%eoom!CR9C ,@ HII			Apd"kfdd`8gQHFH$ JJJcRRLb 2L__lCY }.'X
0ay_z'O|W$&&&C_%Ke[]CpkJ>Uiii;zyf?6:
0>6NQdP7nxzz655555566
		XuCw <<<'Nd?LL*01      `2FPPpUKO***e>@(..Xkl~kllh#kTYDe1?`O|qUUUUU/83661 UFUQQE@II/Y<u8=sLtttdd{KK#BP)#**#yWSSSllK8U|r,#&&w0L<y)SLrW^!"  =?ydA{iYt)V8NJFFFIIIiiir\pN	#G4ikAAAkkWEPPT#G|7,_p "))y1 O$H$iWm%&&!~(dIIIssdBu&#@022z	6I/^H&O>M<===J>}Ve07nX]vQss|
r1ccc2?#bjj>|hookiiyA\/VVV>tPQQ2RN0AII)44{FWVVV\\|hjjBFFF-`3'$$={o/;w'Oemu/}L&Y {/_7n]\\<))i@+[vvvmmm]Z{i:uu***cM\B`MMMiii+gommEQtadee?~=~zyy_[XXxE--t7#;;FEE=|cgYYYXXXot_n[[Jmmmgmomms?}5,cbbz[R211	9qDo)$$D___VV|5G
bnnTRR vucff2338qb_mA7o&$$sc_|177_tiqqoO$%%y{{+ s#G8p`ThaaG}V
***o}.-
4sW@DDpt9i$$$XbIj 22K|||; @n+!!!%%p7o9{zzz.$&&:::N>A_v/w-"8w^uNOMM

:u* }NEbW	

ijjikk{nxxxtt4W36qD{{{333A<x0e99nA'N`~AN<%yOO{	

b7>|c"r_c^ B={	JSoKX?CNN%K]fgg]B@CnnnVVV-
4L,**RVVFGmx-[=ztvbE!ov1n,RYY)##=MX/			\2==]QQ.\`oMMi





}aaav!// HCCd6m4sz}BBBW\o\0i$*/\iiY~XTT4##[MMa=@uTE[@5Y***JKK(
kR6k,X 5o<cVAAAccgc} K0Vb(++WTTtiU^'(((a'544(JFFwXh\\:69i*
gAYYYO4?yv_}oEd'66vd>|qq1+^zE$RT*544`DDD~ILLLFFX466O"lcKEEEX222&&&6lhooN)))za6fo`Oc%V,,PSSc}_]A+}=vw~Y-
)W
3SN_eyG  IDAT}!>>}^^^SS[.];O3gNmO9?L&222{I[[;00~joo?y],YBP._;]]/JKK=3!kvlui/~ruuuuuUSSkjj"=BDD@n@""":;g-kGxxxtss;y$Jutt?{kqvv>|CC{ZZZT*HR477OAAO^  NNN{]lYnnX}]]F///=z_+$H;wpBKKgoAODYYYf+rrrVzYgj9s9xgBBB>?k5wyoNVXuVAD,%++6776uuulgg3glD"iiiYYY&h~~~77 &L044444<{7]v]APkii@PP-[_.(( }~+V8qnNo- bmmCP6ow	&lY\\BOOEOOe'N n``g}W^e3g8;;/YWs7p4D _e_N{WcbbFuz`0w_}D=%''s6G`a#czg"ZWWwu}}}lK|LS\\|leCd2L&766>3f|%KDDd;F q,bbbk
Csb,  0P  	2  :A& @upet{])cpO{:8
//1#<|ppXH$XB[[p&|9I$9%K(**& !&&n?-v!qt 7@&Xv-6;6mq;8999eee"//o}}?  7P4CRRRmc*~eAAJJJHHH[[[[[[OOow OAAA=H$2Ll$o[[[755/D"9::
uzzzK"D00uuuJJJ@"^x~>}doo_4//GO			JJJyw=J \bcc(z_~dh4)).c3\,?G 
d"0:Z\\oooOOO.fffAAA}Y[[{}Vq:::lU`L,D"qiiiC?]GG>v:)))<<<-344#*D0HOIIH$UUBl`u+>W]]  }v9t:H$*((dggzTJJ*..ngpCEN`L())!RQQq79|544#LD&:zB&&&;wdx"%%%%%(.X:d"<E:c?G]>555%%%!!aeWG0t&	2p/bccyH<&&&VVVJII^Gqqq6m*((		q#IAAABBt6DuNNNAAAnnn>>><<.@?w8ydMMM<`?~aaac|Gmmm+V y/**;k,0
TQQ<HHH]/D0*++7mccccCQ<x`@qLmaaaG_rII5khkkN:@ >|}}]]]7lp{G:pBlGMMMpannN""##,Yw9%333>>eeew O[lSRR`0P?>[d2Lx g:w sss4N8q//xjjj;6p+=Nqe8- /^ .0~A&BAA!==tM]nL#@ppO:UYYwE`L#mVVV}}./`$3gNVVsGGBM>]@@@EET*?o,..^%QTTh}/zL#@``/]rb+;7b?E=R l_^`Wc_o'OXC_zQQQKG5d2WZu/2HfffYZZ]lhh&WZUZZ=h{}{{{;pelLLstm6.Kqj{{xRRkN{yyO< &LPRR
7Z !66VBBbYyyyx2T'>~xyN*//gi`?==/^`755D0AODQ4;;[LL%3LEo9uTjWUU[tko477H "HPdOL-[&((}G~f"#''gD"k***UUU;w7#L^P(L&GX?X}---BBBYYY(n}~mll,6aaaLLLo466au6773?D wx3HD
r5:M2L///YYYlr	|Xuttcx---e9884^QtssP(BBBoe_	/v'M'?$'##7sqqIMIV~544<y{D"7nbbkk@(a>haaeDqnnG{kJR;;;]] D0*?B]M8<99(::
{`<iiiRD"Jzyy!Bkkk+++MLL>|{>	egcco'''V>uuu<<<|||O Mtte ?Fu@vmmmKT*YZZZLL}b``T,rrrVVV555W/{QXXuTx[[h',,LQQo7n'mg?z555[luCb6~"|+33ghhhy(d2L&EQ	2ftqqqqqYzo>`L!H=kkk?alZ0 `;wnff/^]@@&H$?"""-_ `@ Xv3g,^8''H2c-[/_w] x0Zqin`0go1< G2$74p_JJJvoeeu)S]Y`"_=z4sL___8Y~"T;6sgX D0N	<x0??)o'{ r7oo9D CC|Nc @FdVVVq2N.|7gggopF?Nwsskpd" P('O<~ClllEmg z%,,|u?| wA&YYYW&{.2~QSSKKKyoi&vLL` sssoQ^^h"O]$D @ >}4>>Y]]]__x82 O<yaGG+/^B.	d" Cq+++<yD 8hg(00 p/_.]_RRn:GGGh W0sHKKmEII	W@&]aaaeee+V.3D NOJJpBrrt|rhhogemmmeew] GAAAhhkjjlll$%%kL`8SxW18? PQQ{fhmmk'33S?9 9992wcw>      d"  tL`'$77w.5(**2
_sgg-&&>?~\UUUQQEthH1\ F
ll
 )SKJJ;vl%M<+ciN)c8A?QFWVVV\\|N0AII)44Auuu0eh%.=t (^pa9'N.@m[bbbo%m{]\\<))UN<y-U>( d2LEEE]>>>6m*++[pKss3D



"
!.\@KMuVmmw EEEdggVRxx<DQSNh2~wUUKh_4L`81UTTw7o^cc#??Ba2LLKKCQKs^LbebZZZPy{~mll,6aaaLLVO SNfdddee)((uAD"aSUUe1ZZZ[ZZF5k	V dddX]'OPT*ZSScgg.XPP|Wk@Q4  ` ETTT\\JU())=zSY nnn/((a :::Xpa3777;vs>55=V[[[]]]YYnbb>=Clll_PPp8 oCHRlmmQSTT={7PhBBBhd9SXXXKK+66VDDKA!''geeUSSwI(:::
hkksuuVoc0IHH?>6ylALI3v`<~ykkOgkkwQ#\xqZEEE++> W D#G9w!#l; @'D      c`dffbg)1 3W-_#Mu,  	' @'D      e    IENDB`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: include/vxworks/semLib.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('include_2vxworks_2semLib_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">semLib.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2008 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * License along with this library; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * This file satisfies the references within the emulator code</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * mimicking a VxWorks-like API built upon the copperplate library.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * VxWorks is a registered trademark of Wind River Systems, Inc.</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#ifndef _XENOMAI_VXWORKS_SEMLIB_H</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#define _XENOMAI_VXWORKS_SEMLIB_H</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;vxworks/types.h&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#define SEM_Q_FIFO           0x0</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#define SEM_Q_PRIORITY       0x1</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#define SEM_DELETE_SAFE      0x4</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#define SEM_INVERSION_SAFE   0x8</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">typedef</span> uintptr_t SEM_ID;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    SEM_EMPTY =0,</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    SEM_FULL</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;} SEM_B_STATE;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;STATUS semGive(SEM_ID sem_id);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;STATUS semTake(SEM_ID sem_id, <span class="keywordtype">int</span> timeout);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;STATUS semFlush(SEM_ID sem_id);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;STATUS semDelete(SEM_ID sem_id);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;SEM_ID semBCreate(<span class="keywordtype">int</span> flags, SEM_B_STATE state);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;SEM_ID semMCreate(<span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;SEM_ID semCCreate(<span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> count);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !_XENOMAI_VXWORKS_SEMLIB_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_b61940021cfdcc66b9c0edb0585755cf.html">vxworks</a></li><li class="navelem"><b>semLib.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 c477adf8165563d01c129dc597858f52                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/drivers/analogy/sensoray Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dir_8bbb90b49b68e17ccfd7c070700a69cf.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">sensoray Directory Reference</div>  </div>
</div><!--header-->
<div class="contents">
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_0de1d64efa6df97eacc8f5b0f9da3e59.html">drivers</a></li><li class="navelem"><a class="el" href="dir_f27ba24392e124d493884539fbf16581.html">analogy</a></li><li class="navelem"><a class="el" href="dir_8bbb90b49b68e17ccfd7c070700a69cf.html">sensoray</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                PNG

   IHDR  t   %      bKGD     1IDATxyPSOXMY0 ,2b1EAV+ T,bKP*.jSY`!q/% C;n@%E@ 7A@( y%1/hoo
ph4FS\V frJJ+%,sijj ,B {)++{{!;vP	HLLTP\PrA J.b^%p\&ijjWZu!'kp8\kkuZ[[q8yhorss-[|}}|5J|=Rr4oLmDDD_pq2K[[/e>hHtrhs  f?{,99yl6{hh(**Jv|=d0p&2rtRjjt7*[6RSSgE$}?f2D"qYYY?-7VlllTQsBikk"Kr7n 

\.@ 477 p8[ KLL466^t1Wkkk'%%jjjLLLGGG'G\xrE$3
l = w}{a  aaa|>_G==|>_WWk=SMRs*ebYZZ[b={ .KKKh  @R={M|>00p-t:gfu7ow8u,r^^^4o}L<y2U2{$.7H([p\)QpssF"Kr9O?D$?nXN._<66 |2DUo>qDbbb___fffeekjjjZZZ=WUU=zp 8~xzzMxxxww_^]]6>rtzxxx{{{BBB``NkmmMIIw  ^9vC ?}LKK/nnnX&9:}}}}itt
 EBBBKKFJKKN<b~7{Zz_'%%^s{.#G<z177766W  bd}d2y*		s<>|{a}+**SSSgNKJJmuV\7lPTTdjjZRR pttTUU ?':::1 ```|VVVEEE555n
 t:]]]bH$++d,:15P$xE<yfLMM z*fG! fggYYYySG# @qq
Oaaa<7aVVV7n`0555QQQ-#H0 t:@pww DFF.Yd !+44<(([Nx'''  X|9D
qHHJSY5PKK twwWVVd^hjjJ"bcc*$5E"a:*FP(JlllRRRLL;mVYYimm} @UU~ p|BK%eW ?.
W\	d26"b(J\\:::\Vd )Y(#@XfMUUWbL7II)_zK8N+
>|i5EtU
7o6333339uTNN xG}5K, -7?bx<2  CCCabb&`w>:00   XKccc1Us;::sgyyy?'&&&SuSNY'HcnnvZ  sqqFYfkB000hoo <~`\5f Ej>xg
eeennn/^eee|>`*ge!2009bppay`DEEP(UV$n:38QVVD"h8-<?bm#9bbb8B\r.Yq/"11^ \~&H .SSx_zzz
_#L9++L&a38Zommw|><xP$};&&FOY'---???:_9==}]vB099Y~~~&&&JJJ#)9;;|RIIIMMmddx<l<<<%1=Jxk&&&b	cIj8qBi- uuu***+  N.B \]]Db[[[qquqqd2O?.8::ySTT x5@  dgg8p`xxN]EEJl/RUhQrEEEWRRbXER3444:::::Bz
M:H,k.;v`2L&c
m&E!..8==}600255)--%/>v;-,,V\`0WXaoo/>m)!766^~L]MMmO>}&93xwvtt?~.
0=}L&J

P({U- !!!iii'99H$:;;3LXkkk-$o_LLdiG***6mi]v2p}}}:,,,s+WeXsN ;7B\KqqB!;====oV!*ZZZ*y>[4::VPPg9"Glll		0G & 
yp?hhhxzz*L.6mj<CGGg;bZ+PrA J.b^dA-]]]m,^x!bz+""abi~E @k.b^@@( y%1/K=b    IENDB`                                                                                                                                    var group__alchemy__cond =
[
    [ "RT_COND_INFO", "structRT__COND__INFO.html", [
      [ "name", "structRT__COND__INFO.html#aa7e2c2d2972771e651d6327c9192c425", null ]
    ] ],
    [ "rt_cond_bind", "group__alchemy__cond.html#ga74f22144e9e407980ba89bf11f01c277", null ],
    [ "rt_cond_broadcast", "group__alchemy__cond.html#ga37c6424e266f5c1df3439116dd429878", null ],
    [ "rt_cond_create", "group__alchemy__cond.html#ga04646a121e57765848eb2a51ed6be855", null ],
    [ "rt_cond_delete", "group__alchemy__cond.html#gaba59b188f10b142b4f2500dd719aa35f", null ],
    [ "rt_cond_inquire", "group__alchemy__cond.html#gacc9f69ed63fbc3578408cecb2bad9d2a", null ],
    [ "rt_cond_signal", "group__alchemy__cond.html#gab7a59ee47db48a78ca45e4655b569dc9", null ],
    [ "rt_cond_unbind", "group__alchemy__cond.html#ga4d271775d228ae576d8174782931b09d", null ],
    [ "rt_cond_wait", "group__alchemy__cond.html#ga3aa51073817be2ffb2a880a7393502e8", null ],
    [ "rt_cond_wait_timed", "group__alchemy__cond.html#ga4d4999ec038366ee18ddac6550371388", null ],
    [ "rt_cond_wait_until", "group__alchemy__cond.html#ga25e1741d8238ad7cc4206c7e4bb13d8c", null ]
];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      var structxnvfile__snapshot__iterator =
[
    [ "databuf", "structxnvfile__snapshot__iterator.html#ab3d26fd9ee1e14af1e5d345f589c2f3c", null ],
    [ "endfn", "structxnvfile__snapshot__iterator.html#a7252c9269b3bbec881e4a9f4d1ae700b", null ],
    [ "nrdata", "structxnvfile__snapshot__iterator.html#a62573366edd906816759fbdd16930522", null ],
    [ "private", "structxnvfile__snapshot__iterator.html#a7b01ca175907f4159dfb5201be85df0a", null ],
    [ "seq", "structxnvfile__snapshot__iterator.html#a84d702d0ea1489dca8b4e86e06a856a0", null ],
    [ "vfile", "structxnvfile__snapshot__iterator.html#a3fb6b2e509206595af45a84926479b5f", null ]
];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/drivers/net/drivers/experimental/rt2500/rt2500pci.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rt2500pci_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">rt2500pci.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* rt2500pci.h</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2004 - 2005 rt2x00-2.0.0-b3 SourceForge Project</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *                           &lt;http://rt2x00.serialmonkey.com&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *               2006        rtnet adaption by Daniel Gregorek </span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *                           &lt;dxg@gmx.de&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * (at your option) any later version.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * along with this program; if not, write to the</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Free Software Foundation, Inc.,</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *      Module: rt2500pci</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * Abstract: Data structures and registers for the rt2500pci module.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * Supported chipsets: RT2560.</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#ifndef RT2500PCI_H</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#define RT2500PCI_H</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * RT chip defines</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#define RT2560                          0x0201</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> * RF chip defines</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#define RF2522                          0x0200</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#define RF2523                          0x0201</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#define RF2524                          0x0202</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#define RF2525                          0x0203</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#define RF2525E                         0x0204</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define RF5222                          0x0210</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * Control/Status Registers(CSR).</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#define CSR0                            0x0000          </span><span class="comment">/* ASIC revision number. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#define CSR1                            0x0004          </span><span class="comment">/* System control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#define CSR2                            0x0008          </span><span class="comment">/* System admin status register (invalid). */</span><span class="preprocessor"></span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#define CSR3                            0x000c          </span><span class="comment">/* STA MAC address register 0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#define CSR4                            0x0010          </span><span class="comment">/* STA MAC address register 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#define CSR5                            0x0014          </span><span class="comment">/* BSSID register 0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#define CSR6                            0x0018          </span><span class="comment">/* BSSID register 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#define CSR7                            0x001c          </span><span class="comment">/* Interrupt source register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#define CSR8                            0x0020          </span><span class="comment">/* Interrupt mask register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#define CSR9                            0x0024          </span><span class="comment">/* Maximum frame length register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#define SECCSR0                         0x0028          </span><span class="comment">/* WEP control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#define CSR11                           0x002c          </span><span class="comment">/* Back-off control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#define CSR12                           0x0030          </span><span class="comment">/* Synchronization configuration register 0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#define CSR13                           0x0034          </span><span class="comment">/* Synchronization configuration register 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#define CSR14                           0x0038          </span><span class="comment">/* Synchronization control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#define CSR15                           0x003c          </span><span class="comment">/* Synchronization status register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#define CSR16                           0x0040          </span><span class="comment">/* TSF timer register 0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#define CSR17                           0x0044          </span><span class="comment">/* TSF timer register 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#define CSR18                           0x0048          </span><span class="comment">/* IFS timer register 0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#define CSR19                           0x004c          </span><span class="comment">/* IFS timer register 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#define CSR20                           0x0050          </span><span class="comment">/* WakeUp register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#define CSR21                           0x0054          </span><span class="comment">/* EEPROM control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#define CSR22                           0x0058          </span><span class="comment">/* CFP Control Register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"> * Transmit related CSRs.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#define TXCSR0                          0x0060          </span><span class="comment">/* TX control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#define TXCSR1                          0x0064          </span><span class="comment">/* TX configuration register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#define TXCSR2                          0x0068          </span><span class="comment">/* TX descriptor configuratioon register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#define TXCSR3                          0x006c          </span><span class="comment">/* TX Ring Base address register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#define TXCSR4                          0x0070          </span><span class="comment">/* TX Atim Ring Base address register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#define TXCSR5                          0x0074          </span><span class="comment">/* TX Prio Ring Base address register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#define TXCSR6                          0x0078          </span><span class="comment">/* Beacon base address. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#define TXCSR7                          0x007c          </span><span class="comment">/* AutoResponder Control Register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#define TXCSR8                          0x0098          </span><span class="comment">/* CCK TX BBP registers. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#define TXCSR9                          0x0094          </span><span class="comment">/* OFDM TX BBP registers. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"> * Receive related CSRs.</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#define RXCSR0                          0x0080          </span><span class="comment">/* RX control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#define RXCSR1                          0x0084          </span><span class="comment">/* RX descriptor configuration register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#define RXCSR2                          0x0088          </span><span class="comment">/* RX Ring base address register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#define RXCSR3                          0x0090          </span><span class="comment">/* BBP ID register 0 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#define ARCSR1                          0x009c          </span><span class="comment">/* Auto Responder PLCP config register 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"> * PCI control CSRs.</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#define PCICSR                          0x008c          </span><span class="comment">/* PCI control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"> * Statistic Register.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#define CNT0                            0x00a0          </span><span class="comment">/* FCS error count. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#define TIMECSR2                        0x00a8</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#define CNT1                            0x00ac          </span><span class="comment">/* PLCP error count. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#define CNT2                            0x00b0          </span><span class="comment">/* long error count. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#define TIMECSR3                        0x00b4</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#define CNT3                            0x00b8          </span><span class="comment">/* CCA false alarm count. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#define CNT4                            0x00bc          </span><span class="comment">/* Rx FIFO overflow count. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#define CNT5                            0x00c0          </span><span class="comment">/* Tx FIFO underrun count. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"> * Baseband Control Register.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#define PWRCSR0                         0x00c4          </span><span class="comment">/* Power mode configuration. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#define PSCSR0                          0x00c8          </span><span class="comment">/* Power state transition time. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#define PSCSR1                          0x00cc          </span><span class="comment">/* Power state transition time. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#define PSCSR2                          0x00d0          </span><span class="comment">/* Power state transition time. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#define PSCSR3                          0x00d4          </span><span class="comment">/* Power state transition time. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#define PWRCSR1                         0x00d8          </span><span class="comment">/* Manual power control / status. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#define TIMECSR                         0x00dc          </span><span class="comment">/* Timer control. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#define MACCSR0                         0x00e0          </span><span class="comment">/* MAC configuration. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#define MACCSR1                         0x00e4          </span><span class="comment">/* MAC configuration. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#define RALINKCSR                       0x00e8          </span><span class="comment">/* Ralink Auto-reset register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#define BCNCSR                          0x00ec          </span><span class="comment">/* Beacon interval control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"> * BBP / RF / IF Control Register.</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">#define BBPCSR                          0x00f0          </span><span class="comment">/* BBP serial control. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#define RFCSR                           0x00f4          </span><span class="comment">/* RF serial control. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#define LEDCSR                          0x00f8          </span><span class="comment">/* LED control register */</span><span class="preprocessor"></span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#define SECCSR3                         0x00fc          </span><span class="comment">/* AES control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"> * ASIC pointer information.</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#define RXPTR                           0x0100          </span><span class="comment">/* Current RX ring address. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">#define TXPTR                           0x0104          </span><span class="comment">/* Current Tx ring address. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#define PRIPTR                          0x0108          </span><span class="comment">/* Current Priority ring address. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#define ATIMPTR                         0x010c          </span><span class="comment">/* Current ATIM ring address. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#define TXACKCSR0                       0x0110          </span><span class="comment">/* TX ACK timeout. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#define ACKCNT0                         0x0114          </span><span class="comment">/* TX ACK timeout count. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#define ACKCNT1                         0x0118          </span><span class="comment">/* RX ACK timeout count. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"> * GPIO and others.</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#define GPIOCSR                         0x0120          </span><span class="comment">/* GPIO. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#define FIFOCSR0                        0x0128          </span><span class="comment">/* TX FIFO pointer. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#define FIFOCSR1                        0x012c          </span><span class="comment">/* RX FIFO pointer. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">#define BCNCSR1                         0x0130          </span><span class="comment">/* Tx BEACON offset time, unit: 1 usec. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#define MACCSR2                         0x0134          </span><span class="comment">/* TX_PE to RX_PE delay time, unit: 1 PCI clock cycle. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">#define TESTCSR                         0x0138          </span><span class="comment">/* TEST mode selection register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">#define ARCSR2                          0x013c          </span><span class="comment">/* 1 Mbps ACK/CTS PLCP. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">#define ARCSR3                          0x0140          </span><span class="comment">/* 2 Mbps ACK/CTS PLCP. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">#define ARCSR4                          0x0144          </span><span class="comment">/* 5.5 Mbps ACK/CTS PLCP. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#define ARCSR5                          0x0148          </span><span class="comment">/* 11 Mbps ACK/CTS PLCP. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#define ARTCSR0                         0x014c          </span><span class="comment">/* ACK/CTS payload consumed time for 1/2/5.5/11 mbps. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor">#define ARTCSR1                         0x0150          </span><span class="comment">/* OFDM ACK/CTS payload consumed time for 6/9/12/18 mbps. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">#define ARTCSR2                         0x0154          </span><span class="comment">/* OFDM ACK/CTS payload consumed time for 24/36/48/54 mbps. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">#define SECCSR1                         0x0158          </span><span class="comment">/* WEP control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">#define BBPCSR1                         0x015c          </span><span class="comment">/* BBP TX configuration. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#define DBANDCSR0                       0x0160          </span><span class="comment">/* Dual band configuration register 0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#define DBANDCSR1                       0x0164          </span><span class="comment">/* Dual band configuration register 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#define BBPPCSR                         0x0168          </span><span class="comment">/* BBP Pin control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#define DBGSEL0                         0x016c          </span><span class="comment">/* MAC special debug mode selection register 0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#define DBGSEL1                         0x0170          </span><span class="comment">/* MAC special debug mode selection register 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="preprocessor">#define BISTCSR                         0x0174          </span><span class="comment">/* BBP BIST register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">#define MCAST0                          0x0178          </span><span class="comment">/* multicast filter register 0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#define MCAST1                          0x017c          </span><span class="comment">/* multicast filter register 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor">#define UARTCSR0                        0x0180          </span><span class="comment">/* UART1 TX register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="preprocessor">#define UARTCSR1                        0x0184          </span><span class="comment">/* UART1 RX register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">#define UARTCSR3                        0x0188          </span><span class="comment">/* UART1 frame control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#define UARTCSR4                        0x018c          </span><span class="comment">/* UART1 buffer control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">#define UART2CSR0                       0x0190          </span><span class="comment">/* UART2 TX register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">#define UART2CSR1                       0x0194          </span><span class="comment">/* UART2 RX register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#define UART2CSR3                       0x0198          </span><span class="comment">/* UART2 frame control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="preprocessor">#define UART2CSR4                       0x019c          </span><span class="comment">/* UART2 buffer control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"> * EEPROM addresses</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor">#define EEPROM_ANTENNA                  0x10</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">#define EEPROM_GEOGRAPHY                0x12</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">#define EEPROM_BBP_START                0x13</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#define EEPROM_BBP_END                  0x22</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">#define EEPROM_BBP_SIZE                 16</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"> * CSR Registers.</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"> * Some values are set in TU, whereas 1 TU == 1024 us.</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"> * CSR1: System control register.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">#define CSR1_SOFT_RESET                 FIELD32(0, 0x00000001)          </span><span class="comment">/* Software reset, 1: reset, 0: normal. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor">#define CSR1_BBP_RESET                  FIELD32(1, 0x00000002)          </span><span class="comment">/* Hardware reset, 1: reset, 0, release. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="preprocessor">#define CSR1_HOST_READY                 FIELD32(2, 0x00000004)          </span><span class="comment">/* Host ready after initialization. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"> * CSR3: STA MAC address register 0.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">#define CSR3_BYTE0                      FIELD32(0, 0x000000ff)          </span><span class="comment">/* MAC address byte 0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor">#define CSR3_BYTE1                      FIELD32(8, 0x0000ff00)          </span><span class="comment">/* MAC address byte 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">#define CSR3_BYTE2                      FIELD32(16, 0x00ff0000)         </span><span class="comment">/* MAC address byte 2. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">#define CSR3_BYTE3                      FIELD32(24, 0xff000000)         </span><span class="comment">/* MAC address byte 3. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"> * CSR4: STA MAC address register 1.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor">#define CSR4_BYTE4                      FIELD32(0, 0x000000ff)          </span><span class="comment">/* MAC address byte 4. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="preprocessor">#define CSR4_BYTE5                      FIELD32(8, 0x0000ff00)          </span><span class="comment">/* MAC address byte 5. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"> * CSR5: BSSID register 0.</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="preprocessor">#define CSR5_BYTE0                      FIELD32(0, 0x000000ff)          </span><span class="comment">/* BSSID address byte 0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#define CSR5_BYTE1                      FIELD32(8, 0x0000ff00)          </span><span class="comment">/* BSSID address byte 1. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#define CSR5_BYTE2                      FIELD32(16, 0x00ff0000)         </span><span class="comment">/* BSSID address byte 2. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="preprocessor">#define CSR5_BYTE3                      FIELD32(24, 0xff000000)         </span><span class="comment">/* BSSID address byte 3. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"> * CSR6: BSSID register 1.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#define CSR6_BYTE4                      FIELD32(0, 0x000000ff)          </span><span class="comment">/* BSSID address byte 4. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#define CSR6_BYTE5                      FIELD32(8, 0x0000ff00)          </span><span class="comment">/* BSSID address byte 5. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"> * CSR7: Interrupt source register.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"> * Write 1 to clear.</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#define CSR7_TBCN_EXPIRE                FIELD32(0, 0x00000001)          </span><span class="comment">/* beacon timer expired interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor">#define CSR7_TWAKE_EXPIRE               FIELD32(1, 0x00000002)          </span><span class="comment">/* wakeup timer expired interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#define CSR7_TATIMW_EXPIRE              FIELD32(2, 0x00000004)          </span><span class="comment">/* timer of atim window expired interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">#define CSR7_TXDONE_TXRING              FIELD32(3, 0x00000008)          </span><span class="comment">/* tx ring transmit done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#define CSR7_TXDONE_ATIMRING            FIELD32(4, 0x00000010)          </span><span class="comment">/* atim ring transmit done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="preprocessor">#define CSR7_TXDONE_PRIORING            FIELD32(5, 0x00000020)          </span><span class="comment">/* priority ring transmit done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#define CSR7_RXDONE                     FIELD32(6, 0x00000040)          </span><span class="comment">/* receive done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor">#define CSR7_DECRYPTION_DONE            FIELD32(7, 0x00000080)          </span><span class="comment">/* Decryption done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">#define CSR7_ENCRYPTION_DONE            FIELD32(8, 0x00000100)          </span><span class="comment">/* Encryption done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">#define CSR7_UART1_TX_TRESHOLD          FIELD32(9, 0x00000200)          </span><span class="comment">/* UART1 TX reaches threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="preprocessor">#define CSR7_UART1_RX_TRESHOLD          FIELD32(10, 0x00000400)         </span><span class="comment">/* UART1 RX reaches threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor">#define CSR7_UART1_IDLE_TRESHOLD        FIELD32(11, 0x00000800)         </span><span class="comment">/* UART1 IDLE over threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor">#define CSR7_UART1_TX_BUFF_ERROR        FIELD32(12, 0x00001000)         </span><span class="comment">/* UART1 TX buffer error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="preprocessor">#define CSR7_UART1_RX_BUFF_ERROR        FIELD32(13, 0x00002000)         </span><span class="comment">/* UART1 RX buffer error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="preprocessor">#define CSR7_UART2_TX_TRESHOLD          FIELD32(14, 0x00004000)         </span><span class="comment">/* UART2 TX reaches threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="preprocessor">#define CSR7_UART2_RX_TRESHOLD          FIELD32(15, 0x00008000)         </span><span class="comment">/* UART2 RX reaches threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">#define CSR7_UART2_IDLE_TRESHOLD        FIELD32(16, 0x00010000)         </span><span class="comment">/* UART2 IDLE over threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="preprocessor">#define CSR7_UART2_TX_BUFF_ERROR        FIELD32(17, 0x00020000)         </span><span class="comment">/* UART2 TX buffer error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="preprocessor">#define CSR7_UART2_RX_BUFF_ERROR        FIELD32(18, 0x00040000)         </span><span class="comment">/* UART2 RX buffer error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="preprocessor">#define CSR7_TIMER_CSR3_EXPIRE          FIELD32(19, 0x00080000)         </span><span class="comment">/* TIMECSR3 timer expired (802.1H quiet period). */</span><span class="preprocessor"></span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"> * CSR8: Interrupt mask register.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"> * Write 1 to mask interrupt.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">#define CSR8_TBCN_EXPIRE                FIELD32(0, 0x00000001)          </span><span class="comment">/* beacon timer expired interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="preprocessor">#define CSR8_TWAKE_EXPIRE               FIELD32(1, 0x00000002)          </span><span class="comment">/* wakeup timer expired interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#define CSR8_TATIMW_EXPIRE              FIELD32(2, 0x00000004)          </span><span class="comment">/* timer of atim window expired interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="preprocessor">#define CSR8_TXDONE_TXRING              FIELD32(3, 0x00000008)          </span><span class="comment">/* tx ring transmit done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">#define CSR8_TXDONE_ATIMRING            FIELD32(4, 0x00000010)          </span><span class="comment">/* atim ring transmit done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor">#define CSR8_TXDONE_PRIORING            FIELD32(5, 0x00000020)          </span><span class="comment">/* priority ring transmit done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">#define CSR8_RXDONE                     FIELD32(6, 0x00000040)          </span><span class="comment">/* receive done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="preprocessor">#define CSR8_DECRYPTION_DONE            FIELD32(7, 0x00000080)          </span><span class="comment">/* Decryption done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="preprocessor">#define CSR8_ENCRYPTION_DONE            FIELD32(8, 0x00000100)          </span><span class="comment">/* Encryption done interrupt. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">#define CSR8_UART1_TX_TRESHOLD          FIELD32(9, 0x00000200)          </span><span class="comment">/* UART1 TX reaches threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">#define CSR8_UART1_RX_TRESHOLD          FIELD32(10, 0x00000400)         </span><span class="comment">/* UART1 RX reaches threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">#define CSR8_UART1_IDLE_TRESHOLD        FIELD32(11, 0x00000800)         </span><span class="comment">/* UART1 IDLE over threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">#define CSR8_UART1_TX_BUFF_ERROR        FIELD32(12, 0x00001000)         </span><span class="comment">/* UART1 TX buffer error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">#define CSR8_UART1_RX_BUFF_ERROR        FIELD32(13, 0x00002000)         </span><span class="comment">/* UART1 RX buffer error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="preprocessor">#define CSR8_UART2_TX_TRESHOLD          FIELD32(14, 0x00004000)         </span><span class="comment">/* UART2 TX reaches threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor">#define CSR8_UART2_RX_TRESHOLD          FIELD32(15, 0x00008000)         </span><span class="comment">/* UART2 RX reaches threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#define CSR8_UART2_IDLE_TRESHOLD        FIELD32(16, 0x00010000)         </span><span class="comment">/* UART2 IDLE over threshold. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">#define CSR8_UART2_TX_BUFF_ERROR        FIELD32(17, 0x00020000)         </span><span class="comment">/* UART2 TX buffer error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#define CSR8_UART2_RX_BUFF_ERROR        FIELD32(18, 0x00040000)         </span><span class="comment">/* UART2 RX buffer error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">#define CSR8_TIMER_CSR3_EXPIRE          FIELD32(19, 0x00080000)         </span><span class="comment">/* TIMECSR3 timer expired (802.1H quiet period). */</span><span class="preprocessor"></span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"> * CSR9: Maximum frame length register.</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">#define CSR9_MAX_FRAME_UNIT             FIELD32(7, 0x00000f80)          </span><span class="comment">/* maximum frame length in 128b unit, default: 12. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"> * SECCSR0: WEP control register.</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor">#define SECCSR0_KICK_DECRYPT            FIELD32(0, 0x00000001)          </span><span class="comment">/* Kick decryption engine, self-clear. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="preprocessor">#define SECCSR0_ONE_SHOT                FIELD32(1, 0x00000002)          </span><span class="comment">/* 0: ring mode, 1: One shot only mode. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="preprocessor">#define SECCSR0_DESC_ADDRESS            FIELD32(2, 0xfffffffc)          </span><span class="comment">/* Descriptor physical address of frame. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"> * CSR11: Back-off control register.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">#define CSR11_CWMIN                     FIELD32(0, 0x0000000f)          </span><span class="comment">/* CWmin. Default cwmin is 31 (2^5 - 1). */</span><span class="preprocessor"></span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">#define CSR11_CWMAX                     FIELD32(4, 0x000000f0)          </span><span class="comment">/* CWmax. Default cwmax is 1023 (2^10 - 1). */</span><span class="preprocessor"></span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor">#define CSR11_SLOT_TIME                 FIELD32(8, 0x00001f00)          </span><span class="comment">/* slot time, default is 20us for 802.11b */</span><span class="preprocessor"></span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor">#define CSR11_CW_SELECT                 FIELD32(13, 0x00002000)         </span><span class="comment">/* CWmin/CWmax selection, 1: Register, 0: TXD. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="preprocessor">#define CSR11_LONG_RETRY                FIELD32(16, 0x00ff0000)         </span><span class="comment">/* long retry count. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">#define CSR11_SHORT_RETRY               FIELD32(24, 0xff000000)         </span><span class="comment">/* short retry count. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"> * CSR12: Synchronization configuration register 0.</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"> * All units in 1/16 TU.</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#define CSR12_BEACON_INTERVAL           FIELD32(0, 0x0000ffff)          </span><span class="comment">/* beacon interval, default is 100 TU. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">#define CSR12_CFPMAX_DURATION           FIELD32(16, 0xffff0000)         </span><span class="comment">/* cfp maximum duration, default is 100 TU. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"> * CSR13: Synchronization configuration register 1.</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"> * All units in 1/16 TU.</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">#define CSR13_ATIMW_DURATION            FIELD32(0, 0x0000ffff)          </span><span class="comment">/* atim window duration. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">#define CSR13_CFP_PERIOD                FIELD32(16, 0x00ff0000)         </span><span class="comment">/* cfp period, default is 0 TU. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> * CSR14: Synchronization control register.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">#define CSR14_TSF_COUNT                 FIELD32(0, 0x00000001)          </span><span class="comment">/* enable tsf auto counting. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">#define CSR14_TSF_SYNC                  FIELD32(1, 0x00000006)          </span><span class="comment">/* tsf sync, 0: disable, 1: infra, 2: ad-hoc mode. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#define CSR14_TBCN                      FIELD32(3, 0x00000008)          </span><span class="comment">/* enable tbcn with reload value. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor">#define CSR14_TCFP                      FIELD32(4, 0x00000010)          </span><span class="comment">/* enable tcfp &amp; cfp / cp switching. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">#define CSR14_TATIMW                    FIELD32(5, 0x00000020)          </span><span class="comment">/* enable tatimw &amp; atim window switching. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="preprocessor">#define CSR14_BEACON_GEN                FIELD32(6, 0x00000040)          </span><span class="comment">/* enable beacon generator. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor">#define CSR14_CFP_COUNT_PRELOAD         FIELD32(8, 0x0000ff00)          </span><span class="comment">/* cfp count preload value. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">#define CSR14_TBCM_PRELOAD              FIELD32(16, 0xffff0000)         </span><span class="comment">/* tbcn preload value in units of 64us. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> * CSR15: Synchronization status register.</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="preprocessor">#define CSR15_CFP                       FIELD32(0, 0x00000001)          </span><span class="comment">/* ASIC is in contention-free period. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="preprocessor">#define CSR15_ATIMW                     FIELD32(1, 0x00000002)          </span><span class="comment">/* ASIC is in ATIM window. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="preprocessor">#define CSR15_BEACON_SENT               FIELD32(2, 0x00000004)          </span><span class="comment">/* Beacon is send. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"> * CSR16: TSF timer register 0.</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">#define CSR16_LOW_TSFTIMER              FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> * CSR17: TSF timer register 1.</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="preprocessor">#define CSR17_HIGH_TSFTIMER             FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"> * CSR18: IFS timer register 0.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="preprocessor">#define CSR18_SIFS                      FIELD32(0, 0x000001ff)          </span><span class="comment">/* sifs, default is 10 us. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="preprocessor">#define CSR18_PIFS                      FIELD32(16, 0x01f00000)         </span><span class="comment">/* pifs, default is 30 us. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"> * CSR19: IFS timer register 1.</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="preprocessor">#define CSR19_DIFS                      FIELD32(0, 0x0000ffff)          </span><span class="comment">/* difs, default is 50 us. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">#define CSR19_EIFS                      FIELD32(16, 0xffff0000)         </span><span class="comment">/* eifs, default is 364 us. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"> * CSR20: Wakeup timer register.</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="preprocessor">#define CSR20_DELAY_AFTER_TBCN          FIELD32(0, 0x0000ffff)          </span><span class="comment">/* delay after tbcn expired in units of 1/16 TU. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#define CSR20_TBCN_BEFORE_WAKEUP        FIELD32(16, 0x00ff0000)         </span><span class="comment">/* number of beacon before wakeup. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">#define CSR20_AUTOWAKE                  FIELD32(24, 0x01000000)         </span><span class="comment">/* enable auto wakeup / sleep mechanism. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> * CSR21: EEPROM control register.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor">#define CSR21_RELOAD                    FIELD32(0, 0x00000001)          </span><span class="comment">/* Write 1 to reload eeprom content. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#define CSR21_EEPROM_DATA_CLOCK         FIELD32(1, 0x00000002)</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="preprocessor">#define CSR21_EEPROM_CHIP_SELECT        FIELD32(2, 0x00000004)</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="preprocessor">#define CSR21_EEPROM_DATA_IN            FIELD32(3, 0x00000008)</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#define CSR21_EEPROM_DATA_OUT           FIELD32(4, 0x00000010)</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="preprocessor">#define CSR21_TYPE_93C46                FIELD32(5, 0x00000020)          </span><span class="comment">/* 1: 93c46, 0:93c66. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment"> * CSR22: CFP control register.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="preprocessor">#define CSR22_CFP_DURATION_REMAIN       FIELD32(0, 0x0000ffff)          </span><span class="comment">/* cfp duration remain, in units of TU. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="preprocessor">#define CSR22_RELOAD_CFP_DURATION       FIELD32(16, 0x00010000)         </span><span class="comment">/* Write 1 to reload cfp duration remain. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment"> * TX / RX Registers.</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment"> * Some values are set in TU, whereas 1 TU == 1024 us.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"> * TXCSR0: TX Control Register.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="preprocessor">#define TXCSR0_KICK_TX                  FIELD32(0, 0x00000001)          </span><span class="comment">/* kick tx ring. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="preprocessor">#define TXCSR0_KICK_ATIM                FIELD32(1, 0x00000002)          </span><span class="comment">/* kick atim ring. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="preprocessor">#define TXCSR0_KICK_PRIO                FIELD32(2, 0x00000004)          </span><span class="comment">/* kick priority ring. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="preprocessor">#define TXCSR0_ABORT                    FIELD32(3, 0x00000008)          </span><span class="comment">/* abort all transmit related ring operation. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"> * TXCSR1: TX Configuration Register.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor">#define TXCSR1_ACK_TIMEOUT              FIELD32(0, 0x000001ff)          </span><span class="comment">/* ack timeout, default = sifs + 2*slottime + acktime @ 1mbps. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor">#define TXCSR1_ACK_CONSUME_TIME         FIELD32(9, 0x0003fe00)          </span><span class="comment">/* ack consume time, default = sifs + acktime @ 1mbps. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor">#define TXCSR1_TSF_OFFSET               FIELD32(18, 0x00fc0000)         </span><span class="comment">/* insert tsf offset. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor">#define TXCSR1_AUTORESPONDER            FIELD32(24, 0x01000000)         </span><span class="comment">/* enable auto responder which include ack &amp; cts. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"> * TXCSR2: Tx descriptor configuration register.</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor">#define TXCSR2_TXD_SIZE                 FIELD32(0, 0x000000ff)          </span><span class="comment">/* tx descriptor size, default is 48. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">#define TXCSR2_NUM_TXD                  FIELD32(8, 0x0000ff00)          </span><span class="comment">/* number of txd in ring. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="preprocessor">#define TXCSR2_NUM_ATIM                 FIELD32(16, 0x00ff0000)         </span><span class="comment">/* number of atim in ring. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#define TXCSR2_NUM_PRIO                 FIELD32(24, 0xff000000)         </span><span class="comment">/* number of priority in ring. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment"> * TXCSR3: TX Ring Base address register.</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="preprocessor">#define TXCSR3_TX_RING_REGISTER         FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> * TXCSR4: TX Atim Ring Base address register.</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor">#define TXCSR4_ATIM_RING_REGISTER       FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment"> * TXCSR5: TX Prio Ring Base address register.</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">#define TXCSR5_PRIO_RING_REGISTER       FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment"> * TXCSR6: Beacon Base address register.</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">#define TXCSR6_BEACON_REGISTER          FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"> * TXCSR7: Auto responder control register.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">#define TXCSR7_AR_POWERMANAGEMENT       FIELD32(0, 0x00000001)          </span><span class="comment">/* auto responder power management bit. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"> * TXCSR8: CCK Tx BBP register.</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="preprocessor">#define TXCSR8_CCK_SIGNAL               FIELD32(0, 0x000000ff)          </span><span class="comment">/* BBP rate field address for CCK. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#define TXCSR8_CCK_SERVICE              FIELD32(8, 0x0000ff00)          </span><span class="comment">/* BBP service field address for CCK. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor">#define TXCSR8_CCK_LENGTH_LOW           FIELD32(16, 0x00ff0000)         </span><span class="comment">/* BBP length low byte address for CCK. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#define TXCSR8_CCK_LENGTH_HIGH          FIELD32(24, 0xff000000)         </span><span class="comment">/* BBP length high byte address for CCK. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">/* </span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"> * TXCSR9: OFDM TX BBP registers</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="preprocessor">#define TXCSR9_OFDM_RATE                FIELD32(0, 0x000000ff)          </span><span class="comment">/* BBP rate field address for OFDM. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">#define TXCSR9_OFDM_SERVICE             FIELD32(8, 0x0000ff00)          </span><span class="comment">/* BBP service field address for OFDM. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="preprocessor">#define TXCSR9_OFDM_LENGTH_LOW          FIELD32(16, 0x00ff0000)         </span><span class="comment">/* BBP length low byte address for OFDM. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">#define TXCSR9_OFDM_LENGTH_HIGH         FIELD32(24, 0xff000000)         </span><span class="comment">/* BBP length high byte address for OFDM. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"> * RXCSR0: RX Control Register.</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">#define RXCSR0_DISABLE_RX               FIELD32(0, 0x00000001)          </span><span class="comment">/* disable rx engine. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">#define RXCSR0_DROP_CRC                 FIELD32(1, 0x00000002)          </span><span class="comment">/* drop crc error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="preprocessor">#define RXCSR0_DROP_PHYSICAL            FIELD32(2, 0x00000004)          </span><span class="comment">/* drop physical error. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="preprocessor">#define RXCSR0_DROP_CONTROL             FIELD32(3, 0x00000008)          </span><span class="comment">/* drop control frame. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="preprocessor">#define RXCSR0_DROP_NOT_TO_ME           FIELD32(4, 0x00000010)          </span><span class="comment">/* drop not to me unicast frame. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="preprocessor">#define RXCSR0_DROP_TODS                FIELD32(5, 0x00000020)          </span><span class="comment">/* drop frame tods bit is true. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="preprocessor">#define RXCSR0_DROP_VERSION_ERROR       FIELD32(6, 0x00000040)          </span><span class="comment">/* drop version error frame. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="preprocessor">#define RXCSR0_PASS_CRC                 FIELD32(7, 0x00000080)          </span><span class="comment">/* pass all packets with crc attached. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">#define RXCSR0_PASS_PLCP                FIELD32(8, 0x00000100)          </span><span class="comment">/* Pass all packets with 4 bytes PLCP attached. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor">#define RXCSR0_DROP_MCAST               FIELD32(9, 0x00000200)          </span><span class="comment">/* Drop multicast frames. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="preprocessor">#define RXCSR0_DROP_BCAST               FIELD32(10, 0x00000400)         </span><span class="comment">/* Drop broadcast frames. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="preprocessor">#define RXCSR0_ENABLE_QOS               FIELD32(11, 0x00000800)         </span><span class="comment">/* Accept QOS data frame and parse QOS field. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment"> * RXCSR1: RX descriptor configuration register.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="preprocessor">#define RXCSR1_RXD_SIZE                 FIELD32(0, 0x000000ff)          </span><span class="comment">/* rx descriptor size, default is 32b. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="preprocessor">#define RXCSR1_NUM_RXD                  FIELD32(8, 0x0000ff00)          </span><span class="comment">/* number of rxd in ring. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"> * RXCSR2: RX Ring base address register.</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="preprocessor">#define RXCSR2_RX_RING_REGISTER         FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"> * RXCSR3: BBP ID register for Rx operation.</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="preprocessor">#define RXCSR3_BBP_ID0                  FIELD32(0, 0x0000007f)          </span><span class="comment">/* bbp register 0 id. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">#define RXCSR3_BBP_ID0_VALID            FIELD32(7, 0x00000080)          </span><span class="comment">/* bbp register 0 id is valid or not. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="preprocessor">#define RXCSR3_BBP_ID1                  FIELD32(8, 0x00007f00)          </span><span class="comment">/* bbp register 1 id. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="preprocessor">#define RXCSR3_BBP_ID1_VALID            FIELD32(15, 0x00008000)         </span><span class="comment">/* bbp register 1 id is valid or not. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#define RXCSR3_BBP_ID2                  FIELD32(16, 0x007f0000)         </span><span class="comment">/* bbp register 2 id. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="preprocessor">#define RXCSR3_BBP_ID2_VALID            FIELD32(23, 0x00800000)         </span><span class="comment">/* bbp register 2 id is valid or not. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="preprocessor">#define RXCSR3_BBP_ID3                  FIELD32(24, 0x7f000000)         </span><span class="comment">/* bbp register 3 id. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="preprocessor">#define RXCSR3_BBP_ID3_VALID            FIELD32(31, 0x80000000)         </span><span class="comment">/* bbp register 3 id is valid or not. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"> * ARCSR1: Auto Responder PLCP config register 1.</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="preprocessor">#define ARCSR1_AR_BBP_DATA2             FIELD32(0, 0x000000ff)          </span><span class="comment">/* Auto responder BBP register 2 data. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor">#define ARCSR1_AR_BBP_ID2               FIELD32(8, 0x0000ff00)          </span><span class="comment">/* Auto responder BBP register 2 Id. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="preprocessor">#define ARCSR1_AR_BBP_DATA3             FIELD32(16, 0x00ff0000)         </span><span class="comment">/* Auto responder BBP register 3 data. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor">#define ARCSR1_AR_BBP_ID3               FIELD32(24, 0xff000000)         </span><span class="comment">/* Auto responder BBP register 3 Id. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment"> * Miscellaneous Registers.</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"> * Some values are set in TU, whereas 1 TU == 1024 us.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment"> * PCISR: PCI control register.</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="preprocessor">#define PCICSR_BIG_ENDIAN               FIELD32(0, 0x00000001)          </span><span class="comment">/* 1: big endian, 0: little endian. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="preprocessor">#define PCICSR_RX_TRESHOLD              FIELD32(1, 0x00000006)          </span><span class="comment">/* rx threshold in dw to start pci access */</span><span class="preprocessor"></span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                                                                        <span class="comment">/* 0: 16dw (default), 1: 8dw, 2: 4dw, 3: 32dw. */</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="preprocessor">#define PCICSR_TX_TRESHOLD              FIELD32(3, 0x00000018)          </span><span class="comment">/* tx threshold in dw to start pci access */</span><span class="preprocessor"></span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                                                                        <span class="comment">/* 0: 0dw (default), 1: 1dw, 2: 4dw, 3: forward. */</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="preprocessor">#define PCICSR_BURST_LENTH              FIELD32(5, 0x00000060)          </span><span class="comment">/* pci burst length */</span><span class="preprocessor"></span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                                                        <span class="comment">/* 0: 4dw (default, 1: 8dw, 2: 16dw, 3:32dw. */</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">#define PCICSR_ENABLE_CLK               FIELD32(7, 0x00000080)          </span><span class="comment">/* enable clk_run, */</span><span class="preprocessor"></span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                                                        <span class="comment">/* pci clock can&#39;t going down to non-operational. */</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="preprocessor">#define PCICSR_READ_MULTIPLE            FIELD32(8, 0x00000100)          </span><span class="comment">/* Enable memory read multiple. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="preprocessor">#define PCICSR_WRITE_INVALID            FIELD32(9, 0x00000200)          </span><span class="comment">/* Enable memory write &amp; invalid. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment"> * PWRCSR1: Manual power control / status register.</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment"> * state: 0 deep_sleep, 1: sleep, 2: standby, 3: awake.</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="preprocessor">#define PWRCSR1_SET_STATE               FIELD32(0, 0x00000001)          </span><span class="comment">/* set state. Write 1 to trigger, self cleared. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="preprocessor">#define PWRCSR1_BBP_DESIRE_STATE        FIELD32(1, 0x00000006)          </span><span class="comment">/* BBP desired state. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="preprocessor">#define PWRCSR1_RF_DESIRE_STATE         FIELD32(3, 0x00000018)          </span><span class="comment">/* RF desired state. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="preprocessor">#define PWRCSR1_BBP_CURR_STATE          FIELD32(5, 0x00000060)          </span><span class="comment">/* BBP current state. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="preprocessor">#define PWRCSR1_RF_CURR_STATE           FIELD32(7, 0x00000180)          </span><span class="comment">/* RF current state. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor">#define PWRCSR1_PUT_TO_SLEEP            FIELD32(9, 0x00000200)          </span><span class="comment">/* put to sleep. Write 1 to trigger, self cleared. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"> * TIMECSR: Timer control register.</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="preprocessor">#define TIMECSR_US_COUNT                FIELD32(0, 0x000000ff)          </span><span class="comment">/* 1 us timer count in units of clock cycles. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="preprocessor">#define TIMECSR_US_64_COUNT             FIELD32(8, 0x0000ff00)          </span><span class="comment">/* 64 us timer count in units of 1 us timer. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="preprocessor">#define TIMECSR_BEACON_EXPECT           FIELD32(16, 0x00070000)         </span><span class="comment">/* Beacon expect window. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> * MACCSR1: MAC configuration register 1.</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">#define MACCSR1_KICK_RX                 FIELD32(0, 0x00000001)          </span><span class="comment">/* kick one-shot rx in one-shot rx mode. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="preprocessor">#define MACCSR1_ONESHOT_RXMODE          FIELD32(1, 0x00000002)          </span><span class="comment">/* enable one-shot rx mode for debugging. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="preprocessor">#define MACCSR1_BBPRX_RESET_MODE        FIELD32(2, 0x00000004)          </span><span class="comment">/* ralink bbp rx reset mode. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="preprocessor">#define MACCSR1_AUTO_TXBBP              FIELD32(3, 0x00000008)          </span><span class="comment">/* auto tx logic access bbp control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor">#define MACCSR1_AUTO_RXBBP              FIELD32(4, 0x00000010)          </span><span class="comment">/* auto rx logic access bbp control register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="preprocessor">#define MACCSR1_LOOPBACK                FIELD32(5, 0x00000060)          </span><span class="comment">/* loopback mode. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                                                                        <span class="comment">/* 0: normal, 1: internal, 2: external, 3:rsvd. */</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="preprocessor">#define MACCSR1_INTERSIL_IF             FIELD32(7, 0x00000080)          </span><span class="comment">/* intersil if calibration pin. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> * RALINKCSR: Ralink Rx auto-reset BBCR.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="preprocessor">#define RALINKCSR_AR_BBP_DATA0          FIELD32(0, 0x000000ff)          </span><span class="comment">/* auto reset bbp register 0 data. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="preprocessor">#define RALINKCSR_AR_BBP_ID0            FIELD32(8, 0x00007f00)          </span><span class="comment">/* auto reset bbp register 0 id. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="preprocessor">#define RALINKCSR_AR_BBP_VALID0         FIELD32(15, 0x00008000)         </span><span class="comment">/* auto reset bbp register 0 valid. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="preprocessor">#define RALINKCSR_AR_BBP_DATA1          FIELD32(16, 0x00ff0000)         </span><span class="comment">/* auto reset bbp register 1 data. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="preprocessor">#define RALINKCSR_AR_BBP_ID1            FIELD32(24, 0x7f000000)         </span><span class="comment">/* auto reset bbp register 1 id. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="preprocessor">#define RALINKCSR_AR_BBP_VALID1         FIELD32(31, 0x80000000)         </span><span class="comment">/* auto reset bbp register 1 valid. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"> * BCNCSR: Beacon interval control register.</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="preprocessor">#define BCNCSR_CHANGE                   FIELD32(0, 0x00000001)          </span><span class="comment">/* write one to change beacon interval. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="preprocessor">#define BCNCSR_DELTATIME                FIELD32(1, 0x0000001e)          </span><span class="comment">/* the delta time value. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="preprocessor">#define BCNCSR_NUM_BEACON               FIELD32(5, 0x00001fe0)          </span><span class="comment">/* number of beacon according to mode. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="preprocessor">#define BCNCSR_MODE                     FIELD32(13, 0x00006000)         </span><span class="comment">/* please refer to asic specs. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="preprocessor">#define BCNCSR_PLUS                     FIELD32(15, 0x00008000)         </span><span class="comment">/* plus or minus delta time value. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment"> * BBPCSR: BBP serial control register.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="preprocessor">#define BBPCSR_VALUE                    FIELD32(0, 0x000000ff)          </span><span class="comment">/* register value to program into bbp. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="preprocessor">#define BBPCSR_REGNUM                   FIELD32(8, 0x00007f00)          </span><span class="comment">/* selected bbp register. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">#define BBPCSR_BUSY                     FIELD32(15, 0x00008000)         </span><span class="comment">/* 1: asic is busy execute bbp programming. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="preprocessor">#define BBPCSR_WRITE_CONTROL            FIELD32(16, 0x00010000)         </span><span class="comment">/* 1: write bbp, 0: read bbp. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> * RFCSR: RF serial control register.</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="preprocessor">#define RFCSR_VALUE                     FIELD32(0, 0x00ffffff)          </span><span class="comment">/* register value + id to program into rf/if. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="preprocessor">#define RFCSR_NUMBER_OF_BITS            FIELD32(24, 0x1f000000)         </span><span class="comment">/* number of bits used in value (i:20, rfmd:22). */</span><span class="preprocessor"></span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="preprocessor">#define RFCSR_IF_SELECT                 FIELD32(29, 0x20000000)         </span><span class="comment">/* chip to program: 0: rf, 1: if. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor">#define RFCSR_PLL_LD                    FIELD32(30, 0x40000000)         </span><span class="comment">/* rf pll_ld status. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor">#define RFCSR_BUSY                      FIELD32(31, 0x80000000)         </span><span class="comment">/* 1: asic is busy execute rf programming. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment"> * LEDCSR: LED control register.</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="preprocessor">#define LEDCSR_ON_PERIOD                FIELD32(0, 0x000000ff)          </span><span class="comment">/* on period, default 70ms. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="preprocessor">#define LEDCSR_OFF_PERIOD               FIELD32(8, 0x0000ff00)          </span><span class="comment">/* off period, default 30ms. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="preprocessor">#define LEDCSR_LINK                     FIELD32(16, 0x00010000)         </span><span class="comment">/* 0: linkoff, 1: linkup. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="preprocessor">#define LEDCSR_ACTIVITY                 FIELD32(17, 0x00020000)         </span><span class="comment">/* 0: idle, 1: active. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="preprocessor">#define LEDCSR_LINK_POLARITY            FIELD32(18, 0x00040000)         </span><span class="comment">/* 0: active low, 1: active high. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="preprocessor">#define LEDCSR_ACTIVITY_POLARITY        FIELD32(19, 0x00080000)         </span><span class="comment">/* 0: active low, 1: active high. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="preprocessor">#define LEDCSR_LED_DEFAULT              FIELD32(20, 0x00100000)         </span><span class="comment">/* LED state for &quot;enable&quot; 0: ON, 1: OFF. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment"> * GPIOCSR: GPIO control register.</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="preprocessor">#define GPIOCSR_BIT0                    FIELD32(0, 0x00000001)</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="preprocessor">#define GPIOCSR_BIT1                    FIELD32(1, 0x00000002)</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="preprocessor">#define GPIOCSR_BIT2                    FIELD32(2, 0x00000004)</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="preprocessor">#define GPIOCSR_BIT3                    FIELD32(3, 0x00000008)</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="preprocessor">#define GPIOCSR_BIT4                    FIELD32(4, 0x00000010)</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="preprocessor">#define GPIOCSR_BIT5                    FIELD32(5, 0x00000020)</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="preprocessor">#define GPIOCSR_BIT6                    FIELD32(6, 0x00000040)</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="preprocessor">#define GPIOCSR_BIT7                    FIELD32(7, 0x00000080)</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="preprocessor">#define GPIOCSR_DIR0                    FIELD32(8, 0x00000100)</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="preprocessor">#define GPIOCSR_DIR1                    FIELD32(9, 0x00000200)</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="preprocessor">#define GPIOCSR_DIR2                    FIELD32(10, 0x00000400)</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="preprocessor">#define GPIOCSR_DIR3                    FIELD32(11, 0x00000800)</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="preprocessor">#define GPIOCSR_DIR4                    FIELD32(12, 0x00001000)</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="preprocessor">#define GPIOCSR_DIR5                    FIELD32(13, 0x00002000)</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="preprocessor">#define GPIOCSR_DIR6                    FIELD32(14, 0x00004000)</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="preprocessor">#define GPIOCSR_DIR7                    FIELD32(15, 0x00008000)</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"> * BCNCSR1: Tx BEACON offset time control register.</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="preprocessor">#define BCNCSR1_PRELOAD                 FIELD32(0, 0x0000ffff)          </span><span class="comment">/* beacon timer offset in units of usec. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="preprocessor">#define BCNCSR1_BEACON_CWMIN            FIELD32(16, 0x000f0000)         </span><span class="comment">/* 2^CwMin. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment"> * MACCSR2: TX_PE to RX_PE turn-around time control register</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="preprocessor">#define MACCSR2_DELAY                   FIELD32(0, 0x000000ff)          </span><span class="comment">/* RX_PE low width, in units of pci clock cycle. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment"> * SECCSR1_RT2509: WEP control register </span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="preprocessor">#define SECCSR1_KICK_ENCRYPT            FIELD32(0, 0x00000001)          </span><span class="comment">/* Kick encryption engine, self-clear. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="preprocessor">#define SECCSR1_ONE_SHOT                FIELD32(1, 0x00000002)          </span><span class="comment">/* 0: ring mode, 1: One shot only mode. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="preprocessor">#define SECCSR1_DESC_ADDRESS            FIELD32(2, 0xfffffffc)          </span><span class="comment">/* Descriptor physical address of frame. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"> * RF registers</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="preprocessor">#define RF1_TUNER                       FIELD32(17, 0x00020000)</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="preprocessor">#define RF3_TUNER                       FIELD32(8, 0x00000100)</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="preprocessor">#define RF3_TXPOWER                     FIELD32(9, 0x00003e00)</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment"> * EEPROM content format.</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment"> * The wordsize of the EEPROM is 16 bits.</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment"> * EEPROM operation defines.</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="preprocessor">#define EEPROM_WIDTH_93c46              6</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="preprocessor">#define EEPROM_WIDTH_93c66              8</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="preprocessor">#define EEPROM_WRITE_OPCODE             0x05</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="preprocessor">#define EEPROM_READ_OPCODE              0x06</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment"> * EEPROM antenna.</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="preprocessor">#define EEPROM_ANTENNA_NUM              FIELD16(0, 0x0003)              </span><span class="comment">/* Number of antenna&#39;s. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="preprocessor">#define EEPROM_ANTENNA_TX_DEFAULT       FIELD16(2, 0x000c)              </span><span class="comment">/* Default antenna 0: diversity, 1: A, 2: B. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="preprocessor">#define EEPROM_ANTENNA_RX_DEFAULT       FIELD16(4, 0x0030)              </span><span class="comment">/* Default antenna 0: diversity, 1: A, 2: B. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="preprocessor">#define EEPROM_ANTENNA_LED_MODE         FIELD16(6, 0x01c0)              </span><span class="comment">/* 0: default, 1: TX/RX activity, */</span><span class="preprocessor"></span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                                                                        <span class="comment">/* 2: Single LED (ignore link), 3: reserved. */</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="preprocessor">#define EEPROM_ANTENNA_DYN_TXAGC        FIELD16(9, 0x0200)              </span><span class="comment">/* Dynamic TX AGC control. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="preprocessor">#define EEPROM_ANTENNA_HARDWARE_RADIO   FIELD16(10, 0x0400)             </span><span class="comment">/* 1: Hardware controlled radio. Read GPIO0. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="preprocessor">#define EEPROM_ANTENNA_RF_TYPE          FIELD16(11, 0xf800)             </span><span class="comment">/* rf_type of this adapter. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment"> * EEPROM geography.</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="preprocessor">#define EEPROM_GEOGRAPHY_GEO            FIELD16(8, 0x0f00)              </span><span class="comment">/* Default geography setting for device. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment"> * EEPROM NIC config.</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="preprocessor">#define EEPROM_NIC_CARDBUS_ACCEL        FIELD16(0, 0x0001)              </span><span class="comment">/* 0: enable, 1: disable. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="preprocessor">#define EEPROM_NIC_DYN_BBP_TUNE         FIELD16(1, 0x0002)              </span><span class="comment">/* 0: enable, 1: disable. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="preprocessor">#define EEPROM_NIC_CCK_TX_POWER         FIELD16(2, 0x000c)              </span><span class="comment">/* CCK TX power compensation. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment"> * EEPROM TX power.</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="preprocessor">#define EEPROM_TX_POWER1                FIELD16(0, 0x00ff)</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="preprocessor">#define EEPROM_TX_POWER2                FIELD16(8, 0xff00)</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment"> * EEPROM BBP.</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="preprocessor">#define EEPROM_BBP_VALUE                FIELD16(0, 0x00ff)</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#define EEPROM_BBP_REG_ID               FIELD16(8, 0xff00)</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment"> * EEPROM VERSION.</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="preprocessor">#define EEPROM_VERSION_FAE              FIELD16(0, 0x00ff)              </span><span class="comment">/* FAE release number. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="preprocessor">#define EEPROM_VERSION                  FIELD16(8, 0xff00)</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment"> * DMA ring defines and data structures.</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment"> * Size of a single descriptor.</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="preprocessor">#define SIZE_DESCRIPTOR                 48</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment"> * TX descriptor format for TX, PRIO, ATIM and Beacon Ring.</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="keyword">struct </span>_txd{</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    u32 word0;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="preprocessor">#define TXD_W0_OWNER_NIC                FIELD32(0, 0x00000001)</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="preprocessor">#define TXD_W0_VALID                    FIELD32(1, 0x00000002)</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="preprocessor">#define TXD_W0_RESULT                   FIELD32(2, 0x0000001c)          </span><span class="comment">/* Set by device. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor">#define TXD_W0_RETRY_COUNT              FIELD32(5, 0x000000e0)          </span><span class="comment">/* Set by device. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="preprocessor">#define TXD_W0_MORE_FRAG                FIELD32(8, 0x00000100)          </span><span class="comment">/* Set by device. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="preprocessor">#define TXD_W0_ACK                      FIELD32(9, 0x00000200)</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="preprocessor">#define TXD_W0_TIMESTAMP                FIELD32(10, 0x00000400)</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="preprocessor">#define TXD_W0_OFDM                     FIELD32(11, 0x00000800)</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="preprocessor">#define TXD_W0_CIPHER_OWNER             FIELD32(12, 0x00001000)</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="preprocessor">#define TXD_W0_IFS                      FIELD32(13, 0x00006000)</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="preprocessor">#define TXD_W0_RETRY_MODE               FIELD32(15, 0x00008000)</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="preprocessor">#define TXD_W0_DATABYTE_COUNT           FIELD32(16, 0x0fff0000)</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="preprocessor">#define TXD_W0_CIPHER_ALG               FIELD32(29, 0xe0000000)</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    u32 word1;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#define TXD_W1_BUFFER_ADDRESS           FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    u32 word2;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="preprocessor">#define TXD_W2_IV_OFFSET                FIELD32(0, 0x0000003f)</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">#define TXD_W2_AIFS                     FIELD32(6, 0x000000c0)</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="preprocessor">#define TXD_W2_CWMIN                    FIELD32(8, 0x00000f00)</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="preprocessor">#define TXD_W2_CWMAX                    FIELD32(12, 0x0000f000)</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    u32 word3;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="preprocessor">#define TXD_W3_PLCP_SIGNAL              FIELD32(0, 0x000000ff)</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="preprocessor">#define TXD_W3_PLCP_SERVICE             FIELD32(8, 0x0000ff00)</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="preprocessor">#define TXD_W3_PLCP_LENGTH_LOW          FIELD32(16, 0x00ff0000)</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="preprocessor">#define TXD_W3_PLCP_LENGTH_HIGH         FIELD32(24, 0xff000000)</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    u32 word4;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#define TXD_W4_IV                       FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    u32 word5;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="preprocessor">#define TXD_W5_EIV                      FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    u32 word6;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="preprocessor">#define TXD_W6_KEY                      FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    u32 word7;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="preprocessor">#define TXD_W7_KEY                      FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    u32 word8;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="preprocessor">#define TXD_W8_KEY                      FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    u32 word9;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="preprocessor">#define TXD_W9_KEY                      FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    u32 word10;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="preprocessor">#define TXD_W10_RTS                     FIELD32(0, 0x00000001)</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="preprocessor">#define TXD_W10_TX_RATE                 FIELD32(0, 0x000000fe)          </span><span class="comment">/* For module only. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;} __attribute__ ((packed));</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment"> * RX descriptor format for RX Ring.</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="keyword">struct </span>_rxd{</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    u32 word0;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="preprocessor">#define RXD_W0_OWNER_NIC                FIELD32(0, 0x00000001)</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="preprocessor">#define RXD_W0_UNICAST_TO_ME            FIELD32(1, 0x00000002)</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="preprocessor">#define RXD_W0_MULTICAST                FIELD32(2, 0x00000004)</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="preprocessor">#define RXD_W0_BROADCAST                FIELD32(3, 0x00000008)</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="preprocessor">#define RXD_W0_MY_BSS                   FIELD32(4, 0x00000010)</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="preprocessor">#define RXD_W0_CRC                      FIELD32(5, 0x00000020)</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="preprocessor">#define RXD_W0_OFDM                     FIELD32(6, 0x00000040)</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="preprocessor">#define RXD_W0_PHYSICAL_ERROR           FIELD32(7, 0x00000080)</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="preprocessor">#define RXD_W0_CIPHER_OWNER             FIELD32(8, 0x00000100)</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="preprocessor">#define RXD_W0_ICV_ERROR                FIELD32(9, 0x00000200)</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="preprocessor">#define RXD_W0_IV_OFFSET                FIELD32(10, 0x0000fc00)</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="preprocessor">#define RXD_W0_DATABYTE_COUNT           FIELD32(16, 0x0fff0000)</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="preprocessor">#define RXD_W0_CIPHER_ALG               FIELD32(29, 0xe0000000)</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    u32 word1;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="preprocessor">#define RXD_W1_BUFFER_ADDRESS           FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    u32 word2;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">#define RXD_W2_BBR0                     FIELD32(0, 0x000000ff)</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="preprocessor">#define RXD_W2_RSSI                     FIELD32(8, 0x0000ff00)</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">#define RXD_W2_TA                       FIELD32(16, 0xffff0000)</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    u32 word3;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="preprocessor">#define RXD_W3_TA                       FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    u32 word4;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="preprocessor">#define RXD_W4_IV                       FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    u32 word5;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="preprocessor">#define RXD_W5_EIV                      FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    u32 word6;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="preprocessor">#define RXD_W6_KEY                      FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    u32 word7;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="preprocessor">#define RXD_W7_KEY                      FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    u32 word8;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="preprocessor">#define RXD_W8_KEY                      FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    u32 word9;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="preprocessor">#define RXD_W9_KEY                      FIELD32(0, 0xffffffff)</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    u32 word10;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="preprocessor">#define RXD_W10_DROP                    FIELD32(0, 0x00000001)</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;} __attribute__ ((packed));</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"> * _rt2x00_pci</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment"> * This is the main structure which contains all variables required to communicate with the PCI device.</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="keyword">struct </span>_rt2x00_pci{</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">     * PCI device structure.</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keyword">struct </span>pci_dev                      *pci_dev;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">     * Chipset identification.</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keyword">struct </span>_rt2x00_chip         chip;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">     * csr_addr</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">     * Base address of device registers, all exact register addresses are calculated from this address.</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordtype">void</span> __iomem                        *csr_addr;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">     * RF register values for current channel.</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keyword">struct </span>_rf_channel          channel;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">     * EEPROM bus width.</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    u8                          eeprom_width;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    u8                          __pad;  <span class="comment">/* For alignment only. */</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">     * EEPROM BBP data.</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    u16                         eeprom[EEPROM_BBP_SIZE];</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">     * DMA packet ring.</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keyword">struct </span>_data_ring           rx;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keyword">struct </span>_data_ring           tx;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    rtdm_irq_t irq_handle;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="group__rtdm__sync__spinlock.html#gacbc89e880b42154cb65aa8317195dc03">rtdm_lock_t</a> lock;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;} __attribute__ ((packed));</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> rt2x00_get_rf_value(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_chip *chip, <span class="keyword">const</span> u8 channel, <span class="keyword">struct</span> _rf_channel *rf_reg) {</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordtype">int</span>                 index = 0x00;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    index = rt2x00_get_channel_index(channel);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span>(index &lt; 0)</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    memset(rf_reg, 0x00, <span class="keyword">sizeof</span>(*rf_reg));</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">if</span>(rt2x00_rf(chip, RF2522)){</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        rf_reg-&gt;rf1 = 0x00002050;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        rf_reg-&gt;rf3 = 0x00000101;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">goto</span> update_rf2_1;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span>(rt2x00_rf(chip, RF2523)){</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        rf_reg-&gt;rf1 = 0x00022010;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        rf_reg-&gt;rf3 = 0x000e0111;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        rf_reg-&gt;rf4 = 0x00000a1b;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="keywordflow">goto</span> update_rf2_2;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">if</span>(rt2x00_rf(chip, RF2524)){</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        rf_reg-&gt;rf1 = 0x00032020;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        rf_reg-&gt;rf3 = 0x00000101;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        rf_reg-&gt;rf4 = 0x00000a1b;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="keywordflow">goto</span> update_rf2_2;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">if</span>(rt2x00_rf(chip, RF2525)){</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        rf_reg-&gt;rf1 = 0x00022020;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        rf_reg-&gt;rf2 = 0x00080000;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        rf_reg-&gt;rf3 = 0x00060111;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        rf_reg-&gt;rf4 = 0x00000a1b;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordflow">goto</span> update_rf2_2;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">if</span>(rt2x00_rf(chip, RF2525E)){</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        rf_reg-&gt;rf2 = 0x00080000;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        rf_reg-&gt;rf3 = 0x00060111;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">goto</span> update_rf2_3;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span>(rt2x00_rf(chip, RF5222)){</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        rf_reg-&gt;rf3 = 0x00000101;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">goto</span> update_rf2_3;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">return</span> -EINVAL;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  update_rf2_1: <span class="comment">/* RF2522. */</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    rf_reg-&gt;rf2 = 0x000c1fda + (index * 0x14);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span>(channel == 14)</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        rf_reg-&gt;rf2 += 0x0000001c;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">goto</span> exit;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  update_rf2_2: <span class="comment">/* RF2523, RF2524, RF2525. */</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    rf_reg-&gt;rf2 |= 0x00000c9e + (index * 0x04);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">if</span>(rf_reg-&gt;rf2 &amp; 0x00000040)</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        rf_reg-&gt;rf2 += 0x00000040;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">if</span>(channel == 14){</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        rf_reg-&gt;rf2 += 0x08;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        rf_reg-&gt;rf4 &amp;= ~0x00000018;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">goto</span> exit;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  update_rf2_3: <span class="comment">/* RF2525E, RF5222. */</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">if</span>(OFDM_CHANNEL(channel)){</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        rf_reg-&gt;rf1 = 0x00022020;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        rf_reg-&gt;rf2 |= 0x00001136 + (index * 0x04);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">if</span>(rf_reg-&gt;rf2 &amp; 0x00000040)</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            rf_reg-&gt;rf2 += 0x00000040;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="keywordflow">if</span>(channel == 14){</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            rf_reg-&gt;rf2 += 0x04;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            rf_reg-&gt;rf4 = 0x00000a1b;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            rf_reg-&gt;rf4 = 0x00000a0b;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(UNII_LOW_CHANNEL(channel)){</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        rf_reg-&gt;rf1 = 0x00022010;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        rf_reg-&gt;rf2 = 0x00018896 + (index * 0x04);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        rf_reg-&gt;rf4 = 0x00000a1f;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(HIPERLAN2_CHANNEL(channel)){</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        rf_reg-&gt;rf1 = 0x00022010;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        rf_reg-&gt;rf2 = 0x00008802 + (index * 0x04);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        rf_reg-&gt;rf4 = 0x00000a0f;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(UNII_HIGH_CHANNEL(channel)){</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        rf_reg-&gt;rf1 = 0x00022020;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        rf_reg-&gt;rf2 = 0x000090a6 + (index * 0x08);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        rf_reg-&gt;rf4 = 0x00000a07;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  exit:</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    rf_reg-&gt;rf1 = cpu_to_le32(rf_reg-&gt;rf1);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    rf_reg-&gt;rf2 = cpu_to_le32(rf_reg-&gt;rf2);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    rf_reg-&gt;rf3 = cpu_to_le32(rf_reg-&gt;rf3);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    rf_reg-&gt;rf4 = cpu_to_le32(rf_reg-&gt;rf4);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">return</span> 0;   </div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment"> * Get txpower value in dBm mathing the requested percentage.</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> u8</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;rt2x00_get_txpower(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_chip *chip, <span class="keyword">const</span> u8 tx_power) {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">return</span> tx_power / 100 * 31;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">      if(tx_power &lt;= 3)</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">      return 19;</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">      else if(tx_power &lt;= 12)</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment">      return 22;</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">      else if(tx_power &lt;= 25)</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">      return 25;</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">      else if(tx_power &lt;= 50)</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment">      return 28;</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment">      else if(tx_power &lt;= 75)</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="comment">      return 30;</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment">      else if(tx_power &lt;= 100)</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">      return 31;</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">    </span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment">      ERROR(&quot;Invalid tx_power.\n&quot;);</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="comment">      return 31;</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;}</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment"> * Ring handlers.</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> rt2x00_pci_alloc_ring(</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                                        <span class="keyword">struct</span> _rt2x00_core *core,</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                                        <span class="keyword">struct</span> _data_ring *ring,</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                                        <span class="keyword">const</span> u8 ring_type,</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                                        <span class="keyword">const</span> u16 max_entries,</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                                        <span class="keyword">const</span> u16 entry_size,</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                                        <span class="keyword">const</span> u16 desc_size) {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keyword">struct </span>_rt2x00_pci  *rt2x00pci = rt2x00_priv(core);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    rt2x00_init_ring(core, ring, ring_type, max_entries, entry_size, desc_size);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    ring-&gt;data_addr = dma_alloc_coherent(&amp;rt2x00pci-&gt;pci_dev-&gt;dev, ring-&gt;mem_size, &amp;ring-&gt;data_dma, GFP_KERNEL);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span>(!ring-&gt;data_addr)</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">return</span> -ENOMEM;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    memset(ring-&gt;data_addr, 0x00, ring-&gt;mem_size);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;}</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;rt2x00_pci_alloc_rings(<span class="keyword">struct</span> _rt2x00_core *core) {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keyword">struct </span>_rt2x00_pci  *rt2x00pci = rt2x00_priv(core);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  </div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">if</span>(rt2x00_pci_alloc_ring(core, &amp;rt2x00pci-&gt;rx, RING_RX, RX_ENTRIES, DATA_FRAME_SIZE, SIZE_DESCRIPTOR)</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;       || rt2x00_pci_alloc_ring(core, &amp;rt2x00pci-&gt;tx, RING_TX, TX_ENTRIES, DATA_FRAME_SIZE, SIZE_DESCRIPTOR)) {</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        ERROR(<span class="stringliteral">&quot;DMA allocation failed.\n&quot;</span>);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">return</span> -ENOMEM;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;}</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;rt2x00_pci_free_ring(<span class="keyword">struct</span> _data_ring *ring) {</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keyword">struct </span>_rt2x00_pci  *rt2x00pci = rt2x00_priv(ring-&gt;core);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">if</span>(ring-&gt;data_addr)</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        dma_free_coherent(&amp;rt2x00pci-&gt;pci_dev-&gt;dev, ring-&gt;mem_size, ring-&gt;data_addr, ring-&gt;data_dma);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    ring-&gt;data_addr = NULL;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    rt2x00_deinit_ring(ring);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;}</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;rt2x00_pci_free_rings(<span class="keyword">struct</span> _rt2x00_core *core) {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keyword">struct </span>_rt2x00_pci  *rt2x00pci = rt2x00_priv(core);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    rt2x00_pci_free_ring(&amp;rt2x00pci-&gt;rx);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    rt2x00_pci_free_ring(&amp;rt2x00pci-&gt;tx);</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment"> * Macro&#39;s for calculating exact position in data ring.</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="preprocessor">#define DESC_BASE(__ring)               ( (void*)((__ring)-&gt;data_addr) )</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="preprocessor">#define DATA_BASE(__ring)               ( (void*)(DESC_BASE(__ring) + ((__ring)-&gt;max_entries * (__ring)-&gt;desc_size)) )</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="preprocessor">#define __DESC_ADDR(__ring, __index)    ( (void*)(DESC_BASE(__ring) + ((__index) * (__ring)-&gt;desc_size)) )</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="preprocessor">#define __DATA_ADDR(__ring, __index)    ( (void*)(DATA_BASE(__ring) + ((__index) * (__ring)-&gt;entry_size)) )</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="preprocessor">#define DESC_ADDR(__ring)               ( __DESC_ADDR(__ring, (__ring)-&gt;index) )</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="preprocessor">#define DESC_ADDR_DONE(__ring)          ( __DESC_ADDR(__ring, (__ring)-&gt;index_done) )</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="preprocessor">#define DATA_ADDR(__ring)               ( __DATA_ADDR(__ring, (__ring)-&gt;index) )</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="preprocessor">#define DATA_ADDR_DONE(__ring)          ( __DATA_ADDR(__ring, (__ring)-&gt;index_done) )</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment"> * Register access.</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment"> * All access to the registers will go through rt2x00_register_read and rt2x00_register_write.</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment"> * BBP and RF register require indirect register access through the register BBPCSR and RFCSR.</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment"> * The indirect register access work with busy bits, and a read or write function call can fail.</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment"> * Specific fields within a register can be accessed using the set and get field routines,</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment"> * these function will handle the requirement of little_endian and big_endian conversions.</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="preprocessor">#define REGISTER_BUSY_COUNT     10      </span><span class="comment">/* Number of retries before failing access BBP &amp; RF indirect register */</span><span class="preprocessor"></span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="preprocessor">#define REGISTER_BUSY_DELAY     100     </span><span class="comment">/* Delay between each register access retry. (us) */</span><span class="preprocessor"></span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;rt2x00_register_read(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> offset, u32 *value) {</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    *value = readl((<span class="keywordtype">void</span>*)(rt2x00pci-&gt;csr_addr + offset));</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;rt2x00_register_multiread(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> offset, u32 *value, <span class="keyword">const</span> u16 length) {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    memcpy_fromio((<span class="keywordtype">void</span>*)value, (<span class="keywordtype">void</span>*)(rt2x00pci-&gt;csr_addr + offset), length);</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;}</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;rt2x00_register_write(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> offset, <span class="keyword">const</span> u32 value) {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    writel(value, (<span class="keywordtype">void</span>*)(rt2x00pci-&gt;csr_addr + offset));</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;}</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;rt2x00_register_multiwrite(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> offset, u32 *value, <span class="keyword">const</span> u16 length) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    memcpy_toio((<span class="keywordtype">void</span>*)(rt2x00pci-&gt;csr_addr + offset), (<span class="keywordtype">void</span>*)value, length);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;}</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> </div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;rt2x00_bbp_regwrite(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, <span class="keyword">const</span> u8 reg_id, <span class="keyword">const</span> u8 value) {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    u32         reg = 0x00000000;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    u8          counter = 0x00;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordflow">for</span>(counter = 0x00; counter &lt; REGISTER_BUSY_COUNT; counter++){</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        rt2x00_register_read(rt2x00pci, BBPCSR, &amp;reg);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keywordflow">if</span>(!rt2x00_get_field32(reg, BBPCSR_BUSY))</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <span class="keywordflow">goto</span> bbp_write;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        udelay(REGISTER_BUSY_DELAY);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    ERROR(<span class="stringliteral">&quot;BBPCSR register busy. Write failed\n&quot;</span>);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  bbp_write:</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    reg = 0x00000000;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    rt2x00_set_field32(&amp;reg, BBPCSR_VALUE, value);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    rt2x00_set_field32(&amp;reg, BBPCSR_REGNUM, reg_id);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    rt2x00_set_field32(&amp;reg, BBPCSR_BUSY, 1);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    rt2x00_set_field32(&amp;reg, BBPCSR_WRITE_CONTROL, 1);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    rt2x00_register_write(rt2x00pci, BBPCSR, reg);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;}</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;rt2x00_bbp_regread(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, <span class="keyword">const</span> u8 reg_id, u8 *value) {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    u32         reg = 0x00000000;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    u8          counter = 0x00;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="comment">     * We first have to acquire the requested BBP register,</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="comment">     * so we write the register id into the BBP register first.</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    rt2x00_set_field32(&amp;reg, BBPCSR_REGNUM, reg_id);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    rt2x00_set_field32(&amp;reg, BBPCSR_BUSY, 1);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    rt2x00_set_field32(&amp;reg, BBPCSR_WRITE_CONTROL, 0);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    rt2x00_register_write(rt2x00pci, BBPCSR, reg);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keywordflow">for</span>(counter = 0x00; counter &lt; REGISTER_BUSY_COUNT; counter++){</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        rt2x00_register_read(rt2x00pci, BBPCSR, &amp;reg);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="keywordflow">if</span>(!rt2x00_get_field32(reg, BBPCSR_BUSY)){</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            *value = rt2x00_get_field32(reg, BBPCSR_VALUE);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        }</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        udelay(REGISTER_BUSY_DELAY);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    }</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    ERROR(<span class="stringliteral">&quot;BBPCSR register busy. Read failed\n&quot;</span>);</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    *value = 0xff;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;}</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> rt2x00_rf_regwrite(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, <span class="keyword">const</span> u32 value) {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    u32         reg = 0x00000000;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    u8          counter = 0x00;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">for</span>(counter = 0x00; counter &lt; REGISTER_BUSY_COUNT; counter++){</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        rt2x00_register_read(rt2x00pci, RFCSR, &amp;reg);</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <span class="keywordflow">if</span>(!rt2x00_get_field32(reg, RFCSR_BUSY))</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordflow">goto</span> rf_write;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        udelay(REGISTER_BUSY_DELAY);</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    }</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    ERROR(<span class="stringliteral">&quot;RFCSR register busy. Write failed\n&quot;</span>);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  rf_write:</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    reg = value;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    rt2x00_set_field32(&amp;reg, RFCSR_NUMBER_OF_BITS, 20);</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    rt2x00_set_field32(&amp;reg, RFCSR_IF_SELECT, 0);</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    rt2x00_set_field32(&amp;reg, RFCSR_BUSY, 1);</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="comment">//  printk(KERN_INFO &quot;DEBUG: %s:%d: reg=%x\n&quot;, __FILE__, __LINE__, reg);</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    rt2x00_register_write(rt2x00pci, RFCSR, reg);</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;}</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment"> * EEPROM access.</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment"> * The EEPROM is being accessed by word index.</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment"> * rt2x00_eeprom_read_word is the main access function that can be called by</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="comment"> * the rest of the module. It will take the index number of the eeprom word</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment"> * and the bus width.</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;rt2x00_eeprom_pulse_high(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, u32 *flags) {</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    rt2x00_set_field32(flags, CSR21_EEPROM_DATA_CLOCK, 1);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    rt2x00_register_write(rt2x00pci, CSR21, *flags);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    udelay(1);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;}</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;rt2x00_eeprom_pulse_low(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, u32 *flags) {</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    rt2x00_set_field32(flags, CSR21_EEPROM_DATA_CLOCK, 0);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    rt2x00_register_write(rt2x00pci, CSR21, *flags);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    udelay(1);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;}</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;rt2x00_eeprom_shift_out_bits(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, <span class="keyword">const</span> u16 data, <span class="keyword">const</span> u16 count) {</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    u32 flags = 0x00000000;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    u32 mask =  0x0001 &lt;&lt; (count - 1);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    rt2x00_register_read(rt2x00pci, CSR21, &amp;flags);</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="comment">     * Clear data flags.</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_IN, 0);</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_OUT, 0);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment">     * Start writing all bits. </span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">do</span>{</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment">         * Only set the data_in flag when we are at the correct bit.</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_IN, (data &amp; mask) ? 1 : 0);</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        rt2x00_register_write(rt2x00pci, CSR21, flags);</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        rt2x00_eeprom_pulse_high(rt2x00pci, &amp;flags);</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        rt2x00_eeprom_pulse_low(rt2x00pci, &amp;flags);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="comment">         * Shift to next bit.</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        mask &gt;&gt;= 1;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    } <span class="keywordflow">while</span>(mask);</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_IN, 0);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    rt2x00_register_write(rt2x00pci, CSR21, flags);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;}</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;rt2x00_eeprom_shift_in_bits(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, u16 *data) {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    u32 flags = 0x00000000;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    u8  counter = 0x00;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    rt2x00_register_read(rt2x00pci, CSR21, &amp;flags);</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment">     * Clear data flags.</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_IN, 0);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_OUT, 0);</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment">     * Start reading all 16 bits.</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">for</span>(counter = 0; counter &lt; 16; counter++){</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">         * Shift to the next bit.</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        *data &lt;&lt;= 1;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        rt2x00_eeprom_pulse_high(rt2x00pci, &amp;flags);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        rt2x00_register_read(rt2x00pci, CSR21, &amp;flags);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="comment">         * Clear data_in flag and set the data bit to 1 when the data_out flag is set.</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_IN, 0);</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <span class="keywordflow">if</span>(rt2x00_get_field32(flags, CSR21_EEPROM_DATA_OUT))</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            *data |= 1;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        </div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        rt2x00_eeprom_pulse_low(rt2x00pci, &amp;flags);</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    }</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;}</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="keyword">static</span> u16</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;rt2x00_eeprom_read_word(<span class="keyword">const</span> <span class="keyword">struct</span> _rt2x00_pci *rt2x00pci, <span class="keyword">const</span> u8 word) {</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    u32 flags = 0x00000000;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    u16 data = 0x0000;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">     * Clear all flags, and enable chip select.</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    rt2x00_register_read(rt2x00pci, CSR21, &amp;flags);</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_IN, 0);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_OUT, 0);</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_CLOCK, 0);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_CHIP_SELECT, 1);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    rt2x00_register_write(rt2x00pci, CSR21, flags);</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment">     * kick a pulse.</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    rt2x00_eeprom_pulse_high(rt2x00pci, &amp;flags);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    rt2x00_eeprom_pulse_low(rt2x00pci, &amp;flags);</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">     * Select the read opcode and bus_width.</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    rt2x00_eeprom_shift_out_bits(rt2x00pci, EEPROM_READ_OPCODE, 3);</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    rt2x00_eeprom_shift_out_bits(rt2x00pci, word, rt2x00pci-&gt;eeprom_width);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    rt2x00_eeprom_shift_in_bits(rt2x00pci, &amp;data);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="comment">     * Clear chip_select and data_in flags.</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    rt2x00_register_read(rt2x00pci, CSR21, &amp;flags);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_DATA_IN, 0);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    rt2x00_set_field32(&amp;flags, CSR21_EEPROM_CHIP_SELECT, 0);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    rt2x00_register_write(rt2x00pci, CSR21, flags);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">     * kick a pulse.</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    rt2x00_eeprom_pulse_high(rt2x00pci, &amp;flags);</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    rt2x00_eeprom_pulse_low(rt2x00pci, &amp;flags);</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">return</span> data;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;}</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RT2500PCI_H */</span><span class="preprocessor"></span></div><div class="ttc" id="group__rtdm__sync__spinlock_html_gacbc89e880b42154cb65aa8317195dc03"><div class="ttname"><a href="group__rtdm__sync__spinlock.html#gacbc89e880b42154cb65aa8317195dc03">rtdm_lock_t</a></div><div class="ttdeci">ipipe_spinlock_t rtdm_lock_t</div><div class="ttdoc">Lock variable. </div><div class="ttdef"><b>Definition:</b> driver.h:551</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_0de1d64efa6df97eacc8f5b0f9da3e59.html">drivers</a></li><li class="navelem"><a class="el" href="dir_8faba7cfaeef8234fe60b782e3350bd8.html">net</a></li><li class="navelem"><a class="el" href="dir_b40c2ec8bd1b55402825a7a72dd0f8ab.html">drivers</a></li><li class="navelem"><a class="el" href="dir_8341dc431fa84438cf7fad930fafb465.html">experimental</a></li><li class="navelem"><a class="el" href="dir_470d62d3164b9923705a18964779c8b0.html">rt2500</a></li><li class="navelem"><b>rt2500pci.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: include/alchemy/pipe.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('include_2alchemy_2pipe_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">pipe.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2011 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * License along with this library; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef _XENOMAI_ALCHEMY_PIPE_H</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define _XENOMAI_ALCHEMY_PIPE_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;cobalt/uapi/kernel/pipe.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;alchemy/timer.h&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;alchemy/compat.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="group__alchemy__pipe.html#gab3c99a1ac3ecd4d50be1b66be891a1db">   32</a></span>&#160;<span class="preprocessor">#define P_MINOR_AUTO    XNPIPE_MINOR_AUTO</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="group__alchemy__pipe.html#ga5ec5fa58851654f7b9770fc25c53335d">   35</a></span>&#160;<span class="preprocessor">#define P_URGENT        XNPIPE_URGENT</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#define P_NORMAL        XNPIPE_NORMAL</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">struct </span>RT_PIPE {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        uintptr_t handle;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;};</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>RT_PIPE RT_PIPE;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;CURRENT_DECL(<span class="keywordtype">int</span>, <a class="code" href="group__alchemy__pipe.html#ga29521cc898afa0069963964955167aa5">rt_pipe_create</a>(RT_PIPE *pipe,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                 <span class="keywordtype">int</span> minor, <span class="keywordtype">size_t</span> poolsize));</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__alchemy__pipe.html#ga1d84976a1b9b668366261ca9b836b677">rt_pipe_delete</a>(RT_PIPE *pipe);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;ssize_t <a class="code" href="group__alchemy__pipe.html#ga7dc073cf31f08531be5ae612864808c8">rt_pipe_read_timed</a>(RT_PIPE *pipe,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                           <span class="keywordtype">void</span> *buf, <span class="keywordtype">size_t</span> size,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                           <span class="keyword">const</span> <span class="keyword">struct</span> timespec *abs_timeout);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="group__alchemy__pipe.html#gabfa116f727ec6d1f9fd89df1332d210e">   59</a></span>&#160;ssize_t <a class="code" href="group__alchemy__pipe.html#gabfa116f727ec6d1f9fd89df1332d210e">rt_pipe_read_until</a>(RT_PIPE *pipe,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                           <span class="keywordtype">void</span> *buf, <span class="keywordtype">size_t</span> size, RTIME timeout)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keyword">struct </span>timespec ts;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__alchemy__pipe.html#ga7dc073cf31f08531be5ae612864808c8">rt_pipe_read_timed</a>(pipe, buf, size,</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                  alchemy_abs_timeout(timeout, &amp;ts));</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="group__alchemy__pipe.html#ga62cb64807c2c843f8e8eebb2dc3a7d4e">   68</a></span>&#160;ssize_t <a class="code" href="group__alchemy__pipe.html#ga62cb64807c2c843f8e8eebb2dc3a7d4e">rt_pipe_read</a>(RT_PIPE *pipe,</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                     <span class="keywordtype">void</span> *buf, <span class="keywordtype">size_t</span> size, RTIME timeout)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keyword">struct </span>timespec ts;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__alchemy__pipe.html#ga7dc073cf31f08531be5ae612864808c8">rt_pipe_read_timed</a>(pipe, buf, size,</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                  alchemy_rel_timeout(timeout, &amp;ts));</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;ssize_t <a class="code" href="group__alchemy__pipe.html#ga12f801963d0db6aa60bc6cf92f65697a">rt_pipe_write</a>(RT_PIPE *pipe,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                      <span class="keyword">const</span> <span class="keywordtype">void</span> *buf, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> mode);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;ssize_t <a class="code" href="group__alchemy__pipe.html#gad8edc920499d2c5c5d821ee7b9fa2bcd">rt_pipe_stream</a>(RT_PIPE *pipe,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">void</span> *buf, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__alchemy__pipe.html#gac732fe4dbc24f9c57a79b58817119048">rt_pipe_bind</a>(RT_PIPE *pipe,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                 <span class="keyword">const</span> <span class="keywordtype">char</span> *name, RTIME timeout);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__alchemy__pipe.html#ga77722465437c7d65241cc6823b5b6793">rt_pipe_unbind</a>(RT_PIPE *pipe);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _XENOMAI_ALCHEMY_PIPE_H */</span><span class="preprocessor"></span></div><div class="ttc" id="group__alchemy__pipe_html_gabfa116f727ec6d1f9fd89df1332d210e"><div class="ttname"><a href="group__alchemy__pipe.html#gabfa116f727ec6d1f9fd89df1332d210e">rt_pipe_read_until</a></div><div class="ttdeci">static ssize_t rt_pipe_read_until(RT_PIPE *pipe, void *buf, size_t size, RTIME timeout)</div><div class="ttdoc">Read from a pipe (with absolute scalar timeout). </div><div class="ttdef"><b>Definition:</b> pipe.h:59</div></div>
<div class="ttc" id="group__alchemy__pipe_html_gac732fe4dbc24f9c57a79b58817119048"><div class="ttname"><a href="group__alchemy__pipe.html#gac732fe4dbc24f9c57a79b58817119048">rt_pipe_bind</a></div><div class="ttdeci">int rt_pipe_bind(RT_PIPE *pipe, const char *name, RTIME timeout)</div><div class="ttdoc">Bind to a message pipe. </div><div class="ttdef"><b>Definition:</b> pipe.c:603</div></div>
<div class="ttc" id="group__alchemy__pipe_html_ga29521cc898afa0069963964955167aa5"><div class="ttname"><a href="group__alchemy__pipe.html#ga29521cc898afa0069963964955167aa5">rt_pipe_create</a></div><div class="ttdeci">int rt_pipe_create(RT_PIPE *pipe, const char *name, int minor, size_t poolsize)</div><div class="ttdoc">Create a message pipe. </div><div class="ttdef"><b>Definition:</b> pipe.c:136</div></div>
<div class="ttc" id="group__alchemy__pipe_html_ga12f801963d0db6aa60bc6cf92f65697a"><div class="ttname"><a href="group__alchemy__pipe.html#ga12f801963d0db6aa60bc6cf92f65697a">rt_pipe_write</a></div><div class="ttdeci">ssize_t rt_pipe_write(RT_PIPE *pipe, const void *buf, size_t size, int mode)</div><div class="ttdoc">Write a message to a pipe. </div><div class="ttdef"><b>Definition:</b> pipe.c:500</div></div>
<div class="ttc" id="group__alchemy__pipe_html_ga1d84976a1b9b668366261ca9b836b677"><div class="ttname"><a href="group__alchemy__pipe.html#ga1d84976a1b9b668366261ca9b836b677">rt_pipe_delete</a></div><div class="ttdeci">int rt_pipe_delete(RT_PIPE *pipe)</div><div class="ttdoc">Delete a message pipe. </div><div class="ttdef"><b>Definition:</b> pipe.c:257</div></div>
<div class="ttc" id="group__alchemy__pipe_html_gad8edc920499d2c5c5d821ee7b9fa2bcd"><div class="ttname"><a href="group__alchemy__pipe.html#gad8edc920499d2c5c5d821ee7b9fa2bcd">rt_pipe_stream</a></div><div class="ttdeci">ssize_t rt_pipe_stream(RT_PIPE *pipe, const void *buf, size_t size)</div><div class="ttdoc">Stream bytes through a pipe. </div><div class="ttdef"><b>Definition:</b> pipe.c:554</div></div>
<div class="ttc" id="group__alchemy__pipe_html_ga77722465437c7d65241cc6823b5b6793"><div class="ttname"><a href="group__alchemy__pipe.html#ga77722465437c7d65241cc6823b5b6793">rt_pipe_unbind</a></div><div class="ttdeci">int rt_pipe_unbind(RT_PIPE *pipe)</div><div class="ttdoc">Unbind from a message pipe. </div><div class="ttdef"><b>Definition:</b> pipe.c:625</div></div>
<div class="ttc" id="group__alchemy__pipe_html_ga62cb64807c2c843f8e8eebb2dc3a7d4e"><div class="ttname"><a href="group__alchemy__pipe.html#ga62cb64807c2c843f8e8eebb2dc3a7d4e">rt_pipe_read</a></div><div class="ttdeci">static ssize_t rt_pipe_read(RT_PIPE *pipe, void *buf, size_t size, RTIME timeout)</div><div class="ttdoc">Read from a pipe (with relative scalar timeout). </div><div class="ttdef"><b>Definition:</b> pipe.h:68</div></div>
<div class="ttc" id="group__alchemy__pipe_html_ga7dc073cf31f08531be5ae612864808c8"><div class="ttname"><a href="group__alchemy__pipe.html#ga7dc073cf31f08531be5ae612864808c8">rt_pipe_read_timed</a></div><div class="ttdeci">ssize_t rt_pipe_read_timed(RT_PIPE *pipe, void *buf, size_t size, const struct timespec *abs_timeout)</div><div class="ttdoc">Read a message from a pipe. </div><div class="ttdef"><b>Definition:</b> pipe.c:386</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_76d5addc6821621178045871d206a7fc.html">alchemy</a></li><li class="navelem"><b>pipe.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                ded9e3691d711f6e1438a785a90db773                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/cobalt/include/asm-generic/xenomai/wrappers.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('kernel_2cobalt_2include_2asm-generic_2xenomai_2wrappers_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">wrappers.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2005-2012 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Xenomai is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * by the Free Software Foundation; either version 2 of the License,</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Xenomai is distributed in the hope that it will be useful, but</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with Xenomai; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * 02111-1307, USA.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef _COBALT_ASM_GENERIC_WRAPPERS_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;linux/version.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#ifdef CONFIG_IPIPE_LEGACY</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#error &quot;CONFIG_IPIPE_LEGACY must be switched off&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#define COBALT_BACKPORT(__sym) __cobalt_backport_ ##__sym</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * To keep the #ifdefery as readable as possible, please:</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * - keep the conditional structure flat, no nesting (e.g. do not fold</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> *   the pre-3.11 conditions into the pre-3.14 ones).</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * - group all wrappers for a single kernel revision.</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * - list conditional blocks in order of kernel release, latest first</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * - identify the first kernel release for which the wrapper should</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> *   be defined, instead of testing the existence of a preprocessor</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> *   symbol, so that obsolete wrappers can be spotted.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(4,6,0)</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#define in_ia32_syscall() (current_thread_info()-&gt;status &amp; TS_COMPAT)</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(3,19,0)</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define user_msghdr msghdr</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(3,17,0)</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;linux/netdevice.h&gt;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#undef alloc_netdev</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#define alloc_netdev(sizeof_priv, name, name_assign_type, setup) \</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">        alloc_netdev_mqs(sizeof_priv, name, setup, 1, 1)</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &lt;linux/trace_seq.h&gt;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;trace_seq_buffer_ptr(<span class="keyword">struct</span> trace_seq *s)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">return</span> s-&gt;buffer + s-&gt;len;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* &lt; 3.17 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(3,16,0)</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#define smp_mb__before_atomic()  smp_mb()</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#define smp_mb__after_atomic()   smp_mb()</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* &lt; 3.16 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(3,15,0)</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#define raw_cpu_ptr(v)  __this_cpu_ptr(v)</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* &lt; 3.15 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(3,14,0)</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &lt;linux/pci.h&gt;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#ifdef CONFIG_PCI</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#define pci_enable_msix_range COBALT_BACKPORT(pci_enable_msix_range)</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#ifdef CONFIG_PCI_MSI</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keywordtype">int</span> pci_enable_msix_range(<span class="keyword">struct</span> pci_dev *dev,</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                          <span class="keyword">struct</span> msix_entry *entries,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                          <span class="keywordtype">int</span> minvec, <span class="keywordtype">int</span> maxvec);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* !CONFIG_PCI_MSI */</span><span class="preprocessor"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keywordtype">int</span> pci_enable_msix_range(<span class="keyword">struct</span> pci_dev *dev,</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                          <span class="keyword">struct</span> msix_entry *entries,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                          <span class="keywordtype">int</span> minvec, <span class="keywordtype">int</span> maxvec)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">return</span> -ENOSYS;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !CONFIG_PCI_MSI */</span><span class="preprocessor"></span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_PCI */</span><span class="preprocessor"></span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* &lt; 3.14 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(3,13,0)</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#include &lt;linux/dma-mapping.h&gt;</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#include &lt;linux/hwmon.h&gt;</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#define dma_set_mask_and_coherent COBALT_BACKPORT(dma_set_mask_and_coherent)</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keywordtype">int</span> dma_set_mask_and_coherent(<span class="keyword">struct</span> device *dev, u64 mask)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordtype">int</span> rc = dma_set_mask(dev, mask);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> (rc == 0)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                dma_set_coherent_mask(dev, mask);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#ifdef CONFIG_HWMON</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#define hwmon_device_register_with_groups \</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">        COBALT_BACKPORT(hwmon_device_register_with_groups)</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">struct </span>device *</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;hwmon_device_register_with_groups(<span class="keyword">struct</span> device *dev, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                <span class="keywordtype">void</span> *drvdata,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                <span class="keyword">const</span> <span class="keyword">struct</span> attribute_group **groups);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#define devm_hwmon_device_register_with_groups \</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">        COBALT_BACKPORT(devm_hwmon_device_register_with_groups)</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">struct </span>device *</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;devm_hwmon_device_register_with_groups(<span class="keyword">struct</span> device *dev, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                <span class="keywordtype">void</span> *drvdata,</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                <span class="keyword">const</span> <span class="keyword">struct</span> attribute_group **groups);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !CONFIG_HWMON */</span><span class="preprocessor"></span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#define reinit_completion(__x)  INIT_COMPLETION(*(__x))</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* &lt; 3.13 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(3,11,0)</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#define DEVICE_ATTR_RW(_name)   __ATTR_RW(_name)</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">#define DEVICE_ATTR_RO(_name)   __ATTR_RO(_name)</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">#define DEVICE_ATTR_WO(_name)   __ATTR_WO(_name)</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* &lt; 3.11 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(3,10,0)</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#error &quot;Xenomai/cobalt requires Linux kernel 3.10 or above&quot;</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* &lt; 3.10 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(4,0,0)</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#define cobalt_get_restart_block(p)     (&amp;task_thread_info(p)-&gt;restart_block)</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">#define cobalt_get_restart_block(p)     (&amp;(p)-&gt;restart_block)</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _COBALT_ASM_GENERIC_WRAPPERS_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_ff9c14493303662cdb73baf6424a8ab0.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_03ddab63c52a5bb695e33fa57b6426fb.html">include</a></li><li class="navelem"><a class="el" href="dir_677c2dea1ab872ca1e97622a9bf24d20.html">asm-generic</a></li><li class="navelem"><a class="el" href="dir_a40677528bf0007a6d9d6c45bf367010.html">xenomai</a></li><li class="navelem"><b>wrappers.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: Data Fields</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('functions_e.html','');});
</script>
<div id="doc-content">
<div class="contents">
<div class="textblock">Here is a list of all documented struct and union fields with links to the struct/union documentation for each field:</div>

<h3><a id="index_e"></a>- e -</h3><ul>
<li>end
: <a class="el" href="structxnvfile__regular__ops.html#a7c1a13a4087586cbce3ea236ef28682e">xnvfile_regular_ops</a>
, <a class="el" href="structxnvfile__snapshot__ops.html#a930d19008b6053e42ef6919cee8a0d95">xnvfile_snapshot_ops</a>
</li>
<li>endfn
: <a class="el" href="structxnvfile__snapshot__iterator.html#a7252c9269b3bbec881e4a9f4d1ae700b">xnvfile_snapshot_iterator</a>
</li>
<li>event_mask
: <a class="el" href="structrtser__config.html#a734eedc662e4204b6b9163d17f56fd34">rtser_config</a>
</li>
<li>event_timeout
: <a class="el" href="structrtser__config.html#af4f58135d0258420dd9eb2b8fc07269a">rtser_config</a>
</li>
<li>events
: <a class="el" href="structrtser__event.html#a9241d267b548251f41ce4a1785239478">rtser_event</a>
</li>
<li>expiries
: <a class="el" href="structRT__ALARM__INFO.html#a9f793d6a1ccdb6e4172c153821c11865">RT_ALARM_INFO</a>
</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: Data Fields - Variables</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('functions_vars_w.html','');});
</script>
<div id="doc-content">
<div class="contents">
&#160;

<h3><a id="index_w"></a>- w -</h3><ul>
<li>write_nrt
: <a class="el" href="structrtdm__fd__ops.html#af7d629ac93ee289b0e3b60730cc87ff9">rtdm_fd_ops</a>
</li>
<li>write_rt
: <a class="el" href="structrtdm__fd__ops.html#aed4985eb386a97c4db48bf757d1f019c">rtdm_fd_ops</a>
</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/cobalt/arch/blackfin/include/asm/xenomai/fptest.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('blackfin_2include_2asm_2xenomai_2fptest_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">fptest.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2006 Gilles Chanteperdrix &lt;gilles.chanteperdrix@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Xenomai is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * by the Free Software Foundation; either version 2 of the License,</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Xenomai is distributed in the hope that it will be useful, but</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with Xenomai; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * 02111-1307, USA.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef _COBALT_BLACKFIN_ASM_FPTEST_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define _COBALT_BLACKFIN_ASM_FPTEST_H</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;linux/errno.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;asm/xenomai/uapi/fptest.h&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> fp_kernel_supported(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> fp_linux_begin(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">return</span> -ENOSYS;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> fp_linux_end(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> fp_detect(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;}</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _COBALT_BLACKFIN_ASM_FPTEST_H */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_ff9c14493303662cdb73baf6424a8ab0.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_1e058e550c3e0ccc93e7fadb749a87e6.html">arch</a></li><li class="navelem"><a class="el" href="dir_58f64ab01bd9771d8c5795837d9008f0.html">blackfin</a></li><li class="navelem"><a class="el" href="dir_1a61c03f8c9e6194349edeac80003ea0.html">include</a></li><li class="navelem"><a class="el" href="dir_956f075c1ff9ee351b2182e2f4554729.html">asm</a></li><li class="navelem"><a class="el" href="dir_d78f1d21f78c7e741cd4ef15b87c46d8.html">xenomai</a></li><li class="navelem"><b>fptest.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: lib/cobalt/arch/powerpc/include Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dir_0c8cda2225bf3969a27ee5907a51fc82.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">include Directory Reference</div>  </div>
</div><!--header-->
<div class="contents">
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a256309a954e6f7cd425caa9cc978d6b.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_92237bd4ff267620236e96c295a4a34d.html">arch</a></li><li class="navelem"><a class="el" href="dir_aa2c4dd83fe10df3eee8048e717a5833.html">powerpc</a></li><li class="navelem"><a class="el" href="dir_0c8cda2225bf3969a27ee5907a51fc82.html">include</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: Data Fields</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('functions_d.html','');});
</script>
<div id="doc-content">
<div class="contents">
<div class="textblock">Here is a list of all documented struct and union fields with links to the struct/union documentation for each field:</div>

<h3><a id="index_d"></a>- d -</h3><ul>
<li>data
: <a class="el" href="structa4l__cmd__desc.html#a7022dc9b40700146265dae4975e7e8e6">a4l_cmd_desc</a>
, <a class="el" href="structa4l__instruction.html#aea22840417a04202cd0740515420d467">a4l_instruction</a>
</li>
<li>data_bits
: <a class="el" href="structrtser__config.html#a962246b069a839038f3e57aadc48e387">rtser_config</a>
</li>
<li>data_len
: <a class="el" href="structa4l__cmd__desc.html#a625881dda6bd2d262335cb64531de5bc">a4l_cmd_desc</a>
</li>
<li>data_size
: <a class="el" href="structa4l__instruction.html#a57a3362a9c56de0a3318116eda8583fe">a4l_instruction</a>
</li>
<li>databuf
: <a class="el" href="structxnvfile__snapshot__iterator.html#ab3d26fd9ee1e14af1e5d345f589c2f3c">xnvfile_snapshot_iterator</a>
</li>
<li>date
: <a class="el" href="structrt__timer__info.html#ae0b40e3f54176cb6eaff19a0a42ecd3e">rt_timer_info</a>
</li>
<li>detach
: <a class="el" href="structa4l__driver.html#abed271beb94e323dd49510e1d2045366">a4l_driver</a>
</li>
<li>dev
: <a class="el" href="structa4l__subdevice.html#a7c24cee67a888f7c6786e76a5375b534">a4l_subdevice</a>
</li>
<li>dev_private
: <a class="el" href="structrtdm__dev__context.html#a720bc9395d80f0dea40c7ac3e449ea25">rtdm_dev_context</a>
</li>
<li>device
: <a class="el" href="structrtdm__dev__context.html#a8fea6f19169a166aa183d2e9da09df51">rtdm_dev_context</a>
</li>
<li>device_class
: <a class="el" href="structrtdm__device__info.html#add4bb1bdd7e6003bb348411f8c2c55f5">rtdm_device_info</a>
</li>
<li>device_count
: <a class="el" href="structrtdm__driver.html#abe2ba965a22f3ea93a8a0929aed6ac8e">rtdm_driver</a>
</li>
<li>device_data
: <a class="el" href="structrtdm__device.html#a23bedbebe7a0d2e392ca6dce1585edcc">rtdm_device</a>
</li>
<li>device_flags
: <a class="el" href="structrtdm__device__info.html#a7f651ee79cf7bd714b5556d505d8704c">rtdm_device_info</a>
, <a class="el" href="structrtdm__driver.html#a7dc45b4a6a5f920167d10ced91719c0a">rtdm_driver</a>
, <a class="el" href="structudd__device.html#acc143e9af9f5a1a6de12a09730370e4c">udd_device</a>
</li>
<li>device_name
: <a class="el" href="structudd__device.html#a8f5d7d94ba891771a3d5dfbc308fdcad">udd_device</a>
</li>
<li>device_sub_class
: <a class="el" href="structrtdm__device__info.html#a8bad450810f6c6ef4027004c9838c37a">rtdm_device_info</a>
</li>
<li>device_subclass
: <a class="el" href="structudd__device.html#ae2be25937198705a92f5e179d6c48192">udd_device</a>
</li>
<li>do_cmd
: <a class="el" href="structa4l__subdevice.html#a71a1cba3f63c42d00612d805357dc114">a4l_subdevice</a>
</li>
<li>do_cmdtest
: <a class="el" href="structa4l__subdevice.html#a355dc83ec39136b48b692cbbed5a74f4">a4l_subdevice</a>
</li>
<li>driver
: <a class="el" href="structrtdm__device.html#a61c4d79a727f060a968d37abc852b6c2">rtdm_device</a>
</li>
<li>driver_name
: <a class="el" href="structa4l__descriptor.html#afea460e9ed19208a0ec297e423b9b170">a4l_descriptor</a>
, <a class="el" href="structa4l__driver.html#a753375d199cf52a8357aa5a2f694b168">a4l_driver</a>
</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: Big dual kernel lock</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__rtdm__sync__biglock.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Big dual kernel lock<div class="ingroups"><a class="el" href="group__rtdm.html">RTDM</a> &raquo; <a class="el" href="group__rtdm__driver__interface.html">Driver programming interface</a> &raquo; <a class="el" href="group__rtdm__sync.html">Synchronisation Services</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Big dual kernel lock:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__rtdm__sync__biglock.png" border="0" alt="" usemap="#group____rtdm____sync____biglock"/>
<map name="group____rtdm____sync____biglock" id="group____rtdm____sync____biglock">
<area shape="rect" id="node2" href="group__rtdm__sync.html" title="Synchronisation Services" alt="" coords="5,5,176,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga86168837a3f34f33912264b1a50ae6b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtdm__sync__biglock.html#ga86168837a3f34f33912264b1a50ae6b1">cobalt_atomic_enter</a>(__context)</td></tr>
<tr class="memdesc:ga86168837a3f34f33912264b1a50ae6b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter atomic section (dual kernel only)  <a href="#ga86168837a3f34f33912264b1a50ae6b1">More...</a><br /></td></tr>
<tr class="separator:ga86168837a3f34f33912264b1a50ae6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0828b83048e6bf62e2723f371af9d3b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtdm__sync__biglock.html#ga0828b83048e6bf62e2723f371af9d3b1">cobalt_atomic_leave</a>(__context)</td></tr>
<tr class="memdesc:ga0828b83048e6bf62e2723f371af9d3b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Leave atomic section (dual kernel only)  <a href="#ga0828b83048e6bf62e2723f371af9d3b1">More...</a><br /></td></tr>
<tr class="separator:ga0828b83048e6bf62e2723f371af9d3b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbaf52632d5dde7fa66e0b70d887493b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtdm__sync__biglock.html#gabbaf52632d5dde7fa66e0b70d887493b">RTDM_EXECUTE_ATOMICALLY</a>(code_block)</td></tr>
<tr class="memdesc:gabbaf52632d5dde7fa66e0b70d887493b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute code block atomically (DEPRECATED)  <a href="#gabbaf52632d5dde7fa66e0b70d887493b">More...</a><br /></td></tr>
<tr class="separator:gabbaf52632d5dde7fa66e0b70d887493b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga86168837a3f34f33912264b1a50ae6b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86168837a3f34f33912264b1a50ae6b1">&#9670;&nbsp;</a></span>cobalt_atomic_enter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cobalt_atomic_enter</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__context</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                    \</div><div class="line">                xnlock_get_irqsave(&amp;nklock, (__context));       \</div><div class="line">                xnsched_lock();                                 \</div><div class="line">        } <span class="keywordflow">while</span> (0)</div></div><!-- fragment -->
<p>Enter atomic section (dual kernel only) </p>
<p>This call opens a fully atomic section, serializing execution with respect to all interrupt handlers (including for real-time IRQs) and Xenomai threads running on all CPUs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">__context</td><td>name of local variable to store the context in. This variable updated by the real-time core will hold the information required to leave the atomic section properly.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Atomic sections may be nested. The caller is allowed to sleep on a blocking Xenomai service from primary mode within an atomic section delimited by cobalt_atomic_enter/cobalt_atomic_leave calls. On the contrary, sleeping on a regular Linux kernel service while holding such lock is NOT valid.</dd>
<dd>
Since the strongest lock is acquired by this service, it can be used to synchronize real-time and non-real-time contexts.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This service is not portable to the Mercury core, and should be restricted to Cobalt-specific use cases, mainly for the purpose of porting existing dual-kernel drivers which still depend on the obsolete <a class="el" href="group__rtdm__sync__biglock.html#gabbaf52632d5dde7fa66e0b70d887493b" title="Execute code block atomically (DEPRECATED) ">RTDM_EXECUTE_ATOMICALLY()</a> construct. </dd></dl>

</div>
</div>
<a id="ga0828b83048e6bf62e2723f371af9d3b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0828b83048e6bf62e2723f371af9d3b1">&#9670;&nbsp;</a></span>cobalt_atomic_leave</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cobalt_atomic_leave</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__context</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                    \</div><div class="line">                xnsched_unlock();                               \</div><div class="line">                xnlock_put_irqrestore(&amp;nklock, (__context));    \</div><div class="line">        } <span class="keywordflow">while</span> (0)</div></div><!-- fragment -->
<p>Leave atomic section (dual kernel only) </p>
<p>This call closes an atomic section previously opened by a call to <a class="el" href="group__rtdm__sync__biglock.html#ga86168837a3f34f33912264b1a50ae6b1" title="Enter atomic section (dual kernel only) ">cobalt_atomic_enter()</a>, restoring the preemption and interrupt state which prevailed prior to entering the exited section.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">__context</td><td>name of local variable which stored the context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This service is not portable to the Mercury core, and should be restricted to Cobalt-specific use cases. </dd></dl>

</div>
</div>
<a id="gabbaf52632d5dde7fa66e0b70d887493b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabbaf52632d5dde7fa66e0b70d887493b">&#9670;&nbsp;</a></span>RTDM_EXECUTE_ATOMICALLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTDM_EXECUTE_ATOMICALLY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">code_block</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                               \</div><div class="line">        &lt;ENTER_ATOMIC_SECTION&gt;                  \</div><div class="line">        code_block;                             \</div><div class="line">        &lt;LEAVE_ATOMIC_SECTION&gt;                  \</div><div class="line">}</div></div><!-- fragment -->
<p>Execute code block atomically (DEPRECATED) </p>
<p>Generally, it is illegal to suspend the current task by calling <a class="el" href="group__rtdm__task.html#gabfae53746165a83a75965b7b0f6710a0" title="Sleep a specified amount of time. ">rtdm_task_sleep()</a>, <a class="el" href="group__rtdm__sync__event.html#ga1c433b50c53d49d164b084751861e855" title="Wait on event occurrence. ">rtdm_event_wait()</a>, etc. while holding a spinlock. In contrast, this macro allows to combine several operations including a potentially rescheduling call to an atomic code block with respect to other <a class="el" href="group__rtdm__sync__biglock.html#gabbaf52632d5dde7fa66e0b70d887493b" title="Execute code block atomically (DEPRECATED) ">RTDM_EXECUTE_ATOMICALLY()</a> blocks. The macro is a light-weight alternative for protecting code blocks via mutexes, and it can even be used to synchronise real-time and non-real-time contexts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code_block</td><td>Commands to be executed atomically</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is not allowed to leave the code block explicitly by using <code>break</code>, <code>return</code>, <code>goto</code>, etc. This would leave the global lock held during the code block execution in an inconsistent state. Moreover, do not embed complex operations into the code bock. Consider that they will be executed under preemption lock with interrupts switched-off. Also note that invocation of rescheduling calls may break the atomicity until the task gains the CPU again.</dd></dl>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">unrestricted</a></dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>This construct will be phased out in Xenomai 3.0. Please use rtdm_waitqueue services instead.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__rtdm__sync__biglock.html#ga86168837a3f34f33912264b1a50ae6b1" title="Enter atomic section (dual kernel only) ">cobalt_atomic_enter()</a>. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: lib/cobalt/internal.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('lib_2cobalt_2internal_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">internal.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2008 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * License along with this library; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef _LIB_COBALT_INTERNAL_H</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define _LIB_COBALT_INTERNAL_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;limits.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;cobalt/sys/cobalt.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;boilerplate/ancillaries.h&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;current.h&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> *cobalt_umm_private;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> *cobalt_umm_shared;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> cobalt_is_relaxed(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">return</span> cobalt_get_current_mode() &amp; <a class="code" href="group__cobalt__core__thread__states.html#gadf5508cd88c2678ae01dfaf5570c661c">XNRELAX</a>;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> cobalt_should_warn(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">return</span> (cobalt_get_current_mode() &amp; (<a class="code" href="group__cobalt__core__thread__states.html#gadf5508cd88c2678ae01dfaf5570c661c">XNRELAX</a>|<a class="code" href="group__cobalt__core__thread__states.html#ga44a2c7ec314961aacb1934636cb33482">XNWARN</a>)) == <a class="code" href="group__cobalt__core__thread__states.html#ga44a2c7ec314961aacb1934636cb33482">XNWARN</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">struct </span>cobalt_mutex_state *mutex_get_state(<span class="keyword">struct</span> cobalt_mutex_shadow *shadow)</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordflow">if</span> (shadow-&gt;attr.pshared)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                <span class="keywordflow">return</span> cobalt_umm_shared + shadow-&gt;state_offset;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">return</span> cobalt_umm_private + shadow-&gt;state_offset;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="structatomic__t.html">atomic_t</a> *mutex_get_ownerp(<span class="keyword">struct</span> cobalt_mutex_shadow *shadow)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">return</span> &amp;mutex_get_state(shadow)-&gt;owner;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keywordtype">void</span> cobalt_sigshadow_install_once(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keywordtype">void</span> cobalt_thread_init(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keywordtype">int</span> cobalt_thread_probe(pid_t pid);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keywordtype">void</span> cobalt_print_init(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keywordtype">void</span> cobalt_print_init_atfork(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keywordtype">void</span> cobalt_ticks_init(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> freq);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keywordtype">void</span> cobalt_mutex_init(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keywordtype">void</span> cobalt_default_condattr_init(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keywordtype">int</span> cobalt_xlate_schedparam(<span class="keywordtype">int</span> policy,</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                            <span class="keyword">const</span> <span class="keyword">struct</span> sched_param_ex *param_ex,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                            <span class="keyword">struct</span> sched_param *param);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keywordtype">int</span> cobalt_init(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">struct </span>cobalt_featinfo;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keywordtype">void</span> cobalt_check_features(<span class="keyword">struct</span> cobalt_featinfo *finfo);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>sigaction __cobalt_orig_sigdebug;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _LIB_COBALT_INTERNAL_H */</span><span class="preprocessor"></span></div><div class="ttc" id="group__cobalt__core__thread__states_html_ga44a2c7ec314961aacb1934636cb33482"><div class="ttname"><a href="group__cobalt__core__thread__states.html#ga44a2c7ec314961aacb1934636cb33482">XNWARN</a></div><div class="ttdeci">#define XNWARN</div><div class="ttdoc">Issue SIGDEBUG on error detection. </div><div class="ttdef"><b>Definition:</b> thread.h:46</div></div>
<div class="ttc" id="structatomic__t_html"><div class="ttname"><a href="structatomic__t.html">atomic_t</a></div><div class="ttdoc">Copyright  2011 Gilles Chanteperdrix gilles.chanteperdrix@xenomai.org. </div><div class="ttdef"><b>Definition:</b> atomic.h:24</div></div>
<div class="ttc" id="group__cobalt__core__thread__states_html_gadf5508cd88c2678ae01dfaf5570c661c"><div class="ttname"><a href="group__cobalt__core__thread__states.html#gadf5508cd88c2678ae01dfaf5570c661c">XNRELAX</a></div><div class="ttdeci">#define XNRELAX</div><div class="ttdoc">Relaxed shadow thread (blocking bit) </div><div class="ttdef"><b>Definition:</b> thread.h:39</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a256309a954e6f7cd425caa9cc978d6b.html">cobalt</a></li><li class="navelem"><b>internal.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: include/rtdm/uapi/serial.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rtdm_2uapi_2serial_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">serial.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Real-Time Driver Model for Xenomai, serial device profile header.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="rtdm_2uapi_2serial_8h__dep__incl.png" border="0" usemap="#include_2rtdm_2uapi_2serial_8hdep" alt=""/></div>
<map name="include_2rtdm_2uapi_2serial_8hdep" id="include_2rtdm_2uapi_2serial_8hdep">
<area shape="rect" id="node2" href="cobalt_2kernel_2rtdm_2serial_8h_source.html" title="include/cobalt/kernel\l/rtdm/serial.h" alt="" coords="5,80,147,121"/>
<area shape="rect" id="node3" href="rtdm_2serial_8h.html" title="Real&#45;Time Driver Model for Xenomai, serial device profile header. " alt="" coords="171,87,309,114"/>
<area shape="rect" id="node4" href="rtserial_8h_source.html" title="include/trank/rtdm\l/rtserial.h" alt="" coords="177,169,303,211"/>
</map>
</div>
</div>
<p><a href="rtdm_2uapi_2serial_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtser__config.html">rtser_config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial device configuration.  <a href="structrtser__config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtser__status.html">rtser_status</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial device status.  <a href="structrtser__status.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtser__event.html">rtser_event</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional information about serial device events.  <a href="structrtser__event.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afcc7277020ca099c41800da5283b33a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#afcc7277020ca099c41800da5283b33a2">RTSER_RTIOC_BREAK_CTL</a>&#160;&#160;&#160;_IOR(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x06, int)</td></tr>
<tr class="memdesc:afcc7277020ca099c41800da5283b33a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set or clear break on UART output line.  <a href="#afcc7277020ca099c41800da5283b33a2">More...</a><br /></td></tr>
<tr class="separator:afcc7277020ca099c41800da5283b33a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_DEF_BAUD</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_DEF_BAUD"></a>Default baud rate </p>
</div></td></tr>
<tr class="memitem:a6a7f81b7e144a8acc40e5da0d984b21b"><td class="memItemLeft" align="right" valign="top"><a id="a6a7f81b7e144a8acc40e5da0d984b21b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_DEF_BAUD</b>&#160;&#160;&#160;9600</td></tr>
<tr class="separator:a6a7f81b7e144a8acc40e5da0d984b21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_xxx_PARITY</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_xxx_PARITY"></a>Number of parity bits </p>
</div></td></tr>
<tr class="memitem:a0742b722bf57d611da49fbf8c6be2c8f"><td class="memItemLeft" align="right" valign="top"><a id="a0742b722bf57d611da49fbf8c6be2c8f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_NO_PARITY</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a0742b722bf57d611da49fbf8c6be2c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b8654802dcda184e45910cc9acb1537"><td class="memItemLeft" align="right" valign="top"><a id="a3b8654802dcda184e45910cc9acb1537"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_ODD_PARITY</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:a3b8654802dcda184e45910cc9acb1537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d4f978b0b03bddbfa6c69c5d897ac1d"><td class="memItemLeft" align="right" valign="top"><a id="a9d4f978b0b03bddbfa6c69c5d897ac1d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_EVEN_PARITY</b>&#160;&#160;&#160;0x03</td></tr>
<tr class="separator:a9d4f978b0b03bddbfa6c69c5d897ac1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ecd5ac0325b7f38a5d6b0df040de158"><td class="memItemLeft" align="right" valign="top"><a id="a8ecd5ac0325b7f38a5d6b0df040de158"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_DEF_PARITY</b>&#160;&#160;&#160;RTSER_NO_PARITY</td></tr>
<tr class="separator:a8ecd5ac0325b7f38a5d6b0df040de158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_xxx_BITS</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_xxx_BITS"></a>Number of data bits </p>
</div></td></tr>
<tr class="memitem:af675273586601277d9e640b06e248c5a"><td class="memItemLeft" align="right" valign="top"><a id="af675273586601277d9e640b06e248c5a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_5_BITS</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:af675273586601277d9e640b06e248c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8c063c259064bb9aa5581f5ecfa9232"><td class="memItemLeft" align="right" valign="top"><a id="aa8c063c259064bb9aa5581f5ecfa9232"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_6_BITS</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:aa8c063c259064bb9aa5581f5ecfa9232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f3de7c54e61d2adf296abf6f91622c"><td class="memItemLeft" align="right" valign="top"><a id="a93f3de7c54e61d2adf296abf6f91622c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_7_BITS</b>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:a93f3de7c54e61d2adf296abf6f91622c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bb2c348f637114bae8c262bd8b4a153"><td class="memItemLeft" align="right" valign="top"><a id="a8bb2c348f637114bae8c262bd8b4a153"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_8_BITS</b>&#160;&#160;&#160;0x03</td></tr>
<tr class="separator:a8bb2c348f637114bae8c262bd8b4a153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2886d3635e41d4458f7f3fac0dca7286"><td class="memItemLeft" align="right" valign="top"><a id="a2886d3635e41d4458f7f3fac0dca7286"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_DEF_BITS</b>&#160;&#160;&#160;RTSER_8_BITS</td></tr>
<tr class="separator:a2886d3635e41d4458f7f3fac0dca7286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_xxx_STOPB</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_xxx_STOPB"></a>Number of stop bits </p>
</div></td></tr>
<tr class="memitem:af4ad4afad796d448bd31692a8b45c3f2"><td class="memItemLeft" align="right" valign="top"><a id="af4ad4afad796d448bd31692a8b45c3f2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#af4ad4afad796d448bd31692a8b45c3f2">RTSER_1_STOPB</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="memdesc:af4ad4afad796d448bd31692a8b45c3f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">valid only in combination with 5 data bits <br /></td></tr>
<tr class="separator:af4ad4afad796d448bd31692a8b45c3f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c3c851f9a95094704523788b226828"><td class="memItemLeft" align="right" valign="top"><a id="a28c3c851f9a95094704523788b226828"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#a28c3c851f9a95094704523788b226828">RTSER_1_5_STOPB</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:a28c3c851f9a95094704523788b226828"><td class="mdescLeft">&#160;</td><td class="mdescRight">valid only in combination with 5 data bits <br /></td></tr>
<tr class="separator:a28c3c851f9a95094704523788b226828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae408e1c3e3248c053e8f0234ff844ec"><td class="memItemLeft" align="right" valign="top"><a id="aae408e1c3e3248c053e8f0234ff844ec"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#aae408e1c3e3248c053e8f0234ff844ec">RTSER_2_STOPB</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:aae408e1c3e3248c053e8f0234ff844ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">valid only in combination with 5 data bits <br /></td></tr>
<tr class="separator:aae408e1c3e3248c053e8f0234ff844ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74319f8613b9b94952735f7ca0062de4"><td class="memItemLeft" align="right" valign="top"><a id="a74319f8613b9b94952735f7ca0062de4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#a74319f8613b9b94952735f7ca0062de4">RTSER_DEF_STOPB</a>&#160;&#160;&#160;<a class="el" href="rtdm_2uapi_2serial_8h.html#af4ad4afad796d448bd31692a8b45c3f2">RTSER_1_STOPB</a></td></tr>
<tr class="memdesc:a74319f8613b9b94952735f7ca0062de4"><td class="mdescLeft">&#160;</td><td class="mdescRight">valid only in combination with 5 data bits <br /></td></tr>
<tr class="separator:a74319f8613b9b94952735f7ca0062de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_xxx_HAND</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_xxx_HAND"></a>Handshake mechanisms </p>
</div></td></tr>
<tr class="memitem:a2b0dc6889cb2779e1982a879b75fc876"><td class="memItemLeft" align="right" valign="top"><a id="a2b0dc6889cb2779e1982a879b75fc876"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_NO_HAND</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a2b0dc6889cb2779e1982a879b75fc876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc97c7ce900524aac10c13d4daa596f1"><td class="memItemLeft" align="right" valign="top"><a id="acc97c7ce900524aac10c13d4daa596f1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_RTSCTS_HAND</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:acc97c7ce900524aac10c13d4daa596f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa706ffbdcaa26529b2f78ac9208cb3c3"><td class="memItemLeft" align="right" valign="top"><a id="aa706ffbdcaa26529b2f78ac9208cb3c3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_DEF_HAND</b>&#160;&#160;&#160;RTSER_NO_HAND</td></tr>
<tr class="separator:aa706ffbdcaa26529b2f78ac9208cb3c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_RS485_xxx</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_RS485_xxx"></a>RS485 mode with automatic RTS handling </p>
</div></td></tr>
<tr class="memitem:a18e8f061ce3200f1ecaad77dd1409f0e"><td class="memItemLeft" align="right" valign="top"><a id="a18e8f061ce3200f1ecaad77dd1409f0e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_RS485_DISABLE</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a18e8f061ce3200f1ecaad77dd1409f0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc782f4e308f64a8a6fc10f84ccdf8b3"><td class="memItemLeft" align="right" valign="top"><a id="adc782f4e308f64a8a6fc10f84ccdf8b3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_RS485_ENABLE</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:adc782f4e308f64a8a6fc10f84ccdf8b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae08c31726fdbd004c8ed6c65dac796f1"><td class="memItemLeft" align="right" valign="top"><a id="ae08c31726fdbd004c8ed6c65dac796f1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_DEF_RS485</b>&#160;&#160;&#160;RTSER_RS485_DISABLE</td></tr>
<tr class="separator:ae08c31726fdbd004c8ed6c65dac796f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_FIFO_xxx</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_FIFO_xxx"></a>Reception FIFO interrupt threshold </p>
</div></td></tr>
<tr class="memitem:ab5d73dd284d33422401d80cfa1f034d0"><td class="memItemLeft" align="right" valign="top"><a id="ab5d73dd284d33422401d80cfa1f034d0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_FIFO_DEPTH_1</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:ab5d73dd284d33422401d80cfa1f034d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3005dd586d43ae3ece5a7e14297227e7"><td class="memItemLeft" align="right" valign="top"><a id="a3005dd586d43ae3ece5a7e14297227e7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_FIFO_DEPTH_4</b>&#160;&#160;&#160;0x40</td></tr>
<tr class="separator:a3005dd586d43ae3ece5a7e14297227e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a9a66ffe003cba0b64259c9fd44ee9"><td class="memItemLeft" align="right" valign="top"><a id="a84a9a66ffe003cba0b64259c9fd44ee9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_FIFO_DEPTH_8</b>&#160;&#160;&#160;0x80</td></tr>
<tr class="separator:a84a9a66ffe003cba0b64259c9fd44ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17b6f1323d64f0561c09bca0d0876ea"><td class="memItemLeft" align="right" valign="top"><a id="aa17b6f1323d64f0561c09bca0d0876ea"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_FIFO_DEPTH_14</b>&#160;&#160;&#160;0xC0</td></tr>
<tr class="separator:aa17b6f1323d64f0561c09bca0d0876ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c31ced2c71284ddb7ec4a39f48e229"><td class="memItemLeft" align="right" valign="top"><a id="a80c31ced2c71284ddb7ec4a39f48e229"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_DEF_FIFO_DEPTH</b>&#160;&#160;&#160;RTSER_FIFO_DEPTH_1</td></tr>
<tr class="separator:a80c31ced2c71284ddb7ec4a39f48e229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_TIMEOUT_xxx</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_TIMEOUT_xxx"></a>Special timeout values, see also <a class="el" href="group__rtdm.html#RTDM_TIMEOUT_xxx">RTDM_TIMEOUT_xxx</a> </p>
</div></td></tr>
<tr class="memitem:adcc26adaa29fcb10c56c1f7b43727326"><td class="memItemLeft" align="right" valign="top"><a id="adcc26adaa29fcb10c56c1f7b43727326"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_TIMEOUT_INFINITE</b>&#160;&#160;&#160;<a class="el" href="group__rtdm.html#gabdd7dfed8d8c38213f7edff5dc8b85a9">RTDM_TIMEOUT_INFINITE</a></td></tr>
<tr class="separator:adcc26adaa29fcb10c56c1f7b43727326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0523dc33c3e9d26ff7c216fe624c1e"><td class="memItemLeft" align="right" valign="top"><a id="a3c0523dc33c3e9d26ff7c216fe624c1e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_TIMEOUT_NONE</b>&#160;&#160;&#160;<a class="el" href="group__rtdm.html#ga9d1d1557083c4b10226f360bea137fde">RTDM_TIMEOUT_NONE</a></td></tr>
<tr class="separator:a3c0523dc33c3e9d26ff7c216fe624c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15fd33716b613a184647954260ca7d9f"><td class="memItemLeft" align="right" valign="top"><a id="a15fd33716b613a184647954260ca7d9f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_DEF_TIMEOUT</b>&#160;&#160;&#160;<a class="el" href="group__rtdm.html#gabdd7dfed8d8c38213f7edff5dc8b85a9">RTDM_TIMEOUT_INFINITE</a></td></tr>
<tr class="separator:a15fd33716b613a184647954260ca7d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_xxx_TIMESTAMP_HISTORY</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_xxx_TIMESTAMP_HISTORY"></a>Timestamp history control </p>
</div></td></tr>
<tr class="memitem:a32e18bae707ec67812a2b461479152b3"><td class="memItemLeft" align="right" valign="top"><a id="a32e18bae707ec67812a2b461479152b3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_RX_TIMESTAMP_HISTORY</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:a32e18bae707ec67812a2b461479152b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2e7a9e859f3ba71f5a1565b8ccd986"><td class="memItemLeft" align="right" valign="top"><a id="acb2e7a9e859f3ba71f5a1565b8ccd986"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_DEF_TIMESTAMP_HISTORY</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:acb2e7a9e859f3ba71f5a1565b8ccd986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_EVENT_xxx</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_EVENT_xxx"></a>Events bits </p>
</div></td></tr>
<tr class="memitem:ad71ee99360c95535c5c8f3cd95d5bb9d"><td class="memItemLeft" align="right" valign="top"><a id="ad71ee99360c95535c5c8f3cd95d5bb9d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_EVENT_RXPEND</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:ad71ee99360c95535c5c8f3cd95d5bb9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cc66117931f91aef5c856527359df5f"><td class="memItemLeft" align="right" valign="top"><a id="a1cc66117931f91aef5c856527359df5f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_EVENT_ERRPEND</b>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:a1cc66117931f91aef5c856527359df5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85bca54550c3f053090a94a718c5dc66"><td class="memItemLeft" align="right" valign="top"><a id="a85bca54550c3f053090a94a718c5dc66"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_EVENT_MODEMHI</b>&#160;&#160;&#160;0x04</td></tr>
<tr class="separator:a85bca54550c3f053090a94a718c5dc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a603070bbc0175ec5df97f67fbffb47d7"><td class="memItemLeft" align="right" valign="top"><a id="a603070bbc0175ec5df97f67fbffb47d7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_EVENT_MODEMLO</b>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:a603070bbc0175ec5df97f67fbffb47d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae423f9fa2f98a8ec0e71be021b86f70a"><td class="memItemLeft" align="right" valign="top"><a id="ae423f9fa2f98a8ec0e71be021b86f70a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_EVENT_TXEMPTY</b>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:ae423f9fa2f98a8ec0e71be021b86f70a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c9ab11956bd5ffbc9d306131cf3316"><td class="memItemLeft" align="right" valign="top"><a id="a07c9ab11956bd5ffbc9d306131cf3316"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_DEF_EVENT_MASK</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a07c9ab11956bd5ffbc9d306131cf3316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_SET_xxx</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_SET_xxx"></a>Configuration mask bits </p>
</div></td></tr>
<tr class="memitem:acf87c8e8cf0b5d67fcc45d85a57101c0"><td class="memItemLeft" align="right" valign="top"><a id="acf87c8e8cf0b5d67fcc45d85a57101c0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_BAUD</b>&#160;&#160;&#160;0x0001</td></tr>
<tr class="separator:acf87c8e8cf0b5d67fcc45d85a57101c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e52c452d0ec39a97b369ce894c1f03"><td class="memItemLeft" align="right" valign="top"><a id="a02e52c452d0ec39a97b369ce894c1f03"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_PARITY</b>&#160;&#160;&#160;0x0002</td></tr>
<tr class="separator:a02e52c452d0ec39a97b369ce894c1f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad40342abbcbbeec6badb4ae63ca64f5d"><td class="memItemLeft" align="right" valign="top"><a id="ad40342abbcbbeec6badb4ae63ca64f5d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_DATA_BITS</b>&#160;&#160;&#160;0x0004</td></tr>
<tr class="separator:ad40342abbcbbeec6badb4ae63ca64f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8613d3bdb1b2f429ceb8ae7c32a39ba3"><td class="memItemLeft" align="right" valign="top"><a id="a8613d3bdb1b2f429ceb8ae7c32a39ba3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_STOP_BITS</b>&#160;&#160;&#160;0x0008</td></tr>
<tr class="separator:a8613d3bdb1b2f429ceb8ae7c32a39ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a45676e939456b4dee374364f5c8550"><td class="memItemLeft" align="right" valign="top"><a id="a7a45676e939456b4dee374364f5c8550"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_HANDSHAKE</b>&#160;&#160;&#160;0x0010</td></tr>
<tr class="separator:a7a45676e939456b4dee374364f5c8550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a0d537b7fce972fd4654140ff0e7780"><td class="memItemLeft" align="right" valign="top"><a id="a3a0d537b7fce972fd4654140ff0e7780"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_FIFO_DEPTH</b>&#160;&#160;&#160;0x0020</td></tr>
<tr class="separator:a3a0d537b7fce972fd4654140ff0e7780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6c7479c54aa00c097aaedcb2870ea6"><td class="memItemLeft" align="right" valign="top"><a id="a9b6c7479c54aa00c097aaedcb2870ea6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_TIMEOUT_RX</b>&#160;&#160;&#160;0x0100</td></tr>
<tr class="separator:a9b6c7479c54aa00c097aaedcb2870ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2eb13fea960a7b19400565b9c9640a4"><td class="memItemLeft" align="right" valign="top"><a id="ac2eb13fea960a7b19400565b9c9640a4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_TIMEOUT_TX</b>&#160;&#160;&#160;0x0200</td></tr>
<tr class="separator:ac2eb13fea960a7b19400565b9c9640a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc447e1ba7c61b8918862d74e57a543"><td class="memItemLeft" align="right" valign="top"><a id="a4cc447e1ba7c61b8918862d74e57a543"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_TIMEOUT_EVENT</b>&#160;&#160;&#160;0x0400</td></tr>
<tr class="separator:a4cc447e1ba7c61b8918862d74e57a543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa358a56b71d4ecf9ab949eb574a4ba65"><td class="memItemLeft" align="right" valign="top"><a id="aa358a56b71d4ecf9ab949eb574a4ba65"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_TIMESTAMP_HISTORY</b>&#160;&#160;&#160;0x0800</td></tr>
<tr class="separator:aa358a56b71d4ecf9ab949eb574a4ba65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f3c98d76b179a3cf0e620e7a16ef77"><td class="memItemLeft" align="right" valign="top"><a id="a65f3c98d76b179a3cf0e620e7a16ef77"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_EVENT_MASK</b>&#160;&#160;&#160;0x1000</td></tr>
<tr class="separator:a65f3c98d76b179a3cf0e620e7a16ef77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f786684a5691b8527966325684dcc8"><td class="memItemLeft" align="right" valign="top"><a id="a15f786684a5691b8527966325684dcc8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SET_RS485</b>&#160;&#160;&#160;0x2000</td></tr>
<tr class="separator:a15f786684a5691b8527966325684dcc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_LSR_xxx</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_LSR_xxx"></a>Line status bits </p>
</div></td></tr>
<tr class="memitem:a9fe9775398a107a68144c7d3164d2955"><td class="memItemLeft" align="right" valign="top"><a id="a9fe9775398a107a68144c7d3164d2955"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_LSR_DATA</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:a9fe9775398a107a68144c7d3164d2955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16121d39b128fb8be16dce455ef7f547"><td class="memItemLeft" align="right" valign="top"><a id="a16121d39b128fb8be16dce455ef7f547"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_LSR_OVERRUN_ERR</b>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:a16121d39b128fb8be16dce455ef7f547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfb895ac195925e95860046a41dfac7f"><td class="memItemLeft" align="right" valign="top"><a id="abfb895ac195925e95860046a41dfac7f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_LSR_PARITY_ERR</b>&#160;&#160;&#160;0x04</td></tr>
<tr class="separator:abfb895ac195925e95860046a41dfac7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68fada896334874aedfcec2666e9209"><td class="memItemLeft" align="right" valign="top"><a id="ac68fada896334874aedfcec2666e9209"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_LSR_FRAMING_ERR</b>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:ac68fada896334874aedfcec2666e9209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61c4a54557902e02314898cd3649300"><td class="memItemLeft" align="right" valign="top"><a id="ad61c4a54557902e02314898cd3649300"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_LSR_BREAK_IND</b>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:ad61c4a54557902e02314898cd3649300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae81aa282fc42439633bb19c2a1e0c700"><td class="memItemLeft" align="right" valign="top"><a id="ae81aa282fc42439633bb19c2a1e0c700"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_LSR_THR_EMTPY</b>&#160;&#160;&#160;0x20</td></tr>
<tr class="separator:ae81aa282fc42439633bb19c2a1e0c700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2e3fc25a3ce8a1360fa59de771c815"><td class="memItemLeft" align="right" valign="top"><a id="a5c2e3fc25a3ce8a1360fa59de771c815"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_LSR_TRANSM_EMPTY</b>&#160;&#160;&#160;0x40</td></tr>
<tr class="separator:a5c2e3fc25a3ce8a1360fa59de771c815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7798ce0cee130031a739f6147c7f0602"><td class="memItemLeft" align="right" valign="top"><a id="a7798ce0cee130031a739f6147c7f0602"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_LSR_FIFO_ERR</b>&#160;&#160;&#160;0x80</td></tr>
<tr class="separator:a7798ce0cee130031a739f6147c7f0602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e3a28db52d27db15c541960c3af1b55"><td class="memItemLeft" align="right" valign="top"><a id="a2e3a28db52d27db15c541960c3af1b55"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_SOFT_OVERRUN_ERR</b>&#160;&#160;&#160;0x0100</td></tr>
<tr class="separator:a2e3a28db52d27db15c541960c3af1b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_MSR_xxx</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_MSR_xxx"></a>Modem status bits </p>
</div></td></tr>
<tr class="memitem:ad8f33aa5953f8eb97f0cbd919b586700"><td class="memItemLeft" align="right" valign="top"><a id="ad8f33aa5953f8eb97f0cbd919b586700"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MSR_DCTS</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:ad8f33aa5953f8eb97f0cbd919b586700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0beb456521cd1c47ca7a4ddbd18f60dc"><td class="memItemLeft" align="right" valign="top"><a id="a0beb456521cd1c47ca7a4ddbd18f60dc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MSR_DDSR</b>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:a0beb456521cd1c47ca7a4ddbd18f60dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e38741fd16d5be96be24570578984f1"><td class="memItemLeft" align="right" valign="top"><a id="a1e38741fd16d5be96be24570578984f1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MSR_TERI</b>&#160;&#160;&#160;0x04</td></tr>
<tr class="separator:a1e38741fd16d5be96be24570578984f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12ac07ef0183b96344543071632a3f8c"><td class="memItemLeft" align="right" valign="top"><a id="a12ac07ef0183b96344543071632a3f8c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MSR_DDCD</b>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:a12ac07ef0183b96344543071632a3f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a9e947b4050466fe7c2e735701b72e"><td class="memItemLeft" align="right" valign="top"><a id="ad7a9e947b4050466fe7c2e735701b72e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MSR_CTS</b>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:ad7a9e947b4050466fe7c2e735701b72e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a913d3efb2bf30e1f965c5b8a0a81d846"><td class="memItemLeft" align="right" valign="top"><a id="a913d3efb2bf30e1f965c5b8a0a81d846"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MSR_DSR</b>&#160;&#160;&#160;0x20</td></tr>
<tr class="separator:a913d3efb2bf30e1f965c5b8a0a81d846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae39a94367627de945ac6195a96320a84"><td class="memItemLeft" align="right" valign="top"><a id="ae39a94367627de945ac6195a96320a84"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MSR_RI</b>&#160;&#160;&#160;0x40</td></tr>
<tr class="separator:ae39a94367627de945ac6195a96320a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27829b8f68456cd99a5e4fb8e827d75d"><td class="memItemLeft" align="right" valign="top"><a id="a27829b8f68456cd99a5e4fb8e827d75d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MSR_DCD</b>&#160;&#160;&#160;0x80</td></tr>
<tr class="separator:a27829b8f68456cd99a5e4fb8e827d75d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">RTSER_MCR_xxx</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="RTSER_MCR_xxx"></a>Modem control bits </p>
</div></td></tr>
<tr class="memitem:a4e06a4335024acce16e3d5d2ae567bd5"><td class="memItemLeft" align="right" valign="top"><a id="a4e06a4335024acce16e3d5d2ae567bd5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MCR_DTR</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:a4e06a4335024acce16e3d5d2ae567bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2a91001db7f49b0c25c0e93351e8b4e"><td class="memItemLeft" align="right" valign="top"><a id="ae2a91001db7f49b0c25c0e93351e8b4e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MCR_RTS</b>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:ae2a91001db7f49b0c25c0e93351e8b4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76c6737f06a2162f11062816fc3cdea1"><td class="memItemLeft" align="right" valign="top"><a id="a76c6737f06a2162f11062816fc3cdea1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MCR_OUT1</b>&#160;&#160;&#160;0x04</td></tr>
<tr class="separator:a76c6737f06a2162f11062816fc3cdea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8cf4b1ae9b06bb7947bb000da6ea989"><td class="memItemLeft" align="right" valign="top"><a id="ae8cf4b1ae9b06bb7947bb000da6ea989"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MCR_OUT2</b>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:ae8cf4b1ae9b06bb7947bb000da6ea989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e7e082d526f3a9206ef31836715656"><td class="memItemLeft" align="right" valign="top"><a id="aa4e7e082d526f3a9206ef31836715656"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTSER_MCR_LOOP</b>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:aa4e7e082d526f3a9206ef31836715656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Sub-Classes of RTDM_CLASS_SERIAL</div></td></tr>
<tr class="memitem:a78e64099c05c2065ec1f18c1d052127f"><td class="memItemLeft" align="right" valign="top"><a id="a78e64099c05c2065ec1f18c1d052127f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTDM_SUBCLASS_16550A</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a78e64099c05c2065ec1f18c1d052127f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">IOCTLs</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="SERIOCTLs"></a>Serial device IOCTLs </p>
</div></td></tr>
<tr class="memitem:afbfd8a6d374a8a5e56743b4964791613"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#afbfd8a6d374a8a5e56743b4964791613">RTSER_RTIOC_GET_CONFIG</a>&#160;&#160;&#160;_IOR(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x00, struct rtser_config)</td></tr>
<tr class="memdesc:afbfd8a6d374a8a5e56743b4964791613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get serial device configuration.  <a href="#afbfd8a6d374a8a5e56743b4964791613">More...</a><br /></td></tr>
<tr class="separator:afbfd8a6d374a8a5e56743b4964791613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138321c1f5bba234c8a7d7fc912aaaf8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#a138321c1f5bba234c8a7d7fc912aaaf8">RTSER_RTIOC_SET_CONFIG</a>&#160;&#160;&#160;_IOW(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x01, struct rtser_config)</td></tr>
<tr class="memdesc:a138321c1f5bba234c8a7d7fc912aaaf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set serial device configuration.  <a href="#a138321c1f5bba234c8a7d7fc912aaaf8">More...</a><br /></td></tr>
<tr class="separator:a138321c1f5bba234c8a7d7fc912aaaf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4feb4c648dddaa501281e3a29de458"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#ada4feb4c648dddaa501281e3a29de458">RTSER_RTIOC_GET_STATUS</a>&#160;&#160;&#160;_IOR(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x02, struct rtser_status)</td></tr>
<tr class="memdesc:ada4feb4c648dddaa501281e3a29de458"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get serial device status.  <a href="#ada4feb4c648dddaa501281e3a29de458">More...</a><br /></td></tr>
<tr class="separator:ada4feb4c648dddaa501281e3a29de458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae705dcfe97c6b8bf278ed0bef28d31dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#ae705dcfe97c6b8bf278ed0bef28d31dd">RTSER_RTIOC_GET_CONTROL</a>&#160;&#160;&#160;_IOR(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x03, int)</td></tr>
<tr class="memdesc:ae705dcfe97c6b8bf278ed0bef28d31dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get serial device's modem contol register.  <a href="#ae705dcfe97c6b8bf278ed0bef28d31dd">More...</a><br /></td></tr>
<tr class="separator:ae705dcfe97c6b8bf278ed0bef28d31dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6b907b0537064f156ac0fcadacbb2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#a8a6b907b0537064f156ac0fcadacbb2b">RTSER_RTIOC_SET_CONTROL</a>&#160;&#160;&#160;_IOW(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x04, int)</td></tr>
<tr class="memdesc:a8a6b907b0537064f156ac0fcadacbb2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set serial device's modem contol register.  <a href="#a8a6b907b0537064f156ac0fcadacbb2b">More...</a><br /></td></tr>
<tr class="separator:a8a6b907b0537064f156ac0fcadacbb2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e3c22ccee4a2f49481e7084246c06ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#a3e3c22ccee4a2f49481e7084246c06ff">RTSER_RTIOC_WAIT_EVENT</a>&#160;&#160;&#160;_IOR(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x05, struct rtser_event)</td></tr>
<tr class="memdesc:a3e3c22ccee4a2f49481e7084246c06ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait on serial device events according to previously set mask.  <a href="#a3e3c22ccee4a2f49481e7084246c06ff">More...</a><br /></td></tr>
<tr class="separator:a3e3c22ccee4a2f49481e7084246c06ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
RTSER_BREAK_xxx</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpd73817086f5dcd9d11042479c9f8e4ee"></a><a class="anchor" id="RTSER_BREAK_xxx"></a>Break control </p>
</td></tr>
<tr class="memitem:a6be3258caa1dd379ebabc291d8ff8634"><td class="memItemLeft" align="right" valign="top"><a id="a6be3258caa1dd379ebabc291d8ff8634"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#a6be3258caa1dd379ebabc291d8ff8634">RTSER_BREAK_CLR</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="memdesc:a6be3258caa1dd379ebabc291d8ff8634"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial device configuration. <br /></td></tr>
<tr class="separator:a6be3258caa1dd379ebabc291d8ff8634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292197ca1cd422d0e3c01a032f439f76"><td class="memItemLeft" align="right" valign="top"><a id="a292197ca1cd422d0e3c01a032f439f76"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#a292197ca1cd422d0e3c01a032f439f76">RTSER_BREAK_SET</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:a292197ca1cd422d0e3c01a032f439f76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial device configuration. <br /></td></tr>
<tr class="separator:a292197ca1cd422d0e3c01a032f439f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef25d373fa2096864414e12e0178b2be"><td class="memItemLeft" align="right" valign="top"><a id="aef25d373fa2096864414e12e0178b2be"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>&#160;&#160;&#160;RTDM_CLASS_SERIAL</td></tr>
<tr class="memdesc:aef25d373fa2096864414e12e0178b2be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial device configuration. <br /></td></tr>
<tr class="separator:aef25d373fa2096864414e12e0178b2be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69dd086d74ec4a88038e27f87329ddc8"><td class="memItemLeft" align="right" valign="top"><a id="a69dd086d74ec4a88038e27f87329ddc8"></a>
typedef struct <a class="el" href="structrtser__config.html">rtser_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#a69dd086d74ec4a88038e27f87329ddc8">rtser_config_t</a></td></tr>
<tr class="memdesc:a69dd086d74ec4a88038e27f87329ddc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial device configuration. <br /></td></tr>
<tr class="separator:a69dd086d74ec4a88038e27f87329ddc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a040e8588d5d45e238040f47c594a5597"><td class="memItemLeft" align="right" valign="top"><a id="a040e8588d5d45e238040f47c594a5597"></a>
typedef struct <a class="el" href="structrtser__status.html">rtser_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#a040e8588d5d45e238040f47c594a5597">rtser_status_t</a></td></tr>
<tr class="memdesc:a040e8588d5d45e238040f47c594a5597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial device status. <br /></td></tr>
<tr class="separator:a040e8588d5d45e238040f47c594a5597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39dbf3a90a086cfaedd467ae464fb8ad"><td class="memItemLeft" align="right" valign="top"><a id="a39dbf3a90a086cfaedd467ae464fb8ad"></a>
typedef struct <a class="el" href="structrtser__event.html">rtser_event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtdm_2uapi_2serial_8h.html#a39dbf3a90a086cfaedd467ae464fb8ad">rtser_event_t</a></td></tr>
<tr class="memdesc:a39dbf3a90a086cfaedd467ae464fb8ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional information about serial device events. <br /></td></tr>
<tr class="separator:a39dbf3a90a086cfaedd467ae464fb8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Real-Time Driver Model for Xenomai, serial device profile header. </p>
<dl class="section note"><dt>Note</dt><dd>Copyright (C) 2005-2007 Jan Kiszka <a href="#" onclick="location.href='mai'+'lto:'+'jan'+'.k'+'isz'+'ka'+'@we'+'b.'+'de'; return false;">jan.k<span style="display: none;">.nosp@m.</span>iszk<span style="display: none;">.nosp@m.</span>a@web<span style="display: none;">.nosp@m.</span>.de</a></dd></dl>
<p>This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afcc7277020ca099c41800da5283b33a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcc7277020ca099c41800da5283b33a2">&#9670;&nbsp;</a></span>RTSER_RTIOC_BREAK_CTL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTSER_RTIOC_BREAK_CTL&#160;&#160;&#160;_IOR(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x06, int)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set or clear break on UART output line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td><code>RTSER_BREAK_SET</code> or <code>RTSER_BREAK_CLR</code> (int)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, otherwise negative error code</dd></dl>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">task-unrestricted</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>A set break condition may also be cleared on UART line reconfiguration. </dd></dl>

</div>
</div>
<a id="afbfd8a6d374a8a5e56743b4964791613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbfd8a6d374a8a5e56743b4964791613">&#9670;&nbsp;</a></span>RTSER_RTIOC_GET_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTSER_RTIOC_GET_CONFIG&#160;&#160;&#160;_IOR(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x00, struct rtser_config)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get serial device configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">arg</td><td>Pointer to configuration buffer (struct <a class="el" href="structrtser__config.html" title="Serial device configuration. ">rtser_config</a>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, otherwise negative error code</dd></dl>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">task-unrestricted</a> </dd></dl>

</div>
</div>
<a id="ae705dcfe97c6b8bf278ed0bef28d31dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae705dcfe97c6b8bf278ed0bef28d31dd">&#9670;&nbsp;</a></span>RTSER_RTIOC_GET_CONTROL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTSER_RTIOC_GET_CONTROL&#160;&#160;&#160;_IOR(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x03, int)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get serial device's modem contol register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">arg</td><td>Pointer to variable receiving the content (int, see <a class="el" href="rtdm_2uapi_2serial_8h.html#RTSER_MCR_xxx">RTSER_MCR_xxx</a>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, otherwise negative error code</dd></dl>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">task-unrestricted</a> </dd></dl>

</div>
</div>
<a id="ada4feb4c648dddaa501281e3a29de458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada4feb4c648dddaa501281e3a29de458">&#9670;&nbsp;</a></span>RTSER_RTIOC_GET_STATUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTSER_RTIOC_GET_STATUS&#160;&#160;&#160;_IOR(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x02, struct rtser_status)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get serial device status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">arg</td><td>Pointer to status buffer (struct <a class="el" href="structrtser__status.html" title="Serial device status. ">rtser_status</a>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, otherwise negative error code</dd></dl>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">task-unrestricted</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>The error states <code>RTSER_LSR_OVERRUN_ERR</code>, <code>RTSER_LSR_PARITY_ERR</code>, <code>RTSER_LSR_FRAMING_ERR</code>, and <code>RTSER_SOFT_OVERRUN_ERR</code> that may have occured during previous read accesses to the device will be saved for being reported via this IOCTL. Upon return from <code>RTSER_RTIOC_GET_STATUS</code>, the saved state will be cleared. </dd></dl>

</div>
</div>
<a id="a138321c1f5bba234c8a7d7fc912aaaf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a138321c1f5bba234c8a7d7fc912aaaf8">&#9670;&nbsp;</a></span>RTSER_RTIOC_SET_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTSER_RTIOC_SET_CONFIG&#160;&#160;&#160;_IOW(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x01, struct rtser_config)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set serial device configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Pointer to configuration buffer (struct <a class="el" href="structrtser__config.html" title="Serial device configuration. ">rtser_config</a>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, otherwise:</dd></dl>
<ul>
<li>-EPERM is returned if the caller's context is invalid, see note below.</li>
<li>-ENOMEM is returned if a new history buffer for timestamps cannot be allocated.</li>
</ul>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">task-unrestricted</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>If <a class="el" href="structrtser__config.html" title="Serial device configuration. ">rtser_config</a> contains a valid timestamp_history and the addressed device has been opened in non-real-time context, this IOCTL must be issued in non-real-time context as well. Otherwise, this command will fail. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="cross-link_8c-example.html#a12">cross-link.c</a>.</dd>
</dl>
</div>
</div>
<a id="a8a6b907b0537064f156ac0fcadacbb2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a6b907b0537064f156ac0fcadacbb2b">&#9670;&nbsp;</a></span>RTSER_RTIOC_SET_CONTROL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTSER_RTIOC_SET_CONTROL&#160;&#160;&#160;_IOW(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x04, int)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set serial device's modem contol register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>New control register content (int, see <a class="el" href="rtdm_2uapi_2serial_8h.html#RTSER_MCR_xxx">RTSER_MCR_xxx</a>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, otherwise negative error code</dd></dl>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">task-unrestricted</a> </dd></dl>

</div>
</div>
<a id="a3e3c22ccee4a2f49481e7084246c06ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e3c22ccee4a2f49481e7084246c06ff">&#9670;&nbsp;</a></span>RTSER_RTIOC_WAIT_EVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTSER_RTIOC_WAIT_EVENT&#160;&#160;&#160;_IOR(<a class="el" href="rtdm_2uapi_2serial_8h.html#aef25d373fa2096864414e12e0178b2be">RTIOC_TYPE_SERIAL</a>, 0x05, struct rtser_event)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait on serial device events according to previously set mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">arg</td><td>Pointer to event information buffer (struct <a class="el" href="structrtser__event.html" title="Additional information about serial device events. ">rtser_event</a>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, otherwise:</dd></dl>
<ul>
<li>-EBUSY is returned if another task is already waiting on events of this device.</li>
<li>-EBADF is returned if the file descriptor is invalid or the device has just been closed.</li>
</ul>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">mode-unrestricted</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="cross-link_8c-example.html#a10">cross-link.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_03dba7e891ad9b6681428c00d78e5ff7.html">rtdm</a></li><li class="navelem"><a class="el" href="dir_e7ac2999b22d5b84dd0304695ca4b779.html">uapi</a></li><li class="navelem"><a class="el" href="rtdm_2uapi_2serial_8h.html">serial.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: Level 1 API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__analogy__lib__level1.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Level 1 API<div class="ingroups"><a class="el" href="group__cobalt.html">Cobalt</a> &raquo; <a class="el" href="group__analogy.html">Analogy framework</a> &raquo; <a class="el" href="group__analogy__lib.html">Analogy user API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Level 1 API:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__analogy__lib__level1.png" border="0" alt="" usemap="#group____analogy____lib____level1"/>
<map name="group____analogy____lib____level1" id="group____analogy____lib____level1">
<area shape="rect" id="node1" href="group__analogy__lib.html" title="Analogy user API" alt="" coords="5,56,129,83"/>
<area shape="rect" id="node3" href="group__analogy__lib__sync1.html" title="Synchronous acquisition API" alt="" coords="319,5,510,32"/>
<area shape="rect" id="node4" href="group__analogy__lib__async1.html" title="Asynchronous acquisition API" alt="" coords="316,56,513,83"/>
<area shape="rect" id="node5" href="group__analogy__lib__descriptor1.html" title="Descriptor API" alt="" coords="361,107,469,133"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__analogy__lib__async1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analogy__lib__async1.html">Asynchronous acquisition API</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__analogy__lib__descriptor1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analogy__lib__descriptor1.html">Descriptor API</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__analogy__lib__sync1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analogy__lib__sync1.html">Synchronous acquisition API</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: can_bittime Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structcan__bittime.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">can_bittime Struct Reference<div class="ingroups"><a class="el" href="group__rtdm.html">RTDM</a> &raquo; <a class="el" href="group__rtdm__profiles.html">Device Profiles</a> &raquo; <a class="el" href="group__rtdm__can.html">CAN Devices</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Custom CAN bit-time definition.  
 <a href="structcan__bittime.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for can_bittime:</div>
<div class="dyncontent">
<div class="center"><img src="structcan__bittime__coll__graph.png" border="0" usemap="#can__bittime_coll__map" alt="Collaboration graph"/></div>
<map name="can__bittime_coll__map" id="can__bittime_coll__map">
<area shape="rect" id="node2" href="structcan__bittime__btr.html" title="Hardware&#45;specific BTR bit&#45;times. " alt="" coords="5,5,116,32"/>
<area shape="rect" id="node3" href="structcan__bittime__std.html" title="Standard bit&#45;time parameters according to Bosch. " alt="" coords="141,5,255,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a7635b85b6a373e78cdbed846986e330f"><td class="memItemLeft" align="right" valign="top"><a id="a7635b85b6a373e78cdbed846986e330f"></a>
<a class="el" href="group__rtdm__can.html#ga94a6fb4128854d6fec6e0882df4374f2">can_bittime_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcan__bittime.html#a7635b85b6a373e78cdbed846986e330f">type</a></td></tr>
<tr class="memdesc:a7635b85b6a373e78cdbed846986e330f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of bit-time definition. <br /></td></tr>
<tr class="separator:a7635b85b6a373e78cdbed846986e330f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ff3bc997c3c48090dfcff8876dc909"><td class="memItemLeft" align="right" valign="top"><a id="a63ff3bc997c3c48090dfcff8876dc909"></a>
struct <a class="el" href="structcan__bittime__std.html">can_bittime_std</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcan__bittime.html#a63ff3bc997c3c48090dfcff8876dc909">std</a></td></tr>
<tr class="memdesc:a63ff3bc997c3c48090dfcff8876dc909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard bit-time. <br /></td></tr>
<tr class="separator:a63ff3bc997c3c48090dfcff8876dc909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1553dfa8833111c9b6f1dc2ab4984b72"><td class="memItemLeft" align="right" valign="top"><a id="a1553dfa8833111c9b6f1dc2ab4984b72"></a>
struct <a class="el" href="structcan__bittime__btr.html">can_bittime_btr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcan__bittime.html#a1553dfa8833111c9b6f1dc2ab4984b72">btr</a></td></tr>
<tr class="memdesc:a1553dfa8833111c9b6f1dc2ab4984b72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hardware-spcific BTR bit-time. <br /></td></tr>
<tr class="separator:a1553dfa8833111c9b6f1dc2ab4984b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Custom CAN bit-time definition. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rtcanconfig_8c-example.html#_a6">rtcanconfig.c</a>.</dd>
</dl></div><hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/rtdm/uapi/<a class="el" href="rtdm_2uapi_2can_8h_source.html">can.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structcan__bittime.html">can_bittime</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <map id="Thread state flags" name="Thread state flags">
<area shape="rect" id="node2" href="$group__cobalt__core__thread.html" title="Thread services" alt="" coords="5,5,120,32"/>
</map>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <map id="kernel/drivers/net/stack/include/rtmac/tdma" name="kernel/drivers/net/stack/include/rtmac/tdma">
<area shape="rect" id="node1" href="dir_7c340c674e6bc95566ac99b0e1aee1bf.html" title="tdma" alt="" coords="27,52,99,100"/>
<area shape="rect" id="node2" href="dir_d44c64559bbebec7f509842c48db8b23.html" title="include" alt="" coords="27,148,99,196"/>
<area shape="rect" id="edge1-headlabel" href="dir_000111_000000.html" title="2" alt="" coords="67,122,75,137"/>
<area shape="rect" id="clust1" href="dir_e3ff85403d6568c41ddf37070f0aec6a.html" title="rtmac" alt="" coords="16,16,109,111"/>
</map>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/drivers/ipc Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dir_90e507647b4148fa7250242083669883.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">ipc Directory Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Directory dependency graph for ipc:</div>
<div class="dyncontent">
<div class="center"><img src="dir_90e507647b4148fa7250242083669883_dep.png" border="0" usemap="#dir__90e507647b4148fa7250242083669883__dep" alt="kernel/drivers/ipc"/></div>
<map name="dir__90e507647b4148fa7250242083669883__dep" id="dir__90e507647b4148fa7250242083669883__dep">
<area shape="rect" id="node1" href="dir_90e507647b4148fa7250242083669883.html" title="ipc" alt="" coords="27,52,99,100"/>
<area shape="rect" id="node2" href="dir_d44c64559bbebec7f509842c48db8b23.html" title="include" alt="" coords="27,148,99,196"/>
<area shape="rect" id="edge1-headlabel" href="dir_000083_000000.html" title="2" alt="" coords="67,122,75,137"/>
<area shape="rect" id="clust1" href="dir_0de1d64efa6df97eacc8f5b0f9da3e59.html" title="drivers" alt="" coords="16,16,109,111"/>
</map>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_0de1d64efa6df97eacc8f5b0f9da3e59.html">drivers</a></li><li class="navelem"><a class="el" href="dir_90e507647b4148fa7250242083669883.html">ipc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: kernel/drivers/net/stack/include/rtmac/tdma/tdma_dev.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tdma__dev_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">tdma_dev.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  include/rtmac/tdma/tdma_dev.h</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *  RTmac - real-time networking media access control subsystem</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *  Copyright (C) 2002       Marc Kleine-Budde &lt;kleine-budde@gmx.de&gt;,</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *                2003, 2004 Jan Kiszka &lt;Jan.Kiszka@web.de&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *  This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *  it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *  the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *  (at your option) any later version.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *  This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *  GNU General Public License for more details.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *  You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *  along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifndef __TDMA_DEV_H_</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define __TDMA_DEV_H_</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;rtmac/tdma/tdma.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keywordtype">int</span> tdma_dev_init(<span class="keyword">struct</span> rtnet_device *rtdev, <span class="keyword">struct</span> tdma_priv *tdma);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> tdma_dev_release(<span class="keyword">struct</span> tdma_priv *tdma)</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="group__rtdm__device__register.html#gafbe43e78f3b5eb9c164c8b7fa3cc1aa8">rtdm_dev_unregister</a>(&amp;tdma-&gt;api_device);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* __TDMA_DEV_H_ */</span><span class="preprocessor"></span></div><div class="ttc" id="group__rtdm__device__register_html_gafbe43e78f3b5eb9c164c8b7fa3cc1aa8"><div class="ttname"><a href="group__rtdm__device__register.html#gafbe43e78f3b5eb9c164c8b7fa3cc1aa8">rtdm_dev_unregister</a></div><div class="ttdeci">void rtdm_dev_unregister(struct rtdm_device *device)</div><div class="ttdoc">Unregister a RTDM device. </div><div class="ttdef"><b>Definition:</b> device.c:525</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_0de1d64efa6df97eacc8f5b0f9da3e59.html">drivers</a></li><li class="navelem"><a class="el" href="dir_8faba7cfaeef8234fe60b782e3350bd8.html">net</a></li><li class="navelem"><a class="el" href="dir_e614b3ce25858471dec7750aa978f100.html">stack</a></li><li class="navelem"><a class="el" href="dir_70ee7780aa60a0265985c984e695c97b.html">include</a></li><li class="navelem"><a class="el" href="dir_e3ff85403d6568c41ddf37070f0aec6a.html">rtmac</a></li><li class="navelem"><a class="el" href="dir_7c340c674e6bc95566ac99b0e1aee1bf.html">tdma</a></li><li class="navelem"><b>tdma_dev.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: lib/cobalt/arch/powerpc/include/asm/xenomai/tsc.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('lib_2cobalt_2arch_2powerpc_2include_2asm_2xenomai_2tsc_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">tsc.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2001,2002,2003,2004 Philippe Gerum &lt;rpm@xenomai.org&gt;.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</sp